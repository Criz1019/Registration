if (self.CavalryLogger) { CavalryLogger.start_js(["9oIoO"]); }

__d("AdsUEditorCampaignSetLeadGenFormatActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_CAMPAIGN_LEAD_GEN_FORMAT_SWITCH"}}),null);
__d("AdsCampaignBudgetPluginType",[],(function(a,b,c,d,e,f){"use strict";e.exports={order:["objective","promotedObjectType"]}}),null);
__d("AdsCanvasAppConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({DEFAULT_DAILY_BUDGET:2e3});e.exports=a}),null);
__d("AdsCanvasAppCampaignBudgetPluginCommon",["AdsCanvasAppConstants"],(function(a,b,c,d,e,f){"use strict";a={getBaseDefaultDailyBudgetUSD:function(a){return b("AdsCanvasAppConstants").DEFAULT_DAILY_BUDGET}};e.exports=a}),null);
__d("AdsDefaultCampaignBudgetPlugin",["CampaignDefaultBudgetConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=parseInt(b("CampaignDefaultBudgetConfig").campaign_length_month,10);a={type:"campaign/budget",key:"default",pivots:{},getDefaultLifetimeBudgetUSD:function(a,b){return this.getBaseDefaultLifetimeBudgetUSD(a,b)},getBaseDefaultLifetimeBudgetUSD:function(a,c){return b("CampaignDefaultBudgetConfig").default_budget.lifetime},getDefaultDailyBudgetUSD:function(a){return this.getBaseDefaultDailyBudgetUSD(a)},getBaseDefaultDailyBudgetUSD:function(a){return b("CampaignDefaultBudgetConfig").default_budget.daily},getDefaultEndDate:function(a,b,c){b=new Date(a);b.setMonth(b.getMonth()+g);return b}};e.exports=a}),null);
__d("AdsAppInstallsCanvasAppCampaignBudgetPlugin",["AdsAPIObjectives","AdsCanvasAppCampaignBudgetPluginCommon","AdsCanvasAppConstants","AdsDefaultCampaignBudgetPlugin","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultCampaignBudgetPlugin"),b("AdsCanvasAppCampaignBudgetPluginCommon"),{type:"campaign/budget",key:"app-installs/canvas-app",pivots:{objective:b("AdsAPIObjectives").APP_INSTALLS,promotedObjectType:b("AdsPromotedObjectTypes").CANVAS_APP},getDefaultDailyBudgetUSD:function(a){return b("AdsCanvasAppConstants").DEFAULT_DAILY_BUDGET}});e.exports=a}),null);
__d("AdsMobileAppCampaignBudgetPluginCommon",["AdsDefaultCampaignBudgetPlugin"],(function(a,b,c,d,e,f){"use strict";var g=4e3;a={getDefaultDailyBudgetUSD:function(a){var c=b("AdsDefaultCampaignBudgetPlugin").getDefaultDailyBudgetUSD(a);a=this.getBaseDefaultDailyBudgetUSD(a);return Math.max(c,a)},getBaseDefaultDailyBudgetUSD:function(a){return g}};e.exports=a}),null);
__d("AdsAppInstallsMobileAppCampaignBudgetPlugin",["AdsAPIObjectives","AdsDefaultCampaignBudgetPlugin","AdsMobileAppCampaignBudgetPluginCommon","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultCampaignBudgetPlugin"),b("AdsMobileAppCampaignBudgetPluginCommon"),{type:"campaign/budget",key:"app-installs/app",pivots:{objective:b("AdsAPIObjectives").APP_INSTALLS,promotedObjectType:b("AdsPromotedObjectTypes").MOBILE_APP}});e.exports=a}),null);
__d("AdsCanvasAppEngagementCampaignBudgetPlugin",["AdsAPIObjectives","AdsCanvasAppCampaignBudgetPluginCommon","AdsDefaultCampaignBudgetPlugin"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultCampaignBudgetPlugin"),b("AdsCanvasAppCampaignBudgetPluginCommon"),{type:"campaign/budget",key:"canvas-app-engagement",pivots:{objective:b("AdsAPIObjectives").CANVAS_APP_ENGAGEMENT}});e.exports=a}),null);
__d("AdsCanvasAppInstallsCampaignBudgetPlugin",["AdsAPIObjectives","AdsDefaultCampaignBudgetPlugin"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultCampaignBudgetPlugin"),{type:"campaign/budget",key:"canvas-app-installs",pivots:{objective:b("AdsAPIObjectives").CANVAS_APP_INSTALLS}});e.exports=a}),null);
__d("AdsConversionsAppCampaignBudgetPlugin",["AdsAPIObjectives","AdsDefaultCampaignBudgetPlugin","AdsMobileAppCampaignBudgetPluginCommon","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultCampaignBudgetPlugin"),b("AdsMobileAppCampaignBudgetPluginCommon"),{type:"campaign/budget",key:"conversions/app",pivots:{objective:b("AdsAPIObjectives").CONVERSIONS,promotedObjectType:b("AdsPromotedObjectTypes").MOBILE_APP}});e.exports=a}),null);
__d("AdsWebsiteCampaignBudgetPluginCommon",[],(function(a,b,c,d,e,f){"use strict";var g=2e3;a={getBaseDefaultDailyBudgetUSD:function(a){return g}};e.exports=a}),null);
__d("AdsConversionsCampaignBudgetPlugin",["AdsAPIObjectives","AdsDefaultCampaignBudgetPlugin","AdsWebsiteCampaignBudgetPluginCommon"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultCampaignBudgetPlugin"),b("AdsWebsiteCampaignBudgetPluginCommon"),{type:"campaign/budget",key:"conversions",pivots:{objective:b("AdsAPIObjectives").CONVERSIONS}});e.exports=a}),null);
__d("AdsScheduleDataLoader",["AdsGraphAPI"],(function(a,b,c,d,e,f){"use strict";a={fetchEventEndDate:function(a){return b("AdsGraphAPI").get(e.id).object("promotable_event",a).batched().get({fields:["end_time"]})}};e.exports=a}),null);
__d("AdsScheduleDataDispatcher",["AdsScheduleDataLoader","AdsScheduleEndDateLoadedAction","promiseDone"],(function(a,b,c,d,e,f){"use strict";a={getEventEndDate:function(a){b("promiseDone")(b("AdsScheduleDataLoader").fetchEventEndDate(a),function(a){b("AdsScheduleEndDateLoadedAction").dispatch({data:a},{line:"20",module:"AdsScheduleDataDispatcher.js"})})}};e.exports=a}),null);
__d("AdsScheduleStore",["AdsDataAtom","AdsLoadState_LEGACY","AdsScheduleDataDispatcher","AdsScheduleEndDateLoadedActionFlux","FluxStore","URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("AdsDataAtom"))||this;c.$AdsScheduleStoreClass1={date:null,loadState:b("AdsLoadState_LEGACY").NOT_LOADED};return c}var d=c.prototype;d.getEndDate=function(){if(this.$AdsScheduleStoreClass1.loadState===b("AdsLoadState_LEGACY").LOADING)return this.$AdsScheduleStoreClass1;if(this.$AdsScheduleStoreClass1.loadState===b("AdsLoadState_LEGACY").NOT_LOADED){var a=new(g||(g=b("URI")))(window.location.href);a=a.getQueryData();a&&a.fbid&&b("AdsScheduleDataDispatcher").getEventEndDate(a.fbid)}return this.$AdsScheduleStoreClass1};d.__onDispatch=function(a){a=a.action;var c=a.data,d=a.type;d||a.actionType;switch(a.type){case b("AdsScheduleEndDateLoadedActionFlux").actionType:this.$AdsScheduleStoreClass1.loadState=b("AdsLoadState_LEGACY").LOADED;this.$AdsScheduleStoreClass1.date=new Date(c.end_time);break}};return c}(b("FluxStore"));a.__moduleID=e.id;c=new a();e.exports=c}),null);
__d("AdsEventResponsesCampaignBudgetPlugin",["AdsAPIObjectives","AdsDefaultCampaignBudgetPlugin","AdsScheduleStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1100;a=babelHelpers["extends"]({},b("AdsDefaultCampaignBudgetPlugin"),{type:"campaign/budget",key:"event-responses",pivots:{objective:b("AdsAPIObjectives").EVENT_RESPONSES},getDefaultEndDate:function(a,c,d){if(!c){var e=b("AdsScheduleStore").getEndDate();if(e&&e.date)return e.date;else return b("AdsDefaultCampaignBudgetPlugin").getDefaultEndDate(a,c,d)}return c},getBaseDefaultDailyBudgetUSD:function(a){return g}});e.exports=a}),null);
__d("AdsLeadGenerationCampaignBudgetPlugin",["AdsAPIObjectives","AdsDefaultCampaignBudgetPlugin","AdsWebsiteCampaignBudgetPluginCommon"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultCampaignBudgetPlugin"),b("AdsWebsiteCampaignBudgetPluginCommon"),{type:"campaign/budget",key:"lead-generation",pivots:{objective:b("AdsAPIObjectives").LEAD_GENERATION}});e.exports=a}),null);
__d("AdsLinkClicksAppCampaignBudgetPlugin",["AdsAPIObjectives","AdsDefaultCampaignBudgetPlugin","AdsMobileAppCampaignBudgetPluginCommon","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultCampaignBudgetPlugin"),b("AdsMobileAppCampaignBudgetPluginCommon"),{type:"campaign/budget",key:"link-clicks/app",pivots:{objective:b("AdsAPIObjectives").LINK_CLICKS,promotedObjectType:b("AdsPromotedObjectTypes").MOBILE_APP}});e.exports=a}),null);
__d("AdsLinkClicksCampaignBudgetPlugin",["AdsAPIObjectives","AdsDefaultCampaignBudgetPlugin","AdsWebsiteCampaignBudgetPluginCommon"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultCampaignBudgetPlugin"),b("AdsWebsiteCampaignBudgetPluginCommon"),{type:"campaign/budget",key:"link-clicks",pivots:{objective:b("AdsAPIObjectives").LINK_CLICKS}});e.exports=a}),null);
__d("AdsLinkClicksCanvasAppCampaignBudgetPlugin",["AdsAPIObjectives","AdsCanvasAppCampaignBudgetPluginCommon","AdsDefaultCampaignBudgetPlugin","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultCampaignBudgetPlugin"),b("AdsCanvasAppCampaignBudgetPluginCommon"),{type:"campaign/budget",key:"link-clicks/canvas-app",pivots:{objective:b("AdsAPIObjectives").LINK_CLICKS,promotedObjectType:b("AdsPromotedObjectTypes").CANVAS_APP}});e.exports=a}),null);
__d("AdsMessagesMessengerCampaignBudgetPlugin",["AdsAccountStore","AdsAPIObjectives","AdsDefaultCampaignBudgetPlugin","AdsPromotedObjectTypes","AdsWebsiteCampaignBudgetPluginCommon","adsAccountGK"],(function(a,b,c,d,e,f){"use strict";var g=500,h=2e3;function i(){return b("adsAccountGK")._(b("AdsAccountStore").getSelectedAccount().getValue(),"9ateG11az")}a=babelHelpers["extends"]({},b("AdsDefaultCampaignBudgetPlugin"),b("AdsWebsiteCampaignBudgetPluginCommon"),{type:"campaign/budget",key:"messages/messenger",pivots:{objective:b("AdsAPIObjectives").MESSAGES,promotedObjectType:b("AdsPromotedObjectTypes").MESSENGER},getBaseDefaultDailyBudgetUSD:function(a){return i()?h:g},getDefaultDailyBudgetUSD:function(a){return i()?h:g}});e.exports=a}),null);
__d("AdsMessagesWhatsAppCampaignBudgetPlugin",["AdsAPIObjectives","AdsDefaultCampaignBudgetPlugin","AdsPromotedObjectTypes","AdsWebsiteCampaignBudgetPluginCommon"],(function(a,b,c,d,e,f){"use strict";var g=500;a=babelHelpers["extends"]({},b("AdsDefaultCampaignBudgetPlugin"),b("AdsWebsiteCampaignBudgetPluginCommon"),{type:"campaign/budget",key:"messages/whatsapp",pivots:{objective:b("AdsAPIObjectives").MESSAGES,promotedObjectType:b("AdsPromotedObjectTypes").WHATSAPP},getBaseDefaultDailyBudgetUSD:function(a){return g},getDefaultDailyBudgetUSD:function(a){return g}});e.exports=a}),null);
__d("AdsMobileAppEngagementCampaignBudgetPlugin",["AdsAPIObjectives","AdsDefaultCampaignBudgetPlugin","AdsMobileAppCampaignBudgetPluginCommon"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultCampaignBudgetPlugin"),b("AdsMobileAppCampaignBudgetPluginCommon"),{type:"campaign/budget",key:"mobile-app-engagement",pivots:{objective:b("AdsAPIObjectives").MOBILE_APP_ENGAGEMENT}});e.exports=a}),null);
__d("AdsMobileAppInstallsCampaignBudgetPlugin",["AdsAPIObjectives","AdsDefaultCampaignBudgetPlugin","AdsMobileAppCampaignBudgetPluginCommon"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultCampaignBudgetPlugin"),b("AdsMobileAppCampaignBudgetPluginCommon"),{type:"campaign/budget",key:"mobile-app-installs",pivots:{objective:b("AdsAPIObjectives").MOBILE_APP_INSTALLS}});e.exports=a}),null);
__d("AdsOfferClaimsCampaignBudgetPlugin",["AdsAPIObjectives","AdsDefaultCampaignBudgetPlugin"],(function(a,b,c,d,e,f){"use strict";var g=1100;a=babelHelpers["extends"]({},b("AdsDefaultCampaignBudgetPlugin"),{type:"campaign/budget",key:"offer-claims",pivots:{objective:b("AdsAPIObjectives").OFFER_CLAIMS},getBaseDefaultDailyBudgetUSD:function(a){return g}});e.exports=a}),null);
__d("AdsPageLikesCampaignBudgetPlugin",["AdsAPIObjectives","AdsDefaultCampaignBudgetPlugin"],(function(a,b,c,d,e,f){"use strict";var g={daily:2500,lifetime:5e4};a=babelHelpers["extends"]({},b("AdsDefaultCampaignBudgetPlugin"),{type:"campaign/budget",key:"page-likes",pivots:{objective:b("AdsAPIObjectives").PAGE_LIKES},getBaseDefaultDailyBudgetUSD:function(a){return g.daily},getBaseDefaultLifetimeBudgetUSD:function(a){return g.lifetime},shouldOverrideDailyBudgetWithDestination:function(){return!0}});e.exports=a}),null);
__d("AdsPostEngagementCampaignBudgetPlugin",["AdsAPIObjectives","AdsDefaultCampaignBudgetPlugin"],(function(a,b,c,d,e,f){"use strict";var g=1100;a=babelHelpers["extends"]({},b("AdsDefaultCampaignBudgetPlugin"),{type:"campaign/budget",key:"post-engagement",pivots:{objective:b("AdsAPIObjectives").POST_ENGAGEMENT},getBaseDefaultDailyBudgetUSD:function(a){return g},shouldOverrideDailyBudgetWithDestination:function(){return!0}});e.exports=a}),null);
__d("AdsProductCatalogSalesCampaignBudgetPlugin",["AdsAPIObjectives","AdsDefaultCampaignBudgetPlugin"],(function(a,b,c,d,e,f){"use strict";var g=1e4;a=babelHelpers["extends"]({},b("AdsDefaultCampaignBudgetPlugin"),{type:"campaign/budget",key:"product-catalog-sales",pivots:{objective:b("AdsAPIObjectives").PRODUCT_CATALOG_SALES},getBaseDefaultDailyBudgetUSD:function(a){return g}});e.exports=a}),null);
__d("AdsVideoViewsCampaignBudgetPlugin",["AdsAPIObjectives","AdsApplicationIDs","AdsDefaultCampaignBudgetPlugin","CampaignDefaultBudgetConfig"],(function(a,b,c,d,e,f){"use strict";var g={daily:2e3,lifetime:5e4};a=babelHelpers["extends"]({},b("AdsDefaultCampaignBudgetPlugin"),{type:"campaign/budget",key:"video-views",pivots:{objective:b("AdsAPIObjectives").VIDEO_VIEWS},_shouldOverrideDefaultBudgets:function(a){return a===b("AdsApplicationIDs").ADS_CREATOR||a===b("AdsApplicationIDs").ADS_CAMPAIGN_MANAGER||a===b("AdsApplicationIDs").ADS_POWER_EDITOR},getBaseDefaultDailyBudgetUSD:function(a){return this._shouldOverrideDefaultBudgets(a)?g.daily:b("CampaignDefaultBudgetConfig").default_budget.daily},getBaseDefaultLifetimeBudgetUSD:function(a){return this._shouldOverrideDefaultBudgets(a)?g.lifetime:b("CampaignDefaultBudgetConfig").default_budget.lifetime}});e.exports=a}),null);
__d("AdsCampaignBudgetPluginResolver",["AdsCampaignBudgetPluginType","adsPluginResolverFactory","AdsCampaignBudgetPlugins"],(function(a,b,c,d,e,f){"use strict";a=b("AdsCampaignBudgetPluginType").order;c=b("adsPluginResolverFactory")(function(){return b("AdsCampaignBudgetPlugins").getArray()},a);e.exports=c}),null);
__d("adsCampaignGetDefaultDailyBudget",["URIInitDataUtil","WebApiApplication","adsCampaignConvertUSDBudgetToCurrency"],(function(a,b,c,d,e,f){"use strict";var g=100,h=1e4;function a(a,c){c=c.getDefaultDailyBudgetUSD(b("WebApiApplication").getClientID());var d=b("URIInitDataUtil").getDailyBudget();d!=null&&d>=g&&d<=h&&(c=d);return b("adsCampaignConvertUSDBudgetToCurrency")(a,c)}e.exports=a}),null);
__d("AdsCampaignMutatorUtils",["AdsAPIBidStrategies","AdsAPIBillingEvents","AdsAPIObjectives","AdsAPIOptimizationGoals","AdsCampaignBudgetPluginResolver","AdsCampaignRecordAccessors","AdsMutators","AdsPromotedObjectTypes","adsAccountGK","adsCampaignGetDefaultDailyBudget","adsCampaignGetDefaultStartDate","adsCampaignGetISODateTimeString","adsCampaignIsCampaignGroupBudget","isFalsey"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){return c!==b("AdsAPIObjectives").MESSAGES?a:a.withMutations(function(a){b("AdsCampaignRecordAccessors").billing_event.set(b("AdsAPIBillingEvents").IMPRESSIONS,a),b("AdsCampaignRecordAccessors").optimization_goal.set(b("adsAccountGK")._(d,"2iKPyfQrp")?b("AdsAPIOptimizationGoals").CONVERSATIONS:b("AdsAPIOptimizationGoals").REPLIES,a),b("adsCampaignIsCampaignGroupBudget")(a)||(b("AdsCampaignRecordAccessors").bid_strategy.set(b("AdsAPIBidStrategies").LOWEST_COST_WITHOUT_CAP,a),b("AdsCampaignRecordAccessors").is_autobid.set(!0,a),b("AdsCampaignRecordAccessors").is_average_price_pacing.set(!1,a)),b("AdsCampaignRecordAccessors").bid_amount["delete"](a)})}function c(a){return b("AdsCampaignRecordAccessors").promoted_object.page_id["delete"](a)}function d(a,c){var d;c=c.business_country_code;return b("isFalsey")(c)||((d=a.targeting.geo_locations)==null?void 0:d.countries)?a:b("AdsCampaignRecordAccessors").targeting.geo_locations.countries.set([c],a)}function f(a,c){var d=c.currency;c=c.timezone_offset_hours_utc;var e=b("adsCampaignGetDefaultStartDate")();e=b("AdsMutators").chain(b("AdsCampaignRecordAccessors").start_time.set(b("adsCampaignGetISODateTimeString")(e,c)),b("AdsCampaignRecordAccessors").end_time["delete"])(a);if(b("adsCampaignIsCampaignGroupBudget")(e))return e;c=b("adsCampaignGetDefaultDailyBudget")(d,b("AdsCampaignBudgetPluginResolver").resolve({objective:b("AdsAPIObjectives").MESSAGES,promotedObjectType:b("AdsPromotedObjectTypes").MESSENGER}));return b("AdsMutators").chain(b("AdsCampaignRecordAccessors").daily_budget.set(c),b("AdsCampaignRecordAccessors").lifetime_budget.set(0))(e)}e.exports={setOptimizationForMessengerPromotedObject:a,removePromotedObjectPageID:c,setCountryForMessengerPromotedObject:d,setDefaultBudgetForMessengerPromotedObject:f}}),null);
__d("AdsPlacementReducerUtils",["AdsAPICampaignPaths","AdsAPIDevicePlatform","AdsCampaignRecordAccessors","AdsPlacementAPISpecDefaultsUtils","AdsPlacementAPISpecReaderUtils","AdsPlacementAPISpecWriterUtils","AdsPlacementConstants","AdsPlacementUtils","AdsUserDeviceTypes","immutable","isTruthy","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementConstants").PLACEMENT_FIELD_TO_AD_SET_PATHS,h=b("AdsPlacementConstants").PLACEMENT_MOBILE_OPTIONS_FIELDS;function i(a){var c=a.setIn(b("AdsAPICampaignPaths").PLACEMENT,b("immutable").fromJS(b("AdsPlacementAPISpecReaderUtils").convertCampaignRecordToPlacementSpec(a)));a=(a=a.saved_audience)==null?void 0:a.id;b("isTruthy")(a)&&(c=b("AdsCampaignRecordAccessors").saved_audience_id.set(a,c));return c}function a(a,c){return a.setIn(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_PUBLISHER_CATEGORIES,b("immutable").List(c))}function c(a,c){return a.setIn(b("AdsAPICampaignPaths").TARGETING.BRAND_SAFETY_CONTENT_FILTER_LEVELS,b("immutable").List(c))}function j(a){return a.withMutations(function(a){h.forEach(function(c){c=b("nullthrows")(g.get(c));a.deleteIn(c)})})}function k(a,c){var d,e;a=a;a=a.setIn((d=b("AdsAPICampaignPaths")).TARGETING.PUBLISHER_PLATFORMS,(e=b("AdsPlacementAPISpecDefaultsUtils")).getPublisherPlatforms(c));a=a.setIn(d.TARGETING.FACEBOOK_POSITIONS,e.getPositionsForPlatform("facebook",c));a=a.setIn(d.TARGETING.INSTAGRAM_POSITIONS,e.getPositionsForPlatform("instagram",c));a=a.setIn(d.TARGETING.MESSENGER_POSITIONS,e.getPositionsForPlatform("messenger",c));a=a.setIn(d.TARGETING.AUDIENCE_NETWORK_POSITIONS,e.getPositionsForPlatform("audience_network",c));a=a.setIn(d.TARGETING.WHATSAPP_POSITIONS,e.getPositionsForPlatform("whatsapp",c));return a}function d(a,c,d){var e=c?b("immutable").List(c):b("AdsPlacementAPISpecDefaultsUtils").getDevicePlatforms(d);a=a.setIn(b("AdsAPICampaignPaths").TARGETING.DEVICE_PLATFORMS,e);c&&c.length===1&&c[0]===b("AdsAPIDevicePlatform").DESKTOP&&(a=j(a));a=k(a,babelHelpers["extends"]({},d,{spec:babelHelpers["extends"]({},d.spec,{device_platforms:e.toJS()})}));a=b("AdsPlacementAPISpecWriterUtils").resetDevicesIfIneligible(a,d,!1);return a}function f(a,c){var d=b("AdsPlacementAPISpecDefaultsUtils").getUserDeviceAndOS(c),e=d.userOS;d=d.userDevices;c=c===b("AdsUserDeviceTypes").DIRECT_INSTALL;e=a.setIn((a=b("AdsAPICampaignPaths")).TARGETING.USER_OS,b("immutable").List(e)).setIn(a.TARGETING.USER_DEVICE,b("immutable").List(d)).setIn(a.TARGETING.EXCLUDED_USER_DEVICE,b("immutable").List()).setIn(a.TARGETING.DIRECT_INSTALL_DEVICES,c);if(c){e=e.setIn((a=b("AdsAPICampaignPaths")).TARGETING.INSTAGRAM_POSITIONS,(d=b("immutable")).List()).setIn(a.TARGETING.PUBLISHER_PLATFORMS,d.List(["facebook"])).setIn(a.TARGETING.FACEBOOK_POSITIONS,d.List(["feed"])).setIn(a.TARGETING.GEO_LOCATIONS.COUNTRIES,d.List(["US"])).setIn(a.TARGETING.AUDIENCE_NETWORK_POSITIONS,d.List()).setIn(a.TARGETING.WHATSAPP_POSITIONS,d.List()).setIn(a.TARGETING.MESSENGER_POSITIONS,d.List())}return e}function l(a,c){c=b("AdsPlacementUtils").getAutomaticCampaignPlacement(c);return i(b("AdsPlacementAPISpecWriterUtils").setCampaignPlacement(a,c))}function m(a,c){return a.setIn((a=b("AdsAPICampaignPaths")).TARGETING.USER_OS,c.spec.user_os).setIn(a.TARGETING.EXCLUDED_USER_DEVICE,c.spec.excluded_user_device).setIn(a.TARGETING.USER_DEVICE,c.spec.user_device).setIn(a.TARGETING.WIRELESS_CARRIER,c.spec.wireless_carrier)}e.exports={clearUpMobileSettings:j,clearUpPlacementSettings:k,mergeMobilePlacementData:m,setBrandSafetyContentFilterLevel:c,setDevicePlatform:d,setExcludedCategories:a,setMobileDeviceType:f,resetPlacement:l,updatePlacementSpec:i}}),null);
__d("AdsSetMessengerPromotedObjectSource",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({SELECT_CLICK_TO_MESSENGER_IN_CF:null,SELECT_CLICK_TO_MESSENGER_IN_PE:null,SELECT_SPONSORED_MESSAGE_IN_CF:null,SELECT_SPONSORED_MESSAGE_IN_PE:null});e.exports=a}),null);
__d("AdsUEditorCampaignSetMessengerPromotedObjectTypeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CAMPAIGN.SET_MESSENGER_PROMOTED_OBJECT_TYPE"}}),null);
__d("adsCampaignGetImpressionsLimit",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return Math.floor(a/b*1e3)}e.exports=a}),null);
__d("adsDeliveryUpdateClickThroughAttributionWindow",["AccountAttributionEvent"],(function(a,b,c,d,e,f){"use strict";function a(a,c){c={event_type:b("AccountAttributionEvent").CLICK_THROUGH,window_days:c};return a.filter(function(a){return a.event_type!==b("AccountAttributionEvent").CLICK_THROUGH}).concat([c])}e.exports=a}),null);
__d("adsDeliveryUpdateViewThroughAttributionWindow",["AccountAttributionEvent"],(function(a,b,c,d,e,f){"use strict";function a(a,c){if(c==null)return a.filter(function(a){return a.event_type!==b("AccountAttributionEvent").VIEW_THROUGH});c={event_type:b("AccountAttributionEvent").VIEW_THROUGH,window_days:c};return a.filter(function(a){return a.event_type!==b("AccountAttributionEvent").VIEW_THROUGH}).concat([c])}e.exports=a}),null);
__d("AdsUEditorCampaignMutators",["AdsAPIBidStrategies","AdsAPIBillingEvents","AdsAPICampaignPaths","AdsAPICampaignRecordUtils","AdsAPIObjectives","AdsAPIOptimizationGoals","AdsAppUtils","AdsAudienceDirectConfig","AdsCampaignOptimizationPluginResolver","AdsCampaignRecordAccessors","AdsFrequencyControlEditorUtils","AdsOptimizationUtils","adsBillingEventGetDefaultDEPRECATED","adsCampaignGetBudgetMode","adsCampaignGetImpressionsLimit","adsDeliveryUpdateClickThroughAttributionWindow","adsDeliveryUpdateViewThroughAttributionWindow","isFalsey"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d,e,f,g,h,i,j){var k=b("AdsAPICampaignRecordUtils").getPromotedObjectType(f,d);c=b("AdsOptimizationUtils").shouldFlipAutobidValue(i,c,f,k,g,h,d);if(c){c=!i;i=a.currency;a=a.business_country_code;j(b("AdsAPICampaignPaths").IS_AUTOBID,[e],c);j(b("AdsAPICampaignPaths").BID_AMOUNT,[e],c?null:b("AdsCampaignOptimizationPluginResolver").resolve({objective:f,promotedObjectType:k}).getDefaultBidAmount(g,h,d,i,a))}}function a(a,c,d,e,f,h){__p&&__p();h(b("AdsAPICampaignPaths").OPTIMIZATION_GOAL,[d],f);var i=e.objective,j=b("AdsAPICampaignRecordUtils").getPromotedObjectType(i,c),k=!b("adsCampaignGetBudgetMode")(c),l=b("adsBillingEventGetDefaultDEPRECATED")(e.buyingType,i,f,a);h(b("AdsAPICampaignPaths").BILLING_EVENT,[d],l);if(!k){var m;h((m=b("AdsAPICampaignPaths")).BID_STRATEGY,[d],b("AdsAPIBidStrategies").LOWEST_COST_WITHOUT_CAP);h(m.IS_AVERAGE_PRICE_PACING,[d],!1);h(m.IS_AUTOBID,[d],!0);h(m.BID_AMOUNT,[d],null)}l&&g(a,e.buyingType,c,d,i,f,l,!0,h);m=b("AdsFrequencyControlEditorUtils").computeDefaultFrequencyControlSpecs(i,f,a);h(b("AdsAPICampaignPaths").FREQUENCY_CONTROL_SPECS,[d],m);e=c.optimization_goal;m=b("AdsAppUtils").isMobileAppInstall(i,j)||i===b("AdsAPIObjectives").MOBILE_APP_ENGAGEMENT&&e===b("AdsAPIOptimizationGoals").OFFSITE_CONVERSIONS;m&&h(b("AdsAPICampaignPaths").PROMOTED_OBJECT.CUSTOM_EVENT_TYPE,[d],void 0);e=b("AdsCampaignOptimizationPluginResolver").resolve({objective:i,promotedObjectType:j});if(!b("AdsOptimizationUtils").canUseAveragePricePacing(e,f,l||b("AdsAPIBillingEvents").NONE,k,a)){m=c.is_average_price_pacing;m!=null&&h(b("AdsAPICampaignPaths").IS_AVERAGE_PRICE_PACING,[d],!1)}i=e.getDefaultConversionWindowLength(f);c.attribution_spec&&h(b("AdsAPICampaignPaths").ATTRIBUTION_SPEC,[d],b("adsDeliveryUpdateClickThroughAttributionWindow")(c.attribution_spec,i))}function c(a,c,d){var e;e=(e=a.optimization_goal)!=null?e:b("AdsAPIOptimizationGoals").NONE;c=b("AdsCampaignOptimizationPluginResolver").resolve({objective:c,promotedObjectType:d});d=c.getDefaultConversionWindowLength(e);e=c.getDefaultViewConversionWindowLength();c=b("adsDeliveryUpdateClickThroughAttributionWindow")(a.attribution_spec?a.attribution_spec.toJS():[],d);return b("AdsCampaignRecordAccessors").attribution_spec.set(b("adsDeliveryUpdateViewThroughAttributionWindow")(c,e),a)}function d(a,c,d,e,f,g){__p&&__p();if(b("isFalsey")(a))return e;g=f!=null?g(a,f):null;if(g==null||!b("AdsAudienceDirectConfig").isDirectDealsUser)return e;a=g.cpeAmount;if(a==null)return e;f=b("adsCampaignGetImpressionsLimit")(c,a);return f==null?e:d==="daily"?b("AdsCampaignRecordAccessors").daily_imps.set(f,e):b("AdsCampaignRecordAccessors").lifetime_imps.set(f,e)}function f(a,c,d){if(c===b("AdsAPIObjectives").CONVERSIONS||c===b("AdsAPIObjectives").LINK_CLICKS||c===b("AdsAPIObjectives").STORE_VISITS){c=b("AdsCampaignOptimizationPluginResolver").resolve({objective:c,promotedObjectType:d});c=c.getDefaultOptimizationGoal({hasBackingApplication:!!((d=a.promoted_object)==null?void 0:d.application_id)});return b("AdsCampaignRecordAccessors").optimization_goal.set(c,a)}return a}e.exports={setOptimizationGoal:a,updateConversionWindowLength:c,updateImpressionsLimitByBudget:d,updateOptimizationGoal:f}}),null);
__d("AdsUEditorCampaignWhatsAppMutators",["AdCampaignDestination","AdsAPIBillingEvents","AdsAPIObjectives","AdsAPIOptimizationGoals","AdsCampaignBudgetPluginResolver","AdsCampaignRecordAccessors","AdsMutators","AdsPlacementReducerUtils","AdsPromotedObjectTypes","AdsUEditorCampaignMutators","DayPartingUtils","adsCampaignGetDefaultDailyBudget","adsCampaignGetDefaultStartDate","adsCampaignGetISODateTimeString","adsCampaignIsCampaignGroupBudget","immutable","isFalsey"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){var d;switch(a){case b("AdsAPIObjectives").LINK_CLICKS:d=b("AdsAPIOptimizationGoals").LINK_CLICKS;break;case b("AdsAPIObjectives").CONVERSIONS:d=b("AdsAPIOptimizationGoals").OFFSITE_CONVERSIONS;break;default:d=b("AdsAPIOptimizationGoals").REPLIES}return b("adsCampaignIsCampaignGroupBudget")(c)?b("AdsMutators").chain(b("AdsCampaignRecordAccessors").billing_event.set(b("AdsAPIBillingEvents").IMPRESSIONS),b("AdsCampaignRecordAccessors").optimization_goal.set(d),b("AdsCampaignRecordAccessors").bid_amount["delete"])(c):b("AdsMutators").chain(b("AdsCampaignRecordAccessors").is_autobid.set(!0),b("AdsCampaignRecordAccessors").billing_event.set(b("AdsAPIBillingEvents").IMPRESSIONS),b("AdsCampaignRecordAccessors").optimization_goal.set(d),b("AdsCampaignRecordAccessors").bid_amount["delete"])(c)}function h(a,c){var d;a=a.business_country_code;return b("isFalsey")(a)||((d=c.targeting)==null?void 0:(d=d.geo_locations)==null?void 0:d.countries)!=null?c:b("AdsCampaignRecordAccessors").targeting.geo_locations.countries.set([a],c)}function i(a,c){var d=a.timezone_offset_hours_utc,e=b("adsCampaignGetDefaultStartDate")();e=b("adsCampaignGetISODateTimeString")(e,d);d=b("AdsMutators").chain(b("AdsCampaignRecordAccessors").start_time.set(e),b("AdsCampaignRecordAccessors").end_time["delete"])(c);if(b("adsCampaignIsCampaignGroupBudget")(d))return d;e=b("adsCampaignGetDefaultDailyBudget")(a.currency,b("AdsCampaignBudgetPluginResolver").resolve({objective:b("AdsAPIObjectives").MESSAGES,promotedObjectType:b("AdsPromotedObjectTypes").WHATSAPP}));return b("AdsMutators").chain(b("AdsCampaignRecordAccessors").daily_budget.set(e),b("AdsCampaignRecordAccessors").lifetime_budget.set(0))(d)}function j(a,c){if(b("adsCampaignIsCampaignGroupBudget")(c))return c;var d=c.pacing_type,e=!1;return b("AdsCampaignRecordAccessors").pacing_type.set(b("immutable").List(b("DayPartingUtils").setPacingType(Array.isArray(d)?d.slice():[],a,e)),c)}function a(a,c,d,e){return b("AdsMutators").chain(b("AdsCampaignRecordAccessors").destination_type.set(b("AdCampaignDestination").WHATSAPP),b("AdsCampaignRecordAccessors").promoted_object["delete"],b("AdsCampaignRecordAccessors").targeting.is_whatsapp_destination_ad.set(b("immutable").fromJS(!0)),function(a){return g(d,a)},function(a){return i(c,a)},function(a){return h(c,a)},function(a){return j(!1,a)},function(a){return b("AdsPlacementReducerUtils").resetPlacement(a,e)},function(a){return b("AdsUEditorCampaignMutators").updateConversionWindowLength(a,d,b("AdsPromotedObjectTypes").WHATSAPP)})(a)}c={setOptimizationForWhatsAppPromotedObject:g,setCountryForWhatsAppPromotedObject:h,resetPacing:j,setWhatsAppPromotedObjectTypeForMessages:a};e.exports=c}),null);
__d("AdsUEditorCampaignSetMessengerPromotedObjectTypeReducerPlugin",["AdCampaignDestination","AdsAPICampaignPaths","AdsAPICampaignRecordUtils","AdsAPITargetFields","AdsCampaignMutatorUtils","AdsCampaignRecordAccessors","AdsMutators","AdsPlacementAPISpecWriterUtils","AdsPlacementReducerUtils","AdsPromotedObjectUtils","AdsSetMessengerPromotedObjectSource","AdsUEditorAdgroupNavigateMessengerPromotedObjectActionFlux","AdsUEditorCampaignGroupAdObjectsUtils","AdsUEditorCampaignReducerUtils","AdsUEditorCampaignSelectors","AdsUEditorCampaignSetMessengerPromotedObjectTypeDataActionFlux","AdsUEditorCampaignWhatsAppMutators","AdsUEditorHostIDs","adsUEditorAccountSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorCampaignReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),buyingTypes:b("AdsUEditorCampaignSelectors").adObjectsList.mapTransform(b("AdsUEditorCampaignGroupAdObjectsUtils").getBuyingType),objectives:b("AdsUEditorCampaignSelectors").adObjectsList.mapTransform(b("AdsUEditorCampaignGroupAdObjectsUtils").getObjective)},function(a,c,d){__p&&__p();var e=d.account,f=d.buyingTypes,g=d.objectives;return b("AdsMutators").mutateEach(a,c.campaignIDs,function(a,d){__p&&__p();return b("AdsMutators").chain(b("AdsCampaignRecordAccessors").destination_type.set(b("AdCampaignDestination").MESSENGER),function(a){return c.hostID===b("AdsUEditorHostIDs").CREATION?b("AdsMutators").chain(function(a){return b("AdsPlacementAPISpecWriterUtils").removeGroup(a,"messenger/thread",c.eligibilityInformation,b("AdsAPITargetFields").MESSENGER_POSITIONS,"messenger")},function(a){return b("AdsPromotedObjectUtils").setPromotedObjectForAppObjectives(a,void 0,void 0,g.get(d))},function(a){var c;return b("AdsPlacementReducerUtils").resetPlacement(a,{objective:g.get(d),buyingType:f.get(d),capabilities:e.capabilities,promotedObjectType:b("AdsAPICampaignRecordUtils").getPromotedObjectType(g.get(d),a),objectStoreURL:(c=a.promoted_object)==null?void 0:c.object_store_url,containsOffer:!!((c=a.promoted_object)==null?void 0:c.offer_id),targetingDirectInstallDevices:!!a.targeting.direct_install_devices,spec:{}})})(a):a},function(a){return b("AdsCampaignMutatorUtils").setOptimizationForMessengerPromotedObject(a,c.eligibilityInformation.objective,e)},function(a){return a.deleteIn(b("AdsAPICampaignPaths").TARGETING.IS_WHATSAPP_DESTINATION_AD)},function(a){return b("AdsCampaignMutatorUtils").removePromotedObjectPageID(a)},function(a){return c.hostID===b("AdsUEditorHostIDs").CREATION?b("AdsCampaignRecordAccessors").promoted_object.custom_event_type["delete"](a):a},function(a){return b("AdsCampaignMutatorUtils").setCountryForMessengerPromotedObject(a,e)},function(a){if(c.hostID===b("AdsUEditorHostIDs").CREATION&&c.eventSource===b("AdsSetMessengerPromotedObjectSource").SELECT_CLICK_TO_MESSENGER_IN_CF)return b("AdsCampaignMutatorUtils").setDefaultBudgetForMessengerPromotedObject(a,e);return c.hostID===b("AdsUEditorHostIDs").EDITING&&c.eventSource===b("AdsSetMessengerPromotedObjectSource").SELECT_CLICK_TO_MESSENGER_IN_PE?b("AdsMutators").chain(function(a){return b("AdsCampaignMutatorUtils").setDefaultBudgetForMessengerPromotedObject(a,e)},function(a){return b("AdsUEditorCampaignWhatsAppMutators").resetPacing(!1,a)})(a):a})(a)})},[b("AdsUEditorAdgroupNavigateMessengerPromotedObjectActionFlux").actionType,b("AdsUEditorCampaignSetMessengerPromotedObjectTypeDataActionFlux").actionType])};e.exports=a}),null);
__d("AdsUEditorCampaignSetMessengerPromotedObjectTypeDataAction",["Laminar","ifRequired","AdsUEditorCampaignSetMessengerPromotedObjectTypeReducerPlugin","AdsCFCampaignProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("ifRequired")("AdsUEditorAdgroupSetMessengerPromotedObjectTypeReducerPlugin",function(a){return b("ifRequired")("AdsCFAdgroupDataProvider",function(c){return b("Laminar").__createReducer(a,c,{},"")})}),b("Laminar").__createReducer(b("AdsUEditorCampaignSetMessengerPromotedObjectTypeReducerPlugin"),b("AdsCFCampaignProvider"),{},"")]},function(){return[]},"CAMPAIGN.SET_MESSENGER_PROMOTED_OBJECT_TYPE");e.exports=a}),null);
__d("AdsUEditorCampaignSetPageIdDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_CAMPAIGN_EDITOR_SET_PAGE_ID"}}),null);
__d("AdsUEditorCampaignSetPromotedProductSetIDDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsUEditorCampaignSetPromotedProductSetIDDataActionPlugin"}}),null);
__d("AdsUEditorDCOAdgroupSetBrandContentPageDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_DCO_ADGROUP_EDITOR_SET_BRAND_CONTENT_PAGE"}}),null);
__d("AdsUEditorPACAdgroupImageOptimizationDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_UPDATE_IMAGE_OPTIMIZATION_STATUS_PAC"}}),null);
__d("AdsUEditorPromotedObjectSetWebsiteOptimizationFieldsDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_CAMPAIGN_EDITOR_PROMOTED_OBJECT_SET_WEBSITE_OPTIMIZATION_FIELDS"}}),null);
__d("VCKUEditorSetPACVideosDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"VCK.UEDITOR_SET_PAC_VIDEOS"}}),null);
__d("AdsFromChinaGatingUtil",["AdsAccountUtils"],(function(a,b,c,d,e,f){"use strict";a={shouldHideWarnningBanner:function(a,c,d,e){var f=b("AdsAccountUtils").hasCapability(a,"CAN_USE_AAC_PROMOTABLE_OBJECTS");a=b("AdsAccountUtils").hasCapability(a,"CAN_USE_AAC_PROMOTABLE_OBJECTS_V2");return c||d||e?!f&&!a:!1}};e.exports=a}),null);
__d("AdsUEditorAdgroupArAdsMutator",["AdsArLinkUtils","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return!b("AdsArLinkUtils").isArAd(a,c)?a:a.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,c),null)}e.exports={clearArAdsLink:a}}),null);
__d("AdsUEditorAdgroupCanvasMutator",["AdsAPIAdAssetFeedLinkURLsFields","AdsAPIChildAttachmentPaths","AdsAssetFeedFieldUtils","AdsCanvasCollectionsConstants","AdsCanvasConstants","AdsChildAttachmentsUtils","AdsCollectionsAdUtils","AdsCollectionsConstants","AdsPromotedObjectTypes","AdsUEditorAdgroupMultiProductMutators","AdsUnifiedCreativeAPIFields","isAdsCanvasLink"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){if(b("AdsUnifiedCreativeAPIFields").linkURL.isSupported(a,c)){var d=b("AdsAssetFeedFieldUtils").firstAsset_TALK_WITH_ACE_BEFORE_USE(b("AdsUnifiedCreativeAPIFields").linkURL.getValue(a,c),b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL),e=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPathOrThrow(a,c);b("isAdsCanvasLink")(d)&&(a=a.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,c),b("AdsCanvasConstants").EMPTY_CANVAS_LINK),a=a.deleteIn(e.concat("lead_gen_form_id")));b("AdsChildAttachmentsUtils").isCarouselAd(a)&&(a=b("AdsUEditorAdgroupMultiProductMutators").setInEachChild(b("AdsAPIChildAttachmentPaths").LINK,b("AdsCanvasConstants").EMPTY_CANVAS_LINK,a))}return a}function c(a,c,d){__p&&__p();if(!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative))return a;if(b("AdsUnifiedCreativeAPIFields").retailerItemIDs.isSupported(a,c)){var e=a.getIn(b("AdsUnifiedCreativeAPIFields").retailerItemIDs.getPathOrThrow(a,c));e&&(a=a.setIn(b("AdsUnifiedCreativeAPIFields").retailerItemIDs.getPathOrThrow(a,c),b("AdsCollectionsConstants").EMPTY_COLLECTIONS_RETAIL_ID).setIn(b("AdsUnifiedCreativeAPIFields").postClickItemDescription.getPathOrThrow(a,c),b("AdsCollectionsConstants").POST_CLICK_ITEM_DEFAULT_DESCRIPTION_TEMPLATE).setIn(b("AdsUnifiedCreativeAPIFields").postClickItemHeadline.getPathOrThrow(a,c),b("AdsCollectionsConstants").POST_CLICK_ITEM_DEFAULT_HEADLINE_TEMPLATE),d!==b("AdsPromotedObjectTypes").PRODUCT_SET&&(a=a.deleteIn(b("AdsUnifiedCreativeAPIFields").productSetID.getPathOrThrow(a,c))))}if(b("AdsUnifiedCreativeAPIFields").collectionThumbnails.isSupported(a,c)){e=a.getIn(b("AdsUnifiedCreativeAPIFields").collectionThumbnails.getPathOrThrow(a,c));e&&(a=a.setIn(b("AdsUnifiedCreativeAPIFields").collectionThumbnails.getPathOrThrow(a,c),b("AdsCanvasCollectionsConstants").EMPTY_COLLECTION_THUMBNAILS))}return a}e.exports={clearCanvasLink:a,clearCollectionsFields:c}}),null);
__d("AdsCanvasDocIdLoadErrorDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.setSingleValueOrError(b.canvasID,b.error)}};e.exports=a}),null);
__d("AdsCanvasDocIdLoadedDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.setSingleValueOrError(b.canvasID,b.entry)}};e.exports=a}),null);
__d("AdsCanvasSearchEntryDataManager",["AdsCanvasDocIdLoadedDataAction","AdsCanvasDocIdLoadErrorDataAction","AdsCanvasTypeaheadSearchableEntry","AdsGraphAPI","CanvasDataUtils","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(){}var c=a.prototype;c.searchCanvasID=function(a){b("promiseDone")(b("AdsGraphAPI").get(e.id).object("rich_media_document",a).get({fields:b("CanvasDataUtils").getFieldsForPagesCanvasList(),summary:!0}),function(c){c=b("AdsCanvasTypeaheadSearchableEntry").createForCanvasDoc(c);var d=c.getAuxiliaryData();b("AdsCanvasDocIdLoadedDataAction").dispatch({canvasID:a,canvas:d,entry:c},{line:"34",module:"AdsCanvasSearchEntryDataManager.js"})},function(c){return b("AdsCanvasDocIdLoadErrorDataAction").dispatch({canvasID:a,error:c},{line:"41",module:"AdsCanvasSearchEntryDataManager.js"})})};return a}();e.exports=new a()}),null);
__d("AdsCanvasSearchEntryProviderPlugin",["AdsCanvasSearchEntryDataManager","LoadObjectMap"],(function(a,b,c,d,e,f){"use strict";a={initialState:function(a){return b("LoadObjectMap").create(function(c){a(function(a){return a.setLoading(c)}),c.forEach(function(a){return b("AdsCanvasSearchEntryDataManager").searchCanvasID(a)})})}};e.exports=a}),null);
__d("AdsDynamicAudienceDraftSaveState",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({LOAD_ERROR:null,SAVE_ERROR:null,SAVED:null,SAVING:null,UNPUBLISHED:null});e.exports=a}),null);
__d("AdsDynamicAudienceEventRestriction",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({IN_THE_PAST:null,MORE_THAN:null});e.exports=a}),null);
__d("AdsDynamicAudienceDraft",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({booking_window:void 0,event_source_group_creation_in_progress:void 0,event_source_group_id:void 0,event_sources:void 0,exclusions:void 0,inclusions:void 0,is_excluded_dynamic_audience:void 0,restrict_to_set_id:void 0,sliced_event_source_group_id:void 0,state:void 0,error:void 0,preconfigured_options:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsDynamicAudienceDraftBookingWindow",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({enabled:void 0,max_seconds:void 0,min_seconds:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsDynamicAudienceDraftEvent",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({content_type:void 0,event_type:void 0,max_seconds:void 0,min_event_count:void 0,min_seconds:void 0,restriction_type:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsDynamicAudienceDraftUpsell",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({enabled:void 0,max_seconds:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsTargetingCountryUtils",["AdsCreateMultiCountryLookalikeConfig","FBLogger","LocationConstants","StrSet"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={};b("AdsCreateMultiCountryLookalikeConfig").countryGroupsMetadata.forEach(function(a){g[a.id]=a});function h(a){!a.country&&!a.country_code&&b("FBLogger")("ads").mustfix("The geo location objects you passed in does not contain country or country_code field. You are using getAdsTargetingUniqueCountries the wrong way. Please fix ASAP")}function a(a,c){__p&&__p();c===void 0&&(c=!0);var d=[];b("LocationConstants").locationTypes.forEach(function(e){__p&&__p();var f=a[e]||{},i;e===b("LocationConstants").COUNTRIES?Object.keys(f).forEach(function(a){i=typeof f[a]==="string"?f[a]:a,d.push(i)}):e===b("LocationConstants").COUNTRY_GROUPS?Object.keys(f).forEach(function(a){a=f[a].country_codes||[];d=d.concat(a)}):e===b("LocationConstants").CUSTOM_LOCATIONS?Object.keys(f).forEach(function(a){__p&&__p();a=f[a];if(a.custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY)if(a.country_group){var e=g[a.country_group]?g[a.country_group].countries:[];d=d.concat(e)}else a.country_code&&d.push(a.country_code);else{c&&h(a);e=a.country||a.country_code;e&&d.push(e)}}):Object.keys(f).forEach(function(a){a=f[a];c&&h(a);a=a.country||a.country_code;a&&d.push(a)})});var e=new(b("StrSet"))(d);return e.toArray().sort()}c={getUniqueCountries:a};e.exports=c}),null);
__d("AdsPlacementAssetSelectorLabels",["errorCode","fbt","AdImageSpecs","AdsInstagramMediaSpecs","AdsInstreamCapabilityUtils","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetUtils","AdsPlacementPluginList","AdsPlacementsFacebookFeedsPositionPlugin","AdsPlacementsFacebookPlatformPlugin","AdsVideoConfig","AdsVideoConstraintsUtils","AdsVideoSpecs","Link.react","React","isTruthy"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups;a=b("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups;d=(c={},c[a.INSTAGRAM]=h._("Instagram"),c[a.FACEBOOK]=null,c);f=h._("Clear Images");g=h._("Clear All");a=h._("Use a different image for Instagram");c=h._("Use a different video for Instagram");var j=h._("Select a different version of your video for Instagram"),k=h._("Use a different image for certain placements"),l=h._("Use a different image for other placements"),m=h._("Use a different image"),n=h._("Use a different video"),o=h._("Customize for Instagram."),p=h._("You can change how your ad looks in different placements."),q=h._("Use a different video for certain placements"),r=h._("Select a placement to customize"),s=h._("The selected ads deliver different creative assets by placement, which can't be edited together. As a result, not all options are available to edit for this selection."),t=h._("Sound on"),u=function(a){__p&&__p();switch(a){case i.AUDIENCE_NETWORK_CLASSIC:return{minWidth:b("AdImageSpecs").AUDIENCE_NETWORK_MOBILE_EXTERNAL.minWarningWidth,minHeight:b("AdImageSpecs").AUDIENCE_NETWORK_MOBILE_EXTERNAL.minWarningHeight};case i.AUDIENCE_NETWORK_INSTREAM_VIDEO:case i.AUDIENCE_NETWORK_REWARDED_VIDEO:case i.FACEBOOK_FEED:case i.FACEBOOK_INSTREAM:return{minWidth:b("AdImageSpecs").PAGE_POST_DESKTOP_FEED.minWarningWidth,minHeight:b("AdImageSpecs").PAGE_POST_DESKTOP_FEED.minWarningHeight};case i.FACEBOOK_INSTANT_ARTICLE:return{minWidth:b("AdImageSpecs").FACEBOOK_INSTANT_ARTICLE.minWarningWidth,minHeight:b("AdImageSpecs").FACEBOOK_INSTANT_ARTICLE.minWarningHeight};case i.FACEBOOK_RHC:return{minWidth:b("AdImageSpecs").PAGE_POST_RIGHT_COLUMN.minWarningWidth,minHeight:b("AdImageSpecs").PAGE_POST_RIGHT_COLUMN.minWarningHeight};case i.FACEBOOK_STORY:return{minWidth:b("AdImageSpecs").FACEBOOK_STORY.minWarningWidth,minHeight:b("AdImageSpecs").FACEBOOK_STORY.minWarningHeight};case i.INSTAGRAM_STREAM:case i.INSTAGRAM_EXPLORE:return{minWidth:b("AdsInstagramMediaSpecs").MIN_MEDIA_WIDTH,minHeight:b("AdsInstagramMediaSpecs").MIN_STREAM_MEDIA_HEIGHT};case i.INSTAGRAM_STORY:return{minWidth:b("AdsInstagramMediaSpecs").MIN_MEDIA_WIDTH,minHeight:b("AdsInstagramMediaSpecs").MIN_STORY_MEDIA_HEIGHT};case i.MESSENGER_INBOX:return{minWidth:b("AdImageSpecs").MESSENGER.minWarningWidth,minHeight:b("AdImageSpecs").MESSENGER.minWarningHeight};case i.MESSENGER_STORY:return{minWidth:b("AdImageSpecs").MESSENGER_STORY.minWarningWidth,minHeight:b("AdImageSpecs").MESSENGER_STORY.minWarningHeight};case i.FACEBOOK_MARKETPLACE:return{minWidth:b("AdImageSpecs").FACEBOOK_MARKETPLACE_MOBILE_LINK.minWarningWidth,minHeight:b("AdImageSpecs").FACEBOOK_MARKETPLACE_MOBILE_LINK.minWarningHeight};case i.FACEBOOK_SEARCH:return{minWidth:b("AdImageSpecs").FACEBOOK_SEARCH.minWarningWidth,minHeight:b("AdImageSpecs").FACEBOOK_SEARCH.minWarningHeight};default:return{minWidth:0,minHeight:0}}},v=function(a){__p&&__p();var b=u(a),c=b.minWidth;b=b.minHeight;switch(a){case i.AUDIENCE_NETWORK_CLASSIC:case i.AUDIENCE_NETWORK_INSTREAM_VIDEO:case i.AUDIENCE_NETWORK_REWARDED_VIDEO:case i.FACEBOOK_FEED:case i.FACEBOOK_INSTANT_ARTICLE:case i.FACEBOOK_INSTREAM:case i.FACEBOOK_MARKETPLACE:case i.FACEBOOK_SEARCH:return h._("minimum {minimum width} \u00d7 {minimum height} pixels",[h._param("minimum width",c),h._param("minimum height",b)]);case i.FACEBOOK_RHC:return h._("minimum {minimum width} \u00d7 {minimum height} pixels",[h._param("minimum width",c),h._param("minimum height",b)]);case i.FACEBOOK_STORY:return h._("minimum {minimum width} \u00d7 {minimum height} pixels",[h._param("minimum width",c),h._param("minimum height",b)]);case i.INSTAGRAM_STREAM:case i.INSTAGRAM_EXPLORE:return h._("minimum {minimum width} \u00d7 {minimum height} pixels",[h._param("minimum width",c),h._param("minimum height",b)]);case i.INSTAGRAM_STORY:return h._("minimum {minimum width} \u00d7 {minimum height} pixels (Portrait)",[h._param("minimum width",c),h._param("minimum height",b)]);case i.MESSENGER_INBOX:return h._("minimum {minimum width} \u00d7 {minimum height} pixels",[h._param("minimum width",c),h._param("minimum height",b)]);case i.MESSENGER_STORY:return h._("minimum {minimum width} \u00d7 {minimum height} pixels",[h._param("minimum width",c),h._param("minimum height",b)]);default:return""}},w=function(a){a=u(a);var b=a.minWidth;a=a.minHeight;return h._("A dimension of at least {minimum width} \u00d7 {minimum height} pixels",[h._param("minimum width",b),h._param("minimum height",a)])},x=function(a){switch(a){case i.AUDIENCE_NETWORK_CLASSIC:case i.AUDIENCE_NETWORK_INSTREAM_VIDEO:case i.AUDIENCE_NETWORK_REWARDED_VIDEO:case i.FACEBOOK_FEED:case i.FACEBOOK_INSTREAM:case i.FACEBOOK_MARKETPLACE:case i.FACEBOOK_SEARCH:return h._("An aspect ratio of {required aspect ratio}",[h._param("required aspect ratio",b("AdImageSpecs").PAGE_POST_DESKTOP_FEED.displayRatio)]);case i.FACEBOOK_INSTANT_ARTICLE:return h._("An aspect ratio of {required aspect ratio}",[h._param("required aspect ratio",b("AdImageSpecs").FACEBOOK_INSTANT_ARTICLE.displayRatio)]);case i.FACEBOOK_RHC:return h._("An aspect ratio of {required aspect ratio}",[h._param("required aspect ratio",b("AdImageSpecs").PAGE_POST_RIGHT_COLUMN.displayRatio)]);case i.FACEBOOK_STORY:return h._("An aspect ratio of {required aspect ratio}",[h._param("required aspect ratio",b("AdImageSpecs").FACEBOOK_STORY.displayRatio)]);case i.INSTAGRAM_STREAM:case i.INSTAGRAM_EXPLORE:return h._("An aspect ratio between {maximum aspect ratio} and {mimimum aspect ratio}",[h._param("maximum aspect ratio",b("AdImageSpecs").INSTAGRAM_STREAM_NO_CROP.maxWarningDisplayRatio),h._param("mimimum aspect ratio",b("AdImageSpecs").INSTAGRAM_STREAM_NO_CROP.minWarningDisplayRatio)]);case i.INSTAGRAM_STORY:return h._("An aspect ratio of {required aspect ratio}",[h._param("required aspect ratio",b("AdImageSpecs").INSTAGRAM_STORY.displayRatio)]);case i.MESSENGER_INBOX:return h._("An aspect ratio between {maximum aspect ratio} and {mimimum aspect ratio}",[h._param("maximum aspect ratio",b("AdImageSpecs").MESSENGER.maxWarningDisplayRatio),h._param("mimimum aspect ratio",b("AdImageSpecs").MESSENGER.minWarningDisplayRatio)]);default:return""}},y=function(a,c,d,e){e=e?h._({"image":"Select a different image","video":"Select a different video"},[h._enum(a,{image:"image",video:"video"})]):b("React").jsx(b("Link.react"),{onClick:c,children:h._({"image":"Select a different image","video":"Select a different video"},[h._enum(a,{image:"image",video:"video"})])});return h._("{=Link to open asset library to select a different image or video to show on Instagram} to run on Instagram Feed. {=Learn more link}",[h._param("=Link to open asset library to select a different image or video to show on Instagram",e),h._param("=Learn more link",d?b("React").jsx(b("Link.react"),{onClick:d,children:h._("Learn more.")}):null)])},z=function(a){switch(a.key){case 1772076:return h._("Videos for Instagram ads must be at least 500 x 262 pixels.");case 2016008:return h._("Videos for Instagram ads must be between 3 and 60 seconds.");case 1772074:return h._("Videos for Instagram ads must have an aspect ratio between 4:5 and 1.91:1.");case 2238028:return h._("Videos for Instagram ads must be between 3 and 120 seconds.")}return""},A=function(a,c){return h._({"an image":"Add an image that meets all the requirements for {placementLabel}","a video":"Add a video that meets all the requirements for {placementLabel}"},[h._enum(a==="image"?"an image":"a video",{"an image":"an image","a video":"a video"}),h._param("placementLabel",b("React").jsx("strong",{children:F(c)}))])},B=function(a,c){return h._({"Images":"Images for {placementLabel} must have:","Videos":"Videos for {placementLabel} must have:"},[h._enum(a==="image"?"Images":"Videos",{Images:"Images",Videos:"Videos"}),h._param("placementLabel",b("React").jsx("strong",{children:F(c)}))])},C=function(a,b){return h._("A dimension of at least {minWidth} \u00d7 {minHeight}",[h._param("minWidth",a),h._param("minHeight",b)])},D=function(a,c){return b("isTruthy")(a)?h._("A length between {minLength} - {maxLength} seconds",[h._param("minLength",a),h._param("maxLength",c)]):h._("A length upto {maxLength} seconds",[h._param("maxLength",c)])},E=function(a){switch(a){case i.INSTAGRAM_STORY:case i.MESSENGER_STORY:case i.WHATSAPP_STATUS:return h._("An aspect ratio of 9:16");case i.AUDIENCE_NETWORK_INSTREAM_VIDEO:return h._("An aspect ratio between 1:1 and 16:9");case i.FACEBOOK_STORY:return h._("An aspect ratio between 9:16 and 1.91:1");default:return h._("An aspect ratio between 4:5 and 16:9")}},F=function(a){if(a===i.FACEBOOK_FEED)return h._("Facebook News Feed");a=b("AdsPlacementAssetUtils").getPlacementsFromAssetGroup(a);return a&&a.size===1?G(a.first()):""},G=function(a){var c=b("AdsPlacementPluginList").getAllPlatforms().find(function(b){return b.apiPublisherPlatform===a.platform}),d=b("AdsPlacementPluginList").getAllPositions().find(function(b){return c&&c.positions.includes(b)&&b.apiPosition===a.position});return c&&d?H(c,d):""},H=function(a,c){if(!c)return a.name;return a.key===b("AdsPlacementsFacebookPlatformPlugin").key&&c.key===b("AdsPlacementsFacebookFeedsPositionPlugin").key?h._("Facebook News Feed"):h._("{platformName} {groupName}",[h._param("platformName",a.name),h._param("groupName",c.name)])},I=function(a,c,d){__p&&__p();switch(c){case i.FACEBOOK_FEED:case i.FACEBOOK_INSTANT_ARTICLE:case i.SUGGESTED_VIDEO:case i.VIDEO_FEEDS:return h._("up to {max length} minutes",[h._param("max length",b("AdsVideoConfig").facebookAdsVideoMaxDurationInMin)]);case i.FACEBOOK_INSTREAM:c=b("AdsInstreamCapabilityUtils").isEligibleForInstreamLongVideoAds(a,!0,d);a=c?b("AdsVideoConfig").instreamVideoDRLongMaxDurationInSecToShow:b("AdsVideoConfig").instreamVideoMaxDurationInSecToShow;return h._("between {min length} and {max length} seconds",[h._param("min length",b("AdsVideoConfig").instreamVideoMinDurationInSec),h._param("max length",a)]);case i.FACEBOOK_STORY:return h._("up to {max length} seconds",[h._param("max length",b("AdsVideoSpecs").FACEBOOK_STORIES.maxWarningLength)]);case i.INSTAGRAM_STREAM:case i.INSTAGRAM_EXPLORE:d=b("AdsVideoConstraintsUtils").getMaxVideoDurationInSecForSingleVideoStream();return h._("up to {max length} seconds",[h._param("max length",d)]);case i.INSTAGRAM_STORY:c=b("AdsVideoConstraintsUtils").getMaxVideoDurationInSecForStories();return h._("up to {max length} seconds (Portrait)",[h._param("max length",c)]);case i.AUDIENCE_NETWORK_CLASSIC:case i.AUDIENCE_NETWORK_INSTREAM_VIDEO:case i.AUDIENCE_NETWORK_REWARDED_VIDEO:return h._("between {min length} and {max length} seconds",[h._param("min length",b("AdsVideoConfig").audienceNetworkInStreamVideoMinDurationInSec),h._param("max length",b("AdsVideoConfig").audienceNetworkInStreamVideoMaxDurationInSec-1)]);case i.MESSENGER_INBOX:return h._("up to {max length} minutes",[h._param("max length",b("AdsVideoConfig").messengerInboxVideoMaxDurationInMinutes)]);case i.MESSENGER_STORY:return h._("up to {max length} seconds",[h._param("max length",b("AdsVideoSpecs").MESSENGER_STORIES.maxWarningLength)]);default:return""}},J=function(a,b){return h._("{Placement selected} \/ {Total placements that can be selected} placements that support asset customization",[h._param("Placement selected",a),h._param("Total placements that can be selected",b)])};e.exports={BULK_EDIT_PAC_AD_BLOCK_MESSAGE:s,CLEAR_ALL_LABEL:g,CLEAR_IMAGES_LABEL:f,PLACEMENT_GROUP_LABELS:d,CUSTOMIZE_LABEL_IMAGE:a,CUSTOMIZE_LABEL_VIDEO:c,INSTAGRAM_VIDEO_WARNING_TITLE:j,PLACEMENT_CUSTOMIZE_ASSET_LABEL:r,PLACEMENT_CUSTOMIZE_LABEL_CF_IMAGE:m,PLACEMENT_CUSTOMIZE_LABEL_CF_VIDEO:n,PLACEMENT_CUSTOMIZE_PHASE1_HEADER_CF:o,PLACEMENT_CUSTOMIZE_PHASE2_HEADER_CF:p,PLACEMENT_CUSTOMIZE_LABEL_IMAGE:k,PLACEMENT_CUSTOMIZE_LABEL_IMAGE_V2:l,PLACEMENT_CUSTOMIZE_LABEL_VIDEO:q,VIDEO_WITH_SOUND_REQUIREMENT_TEXT:t,getAssetCustomizationDisplayMessage:J,getImageDimensionShortSpecLabelForAdsAssetCustomizationGroup:v,getImageDimensionVerboseSpecLabelForAdsAssetCustomizationGroup:w,getImageAspectRatioSpecLabelForAdsAssetCustomizationGroup:x,getInstagramChangeAssetRecommendationText:y,getInstagramVideoWarningBody:z,getLabelForAssetCustomizationGroup:F,getLabelForAssetCustomizationPlacement:G,getPlacementAssetWarningPopoverTitle:B,getPlacementAssetWarningText:A,getVideoAspectRatioRequirementTextForAdsAssetCustomizationGroup:E,getVideoDimensionRequirementText:C,getVideoLengthRequirementText:D,getVideoSpecLabelForAccountAssetGroupAndObjective:I}}),null);
__d("AdsAPIImagePaths",["AdsAPIImageFields","generatePaths"],(function(a,b,c,d,e,f){"use strict";a=[{pathKeys:[],expandsTo:b("AdsAPIImageFields")}];c=b("generatePaths")(a);e.exports=c}),null);
__d("AdsAPIIntegrityPaths",[],(function(a,b,c,d,e,f){"use strict";a={DATA:["data"],FEEDBACK:["feedback"],MISMATCHED_PROMOTABLE_PAGE:["data","1","MISMATCHED_PROMOTABLE_PAGE"],MISMATCHED_PROMOTABLE_APP:["data","1","MISMATCHED_PROMOTABLE_APP"],MISMATCHED_PROMOTABLE_URL:["data","1","MISMATCHED_PROMOTABLE_URL"]};e.exports=a}),null);
__d("AdsInstagramAccountActionSources",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CF_AUCTION:"cf_auction",NAM_AUCTION:"nam_auction",PE_AUCTION:"pe_auction",PE_REACH_FREQUENCY:"pe_reach_frequency",REACH_FREQUENCY_PLANNER:"reach_frequency_planner",TRP:"trp"});e.exports=a}),null);
__d("AdsProductSetCreationSources",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze(b("keyMirror")({CREATIVE:null,PRODUCT_AUDIENCE_SPECS:null,PROMOTED_OBJECT:null,SPLIT_TEST_VARIABLE:null}));e.exports=a}),null);
__d("AdsReachFrequencyPredictionFields",[],(function(a,b,c,d,e,f){a=["account_id","ad_formats","auction_entry_option_index","buying_type","business_id","campaign_id","campaign_time_start","campaign_time_stop","curve_reach","currency","curve_budget_reach","curve_lower_confidence_range","curve_upper_confidence_range","daily_impression_curve","daily_impression_curve_map","day_parting_schedule","deal_id","destination_id","expiration_time","external_budget","external_impression","external_maximum_budget","external_maximum_impression","external_maximum_reach","external_minimum_budget","external_minimum_impression","external_minimum_reach","external_reach","frequency_cap","frequency_distribution","frequency_distribution_map","frequency_distribution_map_agg","holdout_percentage","id","impression_curve","instagram_destination_id","instream_packages","interval_frequency_cap","interval_frequency_cap_reset_period","is_bonus_media","is_conversion_goal","is_higher_average_frequency","is_io","is_trp","name","objective_name","object_store_url","pause_periods","placement_breakdown","placement_breakdown_map","plan_name","plan_type","prediction_mode","prediction_progress","reference_id","reservation_status","status","story_event_type","target_audience_size","target_cpm","target_spec","time_created","time_updated","timezone_id","timezone_name","topline_id","tv_viewer_cluster_map","upload_ad_by_ts","video_view_length_constraint","activity_status","daily_grp_curve","grp_audience_size","grp_country_audience_size","grp_curve","grp_dmas_audience_size","grp_points","grp_ratio","grp_reach_ratio","grp_status"];e.exports=a}),null);
__d("AdsReachFrequencyRestrictedFormatTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({UNSPECIFIED:null,VIDEO:null,CANVAS:null,VIDEO_360:null,PHOTO_360:null,STORIES_CAROUSEL:null});e.exports={RestrictedFormats:a}}),null);
__d("AdsMultiProductConstants",[],(function(a,b,c,d,e,f){"use strict";a=2;b=10;c=1;e.exports={MAX_PRODUCTS:b,MIN_PRODUCTS:a,MIN_DYNAMIC_ADS_CAROUSEL_TABS:c}}),null);
__d("CPASURLTagsLoggingClient",["CPASURLTagsTypedLogger","CurrentUser"],(function(a,b,c,d,e,f){"use strict";a={ADS_CF_DYNAMIC_ADGROUP_PLUGIN_COMMON:"AdsCFDynamicAdgroupPluginCommon",ADS_UEDITOR_ADGROUP_URL_TAGS_FIELD_CONTAINER:"AdsUEditorAdgroupURLTagsFieldContainer",CATALOG_MANAGER_SHARE_DIALOG_CONTAINER:"CPASShareCatalogSegmentDialogContainer",COLLABORATION_HUB_SHARING_DIALOG:"CollaborationHubSharingDialog"};c={log:function(a){var c=b("CurrentUser").getAccountID();new(b("CPASURLTagsTypedLogger"))().setAdvertiserAccountID(a.advertiserAccountID).setAdvertiserBusinessID(a.advertiserBusinessID).setBusinessID(a.businessID).setCatalogSegmentID(a.catalogSegmentID).setComponent(a.component).setDebugMessage(a.debugMessage).setEvent(a.event).setEventSeverity(a.eventSeverity||"info").setEventType(a.eventType||"debug").setNewURLTags(a.newURLTags).setOldURLTags(a.oldURLTags).setVC(c).log()}};e.exports={CPASURLTagsLoggingComponent:a,CPASURLTagsLoggingClient:c}}),null);
__d("adsPlacementAssetMutationUpdateCustomizationVideo",["AdsAPIAdAssetFeedVideosFields","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsUEditorAdgroupMutators","AdsUEditorAdgroupVideoMutators","AdsUnifiedCreativeAPIFields","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f,g,h,i){__p&&__p();var j;j=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((j=a.creative)==null?void 0:(j=j.asset_feed_spec)==null?void 0:j.videos,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,d,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID).index;if(j==null)throw b("unrecoverableViolation")("asset with given label must exist in asset feed","csol_pac");a=a;d=b("AdsUEditorAdgroupVideoMutators").isolateVideoAssetWithLabel(a,e,j,d);var k=d.adgroupWithIsolatedVideoAsset;d=d.isolatedVideoAssetIndex;a=k;j=d;h!=null&&(a=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,e,b("AdsUnifiedCreativeAPIFields").videoID,j,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID,h));if(f!=null){a=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,e,b("AdsUnifiedCreativeAPIFields").videoID,j,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL,f);a=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,e,b("AdsUnifiedCreativeAPIFields").videoID,j,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_SOURCE,(k=g)!=null?k:"generated_default");c===!0&&(a=b("AdsUEditorAdgroupMutators").setThumbnailURL(a,f))}i!=null&&i!==""&&(a=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,e,b("AdsUnifiedCreativeAPIFields").videoID,j,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_HASH,i));return b("AdsUEditorAdgroupVideoMutators").removeDuplicateVideoAssets(a,e)}e.exports=a}),null);
__d("AdsDCOConversionUtils",["AdsAPIAdAssetFeedImagesFields","AdsAPIAdgroupPaths","AdsAssetFeedUtils","AdsCallToActionTypesCond","NonURLLinkCTATypes","ShutterstockImageUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Set(Object.keys(b("NonURLLinkCTATypes")));function h(a){a=a.get(b("AdsAPIAdAssetFeedImagesFields").URL);return typeof a!=="string"||!b("ShutterstockImageUtils").isStockImageURL(a)}function i(a){return typeof a==="string"&&a.includes("shutterstock")}function j(a){var c;c=(c=a.creative)==null?void 0:c.thumbnail_url;return i(c)?a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_HEIGHT).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_WIDTH).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_URL):a}function a(a){var c;c=(c=a.creative)==null?void 0:(c=c.asset_feed_spec)==null?void 0:c.images;if(!c)return a;a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES,c.filter(h));return j(a)}function c(a){var c;if(!b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(a))return a;c=((c=a.creative)==null?void 0:(c=c.asset_feed_spec)==null?void 0:c.call_to_action_types)||b("immutable").List([]);c=c.filter(function(a){return!g.has(a)});c.size===0&&(c=c.push(b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name));return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTION_TYPES,c)}e.exports={filterDCOUnsupportedCTATypes:c,filterDCOUnsupportedImageTypes:a}}),null);
__d("AdsCampaignGroupPromotedPageIDSelector",["AdsCampaignGroupCombinedStore","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("AdsCampaignGroupCombinedStore")],function(a){a=b("AdsCampaignGroupCombinedStore").getCached(a).getValueEnforcing();return(a=a)!=null?(a=a.promoted_object)!=null?a.page_id:a:a},{name:e.id+".AdsCampaignGroupPromotedPageIDSelector"});e.exports=a}),null);
__d("AdsDLOAssetFeedMutators",["AdsAPIAdAssetFeedFields","AdsAPIAdAssetGroupFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldToRuleLabelMapping","AdsAssetFeedUtils","AdsMutators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsMutators").deleteIn;a={removeOptionalLinksFieldsFromRules:function(a){__p&&__p();var c;if(!b("AdsAssetFeedUtils").hasLanguageCustomizationFromRecord(a))return a;c=(c=a.creative)==null?void 0:c.asset_feed_spec;if(!c)return a;var d=c.asset_customization_rules;if(d){d=d.map(function(a){return a["delete"](b("AdsAPIAdAssetGroupFields").TITLE_LABEL)["delete"](b("AdsAPIAdAssetGroupFields").LINK_URL_LABEL)["delete"](b("AdsAPIAdAssetGroupFields").DESCRIPTION_LABEL)});c=c.set(b("AdsAPIAdAssetFeedFields").ASSET_CUSTOMIZATION_RULES,d)}return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path,c)},removeMediaFromAdgroup:function(a,c){__p&&__p();var d;if(!b("AdsAssetFeedUtils").isDLOAdgroupFromRecord(a))return a;d=(d=a.creative)==null?void 0:(d=d.asset_feed_spec)==null?void 0:d.asset_customization_rules;if(d==null)return a;var e=b("AdsAssetFeedFieldToRuleLabelMapping").get(c),f=null;c===b("AdsAPIAdAssetFeedFields").IMAGES?f=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES:c===b("AdsAPIAdAssetFeedFields").VIDEOS&&(f=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS);return e==null||f==null?a:g(f,a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,d.map(function(a){return a["delete"](e)})))}};e.exports=a}),null);
__d("AdsAdgroupWebsiteLinkPostTypeMutators",["AdsAdgroupPostTypeMutatorsUtils","AdsAdgroupTypeUtils","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedUtils","AdsDLOAssetFeedMutators","ApiAdObjectTypes","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){var d;d=(d=a.creative)==null?void 0:(d=d.asset_feed_spec)==null?void 0:d.asset_customization_rules;if(d!=null){d=d.map(function(a){return a.remove(c)});return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,d)}return a}function a(a,c){__p&&__p();var d;d=(d=a.creative)==null?void 0:d.object_type;var e=a;c=c.getUnifiedCreativeAPIFieldMapping(a);if(d===b("ApiAdObjectTypes").SHARE){if(b("AdsAssetFeedUtils").isSpecUsingAssetFeed(e)){var f;e=b("AdsDLOAssetFeedMutators").removeOptionalLinksFieldsFromRules(e);a=b("AdsAssetFeedUtils").isPACAdgroupFromSpec(e);e=e.deleteIn((f=b("nullthrows"))(c.linkURL)).deleteIn(f(c.linkDescription)).deleteIn(f(c.headline)).deleteIn(f(c.callToActionType));if(a){e=g(e,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL);return g(e,b("AdsAPIAdAssetTargetRuleFields").LINK_URL_LABEL)}return e}return b("AdsAdgroupPostTypeMutatorsUtils").convertPostTypeInAdgroupRecord(b("ApiAdObjectTypes").SHARE,b("ApiAdObjectTypes").PHOTO,e)}if(d===b("ApiAdObjectTypes").VIDEO){c.linkDescription&&(e=e.deleteIn(c.linkDescription));return e.deleteIn(b("nullthrows")(c.callToActionType).slice(0,-1))}return e}function c(a,c){var d;d=(d=a.creative)==null?void 0:d.object_type;if(d===b("ApiAdObjectTypes").PHOTO)return b("AdsAdgroupPostTypeMutatorsUtils").convertPostTypeInAdgroupRecord(b("ApiAdObjectTypes").PHOTO,b("ApiAdObjectTypes").SHARE,a);var e=c.getUnifiedCreativeAPIFieldMapping(a);c=c.getDefaultCallToActionType(a);if(d===b("ApiAdObjectTypes").VIDEO)return a.setIn(b("nullthrows")(e.callToActionType),c);return d===b("ApiAdObjectTypes").SHARE&&(b("AdsAdgroupTypeUtils").isVideoAd(a)||b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(a))?a.setIn(b("nullthrows")(e.callToActionType),b("immutable").List.of(c)):a}d={convertToHasNoWebsiteLinkFormat:a,convertToHasWebsiteLinkFormat:c};e.exports=d}),null);
__d("AdsInteractiveComponentConstants",["fbt","AdCampaignDestination","AdsAPIObjectives","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l;d="1001530549444";f="1001547657418";h=(k=b("immutable")).Map((h={},h.question_text="Poll Question",h.option_a_text="option 1",h.option_b_text="option 2",h.theme_color="FF6F9FFB",h));i=k.Map((i={},i.question_text="Poll Question",i.option_a_text="option 1",i.option_b_text="option 2",i.link_display="http://displaylink.com",i));a=k.Map((j={},j.question_text=a().toString(),j.option_a_text=c(!0).toString(),j.option_b_text=c(!1).toString(),j.theme_color="FF6F9FFB",j));j=k.Map((c={},c.x=.5,c.y=.5,c.width=.65,c.height=1,c.rotation=0,c));c="poll";var m={value:{link:"",link_format:"VIDEO_LPP"},type:"LEARN_MORE"},n=k.List([{platform:"facebook",position:"feed"},{platform:"facebook",position:"story"}]);l=k.List([(l=b("AdsAPIObjectives")).APP_INSTALLS,l.BRAND_AWARENESS,l.CONVERSIONS,l.LINK_CLICKS,l.REACH]);k=k.List([b("AdCampaignDestination").APP,b("AdCampaignDestination").MESSENGER,b("AdCampaignDestination").WHATSAPP]);function a(){return g._("Which would you choose?")}function c(a){return a?g._("Choice 1"):g._("Choice 2")}b={DEFAULT_POLL_SPEC:h,DEFAULT_POLL_SPEC_PANEL_V2:a,DEFAULT_POLL_SPEC_WITH_DISPLAY_LINK:i,DEFAULT_POSITION_SPEC:j,INTERACTIVE_COMPONENT_POLL_TYPE:c,DEFAULT_CTA_DATA:m,SUPPORTED_PLACEMENTS:n,SUPPORTED_OBJECTIVES:l,UNSUPPORTED_DESTINATION_FOR_LINK_CLICKS:k,WATCH_AND_BROWSE_VIDEO_ID:d,WATCH_AND_INSTALL_VIDEO_ID:f};e.exports=b}),null);
__d("AdsInteractivePollAPISpecWriteUtils",["AdsInteractiveComponentConstants","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){var d;return b("immutable").List([b("immutable").Map((d={},d.type=b("AdsInteractiveComponentConstants").INTERACTIVE_COMPONENT_POLL_TYPE,d.position_spec=c,d.poll_spec=a,d))])}function c(a){a=b("immutable").fromJS(a);a=a["delete"]("option_a_call_to_action");a=a["delete"]("option_b_call_to_action");return a}function d(a){a=b("immutable").fromJS(a);a=a.set("option_a_call_to_action",b("AdsInteractiveComponentConstants").DEFAULT_CTA_DATA);a=a.set("option_b_call_to_action",b("AdsInteractiveComponentConstants").DEFAULT_CTA_DATA);return a}function f(a){return"FF"+a.slice(1,7)}e.exports={addPollLinkSectionForPollSpec:d,convertColorHexFromToSpec:f,removePollLinkInformationFromPollSpec:c,constructPollSpecInInteractiveComponentsSpec:a}}),null);
__d("AdsInteractivePollLinkUtils",["AdsAdgroupSpecUtils","AdsAdgroupWebsiteLinkPostTypeMutators","AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsBrandAwarenessUtils","AdsCallToActionTypesCond","AdsInteractiveComponentConstants","AdsInteractivePollAPISpecWriteUtils","AdsUnifiedCreativeAPIFields","immutable","isTruthy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsInteractivePollAPISpecWriteUtils").constructPollSpecInInteractiveComponentsSpec;function a(a,c,d,e){if(b("AdsBrandAwarenessUtils").isWebsiteLinkEnabled(a)||d==null)return a;return e?b("AdsAdgroupWebsiteLinkPostTypeMutators").convertToHasWebsiteLinkFormat(a,c):b("AdsAdgroupWebsiteLinkPostTypeMutators").convertToHasNoWebsiteLinkFormat(a,c)}function h(a,c,d){__p&&__p();var e=b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a);if(e&&d!=null){e=a==null?void 0:(e=a.creative)==null?void 0:(e=e.asset_feed_spec)==null?void 0:e.videos;return e==null?a:e.reduce(function(e,f,h){var a=b("AdsAssetFeedFieldUtils").getAssetInteractivePollSpec(b("immutable").fromJS(f));f=b("AdsAssetFeedFieldUtils").getAssetInteractivePositionSpec(b("immutable").fromJS(f));if(a!=null){a=a.set("link_display",c);a=g(a,f||b("AdsInteractiveComponentConstants").DEFAULT_POSITION_SPEC);return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(e,d,b("AdsUnifiedCreativeAPIFields").videoID,h,b("AdsAPIAdAssetFeedVideosFields").INTERACTIVE_COMPONENTS_SPEC,b("immutable").fromJS({components:a}))}return e},a)}e=a==null?void 0:(e=a.creative)==null?void 0:(e=e.interactive_components_spec)==null?void 0:e.components;if(e==null)return a;var f=e.getIn([0,"poll_spec"]);e=e.getIn([0,"position_spec"]);f=f.set("link_display",c);return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.INTERACTIVE_COMPONENTS_SPEC.COMPONENTS,g(f,e))}function i(a){var c=b("AdsAdgroupSpecUtils").getDisplayURL(a),d=null;a=a==null?void 0:(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.link_urls;a!=null&&(d=a.getIn([0,b("AdsAPIAdAssetFeedLinkURLsFields").DISPLAY_URL]));return c==null?d:c}function j(a,c){__p&&__p();var d=b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a);if(d&&c!=null){d=a==null?void 0:(d=a.creative)==null?void 0:(d=d.asset_feed_spec)==null?void 0:d.videos;return d==null?a:d.reduce(function(d,e,f){__p&&__p();var a=b("AdsAssetFeedFieldUtils").getAssetInteractivePollSpec(b("immutable").fromJS(e));e=b("AdsAssetFeedFieldUtils").getAssetInteractivePositionSpec(b("immutable").fromJS(e));if(a!=null){if(a.get("link_display")==null)return d;a=a["delete"]("link_display");a=g(a,e||b("AdsInteractiveComponentConstants").DEFAULT_POSITION_SPEC);return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(d,c,b("AdsUnifiedCreativeAPIFields").videoID,f,b("AdsAPIAdAssetFeedVideosFields").INTERACTIVE_COMPONENTS_SPEC,b("immutable").fromJS({components:a}))}return d},a)}d=a==null?void 0:(d=a.creative)==null?void 0:(d=d.interactive_components_spec)==null?void 0:d.components;if(d==null)return a;var e=d.getIn([0,"poll_spec"]);d=d.getIn([0,"position_spec"]);if(e.get("link_display")==null)return a;e=e["delete"]("link_display");return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.INTERACTIVE_COMPONENTS_SPEC.COMPONENTS,g(e,d))}function c(a,b){var c,d=a;c=i(d);c!=null?d=h(d,c,b):d=j(a,b);return d}function k(a,c,d){return h(a,b("AdsCallToActionTypesCond").TYPES[c].text,d)}function d(a,c){var d=b("AdsAPIAdgroupRecordUtils").getCallToActionType(a,c);return b("isTruthy")(d)?k(a,d,c):j(a,c)}e.exports={getDisplayLink:i,removeDisplayLink:j,setAppInstallDisplayLink:k,setDisplayLink:h,updateAdgroupWebsiteLink:a,updateAppInstallDisplayLink:d,updateDisplayLink:c}}),null);
__d("AdsUEditorAdgroupChildAttachmentsMutators",["invariant","AdsAdgroupChildAttachmentsFields","AdsAdgroupChildAttachmentTypes","AdsAdgroupSpecUtils","AdsAPIAdgroupPaths","AdsAPICallToActionPaths","AdsAPIChildAttachmentPaths","AdsChildAttachmentsUtils","AdsEditorMPAConstants","AdsMultiProductConstants","AdsUnifiedCreativeAPIFieldMappings","AdsUnifiedCreativeAPIFields","DynamicAdsTemplateVideoShowreelTemplateConfig","getByPath","immutable","recoverableViolation","setByPath"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsUnifiedCreativeAPIFieldMappings").TEMPLATE_MAPPING,i=2;function a(a,c,d){if(b("AdsChildAttachmentsUtils").isStaticCarouselAd(c)){a=b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(c,a);var e=c.getIn(a);c=c.setIn(a,e.map(d))}return c}function c(a,c,d,e,f){__p&&__p();var g=f.imageHash,h=f.imageURL,i=f.imageCrops,k=f.thumbnailURL,l=b("AdsAdgroupChildAttachmentsFields").imageURL.get(a,c,d),m=b("AdsAdgroupChildAttachmentsFields").staticCard.get(a,c,d);a=j(a,c,d);switch(e){case"VIDEO":a=[b("AdsAdgroupChildAttachmentsFields").imageCrops,b("AdsAdgroupChildAttachmentsFields").imageHash,b("AdsAdgroupChildAttachmentsFields").imageURL].reduce(function(a,b){b=b.get(a,c,d);return b.supported===!0?a.deleteIn(b.path):a},a);e=f.videoID||b("AdsEditorMPAConstants").MPA_PLACEHOLDER_VIDEO_ID;f=b("AdsAdgroupChildAttachmentsFields").videoID.get(a,c,d);f.supported&&(a=a.setIn(f.path,e));l.supported&&k&&(a=a.setIn(l.path,k));m.supported&&(a=a.setIn(m.path,!0));break;case"IMAGE":a=[b("AdsAdgroupChildAttachmentsFields").imageCrops,b("AdsAdgroupChildAttachmentsFields").imageURL,b("AdsAdgroupChildAttachmentsFields").videoID].reduce(function(a,b){b=b.get(a,c,d);return b.supported===!0?a.deleteIn(b.path):a},a);f=b("AdsAdgroupChildAttachmentsFields").imageHash.get(a,c,d);e=b("AdsAdgroupChildAttachmentsFields").imageCrops.get(a,c,d);f.supported&&g?a=a.setIn(f.path,g):l.supported&&h&&(a=a.setIn(l.path,h));e.supported&&i&&(a=a.setIn(e.path,i));m.supported&&(a=a.setIn(m.path,!0));break;case"TEMPLATE_VIDEO":a=[b("AdsAdgroupChildAttachmentsFields").imageCrops,b("AdsAdgroupChildAttachmentsFields").imageHash,b("AdsAdgroupChildAttachmentsFields").imageURL,b("AdsAdgroupChildAttachmentsFields").videoID].reduce(function(a,b){b=b.get(a,c,d);return b.supported===!0?a.deleteIn(b.path):a},a);k=[b("AdsAdgroupChildAttachmentsFields").templateVideoSpecCustomization,b("AdsAdgroupChildAttachmentsFields").templateVideoSpecTemplateID].map(function(b){return b.get(a,c,d)});f=k[0];g=k[1];g.supported&&f.supported&&m.supported?a=a.setIn(g.path,b("DynamicAdsTemplateVideoShowreelTemplateConfig").default_template_id).setIn(f.path,b("immutable").Map(b("DynamicAdsTemplateVideoShowreelTemplateConfig").templates[b("DynamicAdsTemplateVideoShowreelTemplateConfig").default_template_id].customization)).deleteIn(m.path):b("recoverableViolation")("attempted to change media format to template video, but some fields were unsupported "+("templateID: "+(g.supported?"supported":"unsupported")+" customization: "+(f.supported?"supported":"unsupported")+" staticCard: "+(m.supported?"supported":"unsupported")),"dpa");break}return a}function j(a,c,d){c=b("AdsAdgroupChildAttachmentsFields").templateVideoSpecTemplateID.get(a,c,d);return c.supported?a.deleteIn(c.path.slice(0,-1)):a}function d(a,c,d,e){var f=b("AdsAdgroupChildAttachmentsFields").imageURL.get(a,c,d);c=b("AdsAdgroupChildAttachmentsFields").imageHash.get(a,c,d);f.supported&&(a=a.setIn(f.path,e));c.supported&&(a=a.deleteIn(c.path));d===0&&(a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_URL,e));return a}function f(a,c,d,e,f){__p&&__p();var g=b("AdsAdgroupChildAttachmentsFields").videoID.get(a,c,d),h=b("AdsAdgroupChildAttachmentsFields").imageHash.get(a,c,d);c=b("AdsAdgroupChildAttachmentsFields").imageURL.get(a,c,d);g.supported&&(a=a.setIn(g.path,e));h.supported&&(a=a.deleteIn(h.path));if(f){c.supported&&(a=a.setIn(c.path,b("getByPath")(f,["preferredThumbnail","uri"])));d===0&&(a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_URL,b("getByPath")(f,["preferredThumbnail","uri"])));return a}c.supported&&(a=a.deleteIn(c.path));return a}function g(a,c,d,e){c=b("AdsAdgroupChildAttachmentsFields").captionIDs.get(a,c,d);return c.supported?a.setIn(c.path,e):a}function k(a,b,c,d,e){var f=b.getUnifiedCreativeAPIFieldMapping(a).get("childAttachments"),g=a.getIn(f);return!g?a:a.withMutations(function(a){g.forEach(function(f,g){var h=c.get(a,b,g);if(e&&!e(h,f,a,g))return;h.supported&&a.setIn(h.path,d)})})}function l(a){return function(b,c,d,e){return b.supported&&e===a}}function m(a,b,c,d){return a.supported&&!a.value}function n(a,b,c,d){return a.supported&&!!a.value}function o(a,b){return function(c,d,e,f){d=a.get(e,b,f);return c.supported&&d.supported&&c.value!==d.value}}function p(a,c,d,e){return a.supported&&!c.getIn(b("AdsAPIChildAttachmentPaths").STATIC_CARD)}function q(a,c,d){__p&&__p();var e;if(b("AdsChildAttachmentsUtils").getPlaceDataIndex(a,d)===-1)return a;if(d.isDynamicProductCarouselAd(a))return t(a);c=b("AdsUnifiedCreativeAPIFields").childAttachments.getValue(a,d);if(!c)return a;c=c.filter(function(a){return a&&!a.get("place_data")});a=a.setIn(b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(a,d),c);var f=c.size;if(f===0||f>=b("AdsMultiProductConstants").MIN_PRODUCTS)return a;var g=c.first(),h=g.get("call_to_action");e=(e={},e.link=g.get("link"),e);if(h){var i;e=(i={},i.link=g.get("link"),i.call_to_action=(g={},g.type=h&&h.get("type"),g.value=b("immutable").fromJS(h&&h.get("value")),g),i)}c=c.toJS();for(var h=f;h<b("AdsMultiProductConstants").MIN_PRODUCTS;h++)c=c.concat(e);return a.setIn(b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(a,d),b("immutable").fromJS(c))}function r(a){__p&&__p();var c,d=b("AdsAdgroupSpecUtils").getCallToActionType(a);c=(c={},c.description=a.getIn(h.linkDescription),c.link=a.getIn(h.linkURL)||"",c.name=a.getIn(h.headline),c);if(d!=null){var e;d=b("immutable").Map((e={},e.type=d,e));e=b("getByPath")(b("AdsAdgroupSpecUtils").getCallToAction(a),b("AdsAPICallToActionPaths").VALUE.LEAD_GEN_FORM_ID);if(e){d=d.set("value",b("immutable").Map((a={},a.lead_gen_form_id=e,a)))}c.call_to_action=d}return b("immutable").fromJS(c)}function s(a,c){c=c.setIn(b("AdsAPIChildAttachmentPaths").STATIC_CARD,!0);var d=a.getIn(h.childAttachments);!d?d=b("immutable").fromJS([r(a),c]):d=d.splice(i,0,b("immutable").fromJS(c));return x(a,d)}function t(a){return u(a,b("AdsAdgroupChildAttachmentTypes").PLACE)}function u(a,c){__p&&__p();var d=a.getIn(h.childAttachments);if(!d)return a;var e=d.filter(b("AdsChildAttachmentsUtils").isDynamicAdsIntroCard).size>1;if(!e)return y(a);d=d.filter(function(d,e){e=b("AdsChildAttachmentsUtils").getChildAttachmentType(a,d);return e!==c});return x(a,d)}function v(a){return u(a,b("AdsAdgroupChildAttachmentTypes").STATIC)}function w(a,c){__p&&__p();var d,e=b("AdsAdgroupSpecUtils").getCallToActionType(a);d=(d={},d.link=a.getIn(h.linkURL)||"",d);c?(b("setByPath")(d,b("AdsAPIChildAttachmentPaths").TEMPLATE_VIDEO_SPEC.TEMPLATE_ID,b("DynamicAdsTemplateVideoShowreelTemplateConfig").default_template_id),b("setByPath")(d,b("AdsAPIChildAttachmentPaths").TEMPLATE_VIDEO_SPEC.CUSTOMIZATION,b("DynamicAdsTemplateVideoShowreelTemplateConfig").templates[b("DynamicAdsTemplateVideoShowreelTemplateConfig").default_template_id].customization)):b("setByPath")(d,b("AdsAPIChildAttachmentPaths").STATIC_CARD,!0);if(e!=null){e=b("immutable").Map((c={},c.type=e,c));c=b("getByPath")(b("AdsAdgroupSpecUtils").getCallToAction(a),b("AdsAPICallToActionPaths").VALUE.LEAD_GEN_FORM_ID);if(c){var f;e=e.set("value",b("immutable").Map((f={},f.lead_gen_form_id=c,f)))}d.call_to_action=e}c=a.getIn(h.childAttachments);!c?c=b("immutable").fromJS([d,r(a)]):c=c.splice(0,0,b("immutable").fromJS(d));return x(a,c)}function x(a,c){var d=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA;return a.deleteIn(h.headline).deleteIn(h.linkDescription).deleteIn(d.FORCE_SINGLE_LINK).setIn(h.childAttachments,c)}function y(a){var c=a.getIn(h.childAttachments),d=c.findIndex(function(a){return!a.getIn(b("AdsAPIChildAttachmentPaths").STATIC_CARD)}).toString(),e=c.getIn([d].concat(b("AdsAPIChildAttachmentPaths").NAME));c=c.getIn([d].concat(b("AdsAPIChildAttachmentPaths").DESCRIPTION));return a.setIn(h.headline,e).setIn(h.linkDescription,c).deleteIn(h.childAttachments)}e.exports={addLeadingStaticCard:w,appendPlaceData:s,childIterationConditions:{isCardIndex:l,isEmptyValue:m,hasValue:n,valueNotEqualOtherField:o,notStaticCard:p},mutateChildAttachments:a,removeAllStaticCards:y,removeLeadingStaticCard:v,removePlaceData:q,removeTemplatePlaceData:t,setChildCaptionIDs:g,setChildImageURL:d,setChildMediaFormat:c,setChildVideoID:f,setEachChildField:k}}),null);
__d("AdsUssdCodeUtils",["UssdCodesConfig"],(function(a,b,c,d,e,f){"use strict";var g="tel:",h={getAdAccountUSSDCodes:function(a){a=b("UssdCodesConfig").adAccountUSSDCodes.get(a);return a?a:[]},createUSSDCodeLink:function(a){return g+a.replace(/#/g,"%23")},getAdAccountDefaultUSSDCodeLink:function(a){a=h.getAdAccountUSSDCodes(a);return a.length>0?h.createUSSDCodeLink(a[0]):null}};e.exports=h}),null);
__d("adsCallToActionGetCTADefaultValueFromPage",["AdsCallToActionPhoneNumberUtils","AdsCallToActionTypesCond","AdsPageFields"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="fbgeo://";function a(a,c,d){__p&&__p();var e=null;switch(c){case b("AdsCallToActionTypesCond").TYPES.CALL_NOW.name:c=a.phone;c=c&&!b("AdsPageFields").isNotApplicable(c);c&&!d&&(e=b("AdsCallToActionPhoneNumberUtils").makePhoneNumber(a.phone));break;case b("AdsCallToActionTypesCond").TYPES.GET_DIRECTIONS.name:if(a.location&&!d){c=a.location;if(c.latitude&&c.longitude){c.name;c.name?d=c.name:a.single_line_address?d=a.single_line_address:d=c.latitude+","+c.longitude;e=""+g+c.latitude+","+(c.longitude+',"'+d+'"')}}break;case b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name:c=a.website;d=c&&!b("AdsPageFields").isNotApplicable(c);d&&(e=c);break}return e}e.exports=a}),null);
__d("adsInteractivePollHasFbFeedVideoPollSpec",["adsInteractivePollGetFbFeedVideoPollSpec"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("adsInteractivePollGetFbFeedVideoPollSpec")(a,c)!=null}e.exports=a}),null);
__d("AdsUEditorCallToActionMutators",["AdCampaignDestination","AdsAccountStore","AdsAdgroupSpecUtils","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAPIChildAttachmentPaths","AdsAPIObjectives","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsCallToActionGeoUtils","AdsCallToActionTypesCond","AdsInteractivePollLinkUtils","AdsLinkPostFormat","AdsLocalAwarenessUtils","AdsMutators","AdsPromotedObjectTypes","AdsUEditorAdgroupChildAttachmentsMutators","AdsUEditorAdgroupMultiProductMutators","AdsUEditorWebsiteMutators","AdsUEditorWhatsAppMutators","AdsUnifiedCreativeAPIFields","AdsUssdCodeUtils","AdsWhatsAppUtils","ApiAdObjectTypes","ApiObjectStorySpecInstantCheckoutAd","adsAccountGK","adsCallToActionGetCTADefaultValueFromPage","adsInteractivePollHasFbFeedVideoPollSpec","gkx","immutable","isFalsey","isTruthy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsInteractivePollLinkUtils").setAppInstallDisplayLink,h=function(a){__p&&__p();var c=a.accountID,d=a.adgroup,e=a.cachedCallToActionLink,f=a.callToActionType,h=a.campaignGroupPromotedPageID,k=a.objective,n=a.pages,o=a.promotedObjectType,p=a.specPlugin,s=a.eligibilityInformation;a=a.destination;var t=d;if(b("isTruthy")(f)){d=d;if(b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(t)&&!b("AdsAssetFeedUtils").isFormatAutomationAdgroupFromRecord(t)){t=b("AdsAssetFeedMutationUtils").setAssetAtIndex(t,p,b("AdsUnifiedCreativeAPIFields").callToActionType,0,f);var x=b("AdsUnifiedCreativeAPIFields").callToAction.getValue(t,p);x instanceof b("immutable").List&&x.size===1&&(t=b("AdsAssetFeedMutationUtils").setAssetsArrayInField(t,p,b("AdsUnifiedCreativeAPIFields").callToAction,x.setIn([0,"type"],f).toArray()))}else t=t.setIn(b("AdsUnifiedCreativeAPIFields").callToActionType.getPathOrThrow(t,p),f);t=b("AdsUEditorAdgroupMultiProductMutators").setInEachNonPlaceDataChild(["call_to_action","type"],f,t);(b("AdsAdgroupSpecUtils").isCTALinkCustomizable(t,k,h)||b("AdsAdgroupSpecUtils").isCTALinkCustomizable(d,k,h))&&(t=m({accountID:c,callToActionType:f,cachedCallToActionLink:e,adgroup:t,pages:n,objective:k,promotedObjectType:o,specPlugin:p,campaignGroupPromotedPageID:h}));j(f,k)&&(t=v(t,p));b("AdsWhatsAppUtils").isWhatsAppCTAType(f)?t=b("AdsUEditorWhatsAppMutators").setWhatsAppNumberToAdgroupCallToAction(t,p):t=u(t,p);(b("gkx")("910918")||b("adsAccountGK")._(b("AdsAccountStore").getSelectedAccount().getValue(),"4bkjBjLNd"))&&(t=l(t,p,f,k,o));x=i(k,h,f);x!=null&&(t=b("AdsUEditorWebsiteMutators").setLandingViewType({landingViewType:x,adgroup:t,pages:n,objective:k,promotedObjectType:o,specPlugin:p,campaignGroupPromotedPageID:h}))}else t=w(t,p),t=b("AdsUEditorAdgroupMultiProductMutators").deleteInEachChild(["call_to_action"],t);if(f!=="SHOP_NOW"&&k===b("AdsAPIObjectives").PRODUCT_CATALOG_SALES){d=b("AdsAPIAdgroupRecordUtils").getLinkPostFormat(t,p);d===b("AdsLinkPostFormat").MULTIPLE&&(t=t.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.INSTANT_CHECKOUT_AD_TYPE,b("ApiObjectStorySpecInstantCheckoutAd").NONE))}k===b("AdsAPIObjectives").APP_INSTALLS&&f!=null&&f!==""&&s!=null&&b("adsInteractivePollHasFbFeedVideoPollSpec")(t,s.spec)&&(t=g(t,f,p));c=k===b("AdsAPIObjectives").PRODUCT_CATALOG_SALES&&s!=null&&s.canBoostCatalog===!0&&b("AdsUnifiedCreativeAPIFields").callToActionValue.isSupported(t,p);c&&a===b("AdCampaignDestination").FACEBOOK&&(t=q(t,p,"MARKETPLACE"));c&&a!==b("AdCampaignDestination").FACEBOOK&&(t=r(t,p));return t};function i(a,c,d){if(!b("AdsLocalAwarenessUtils").isDynamicLocalAwareness(a,c))return null;switch(d){case b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name:case b("AdsCallToActionTypesCond").TYPES.ORDER_NOW.name:case b("AdsCallToActionTypesCond").TYPES.SHOP_NOW.name:return"EXTERNAL";case b("AdsCallToActionTypesCond").TYPES.GET_DIRECTIONS.name:return null;default:return null}}function j(a,c){return a===b("AdsCallToActionTypesCond").TYPES.WHATSAPP_MESSAGE.name||(a===b("AdsCallToActionTypesCond").TYPES.GET_DIRECTIONS.name||a===b("AdsCallToActionTypesCond").TYPES.CALL_NOW.name)&&c===b("AdsAPIObjectives").STORE_VISITS}var k=function(a){__p&&__p();var c=a.link,d=a.adgroup;a.pages;a.promotedObjectType;a=a.specPlugin;d=d;var e=["call_to_action","value","link"];a=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPath(d,a);a&&(d=d.setIn(a.concat(["link"]),c));a=b("AdsAdgroupSpecUtils").getCallToActionType(d);if(a===b("AdsCallToActionTypesCond").TYPES.GET_DIRECTIONS.name&&c!=null&&c!==""){a=b("AdsCallToActionGeoUtils").parseGeoLink(c);a&&(d=b("AdsUEditorAdgroupMultiProductMutators").setInEachPlaceDataChild(b("AdsAPIChildAttachmentPaths").PLACE_DATA.ADDRESS_STRING,a.get("name"),d),d=b("AdsUEditorAdgroupMultiProductMutators").setInEachPlaceDataChild(b("AdsAPIChildAttachmentPaths").PLACE_DATA.LATITUDE,a.get("coordinates").latitude,d),d=b("AdsUEditorAdgroupMultiProductMutators").setInEachPlaceDataChild(b("AdsAPIChildAttachmentPaths").PLACE_DATA.LONGITUDE,a.get("coordinates").longitude,d))}return b("AdsUEditorAdgroupMultiProductMutators").setInEachNonPlaceDataChild(e,c,d)},l=function(a,c,d,e,f){__p&&__p();if(f!==b("AdsPromotedObjectTypes").PRODUCT_SET)return a;if(d===b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name){e=q(a,c,"MESSENGER");f=e.getIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(e,c));if(f)return o(e,c,"link",f);else return e}else return r(a,c)},m=function(a){__p&&__p();var c=a.accountID,d=a.callToActionType,e=a.cachedCallToActionLink,f=a.adgroup,g=a.pages,h=a.objective,i=a.promotedObjectType,j=a.specPlugin;a=a.campaignGroupPromotedPageID;var l=b("AdsAdgroupSpecUtils").isCTALinkCustomizable(f,h,a);if(d===b("AdsCallToActionTypesCond").TYPES.DIAL_CODE.name&&c!=null&&c!==""){c=b("AdsUssdCodeUtils").getAdAccountDefaultUSSDCodeLink(c);return k({link:b("isTruthy")(c)?c:void 0,adgroup:f,pages:g,promotedObjectType:i,specPlugin:j})}if(!l&&b("isFalsey")(e))return k({link:void 0,adgroup:f,pages:g,promotedObjectType:i,specPlugin:j});if(b("isTruthy")(e))return k({link:e,adgroup:f,pages:g,promotedObjectType:i,specPlugin:j});e=f==null?void 0:(c=f.creative)==null?void 0:(l=c.object_story_spec)==null?void 0:l.page_id;if(b("isTruthy")(e)&&g&&g.has(e)){c=g.get(e);l=c&&b("adsCallToActionGetCTADefaultValueFromPage")(c,d,b("AdsLocalAwarenessUtils").isDynamicLocalAwareness(h,a));if(b("isTruthy")(l))return k({link:l,adgroup:f,pages:g,promotedObjectType:i,specPlugin:j})}return k({link:"",adgroup:f,pages:g,promotedObjectType:i,specPlugin:j})},n=function(a,c){return b("isTruthy")(c)?b("AdsMutators").setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.LINK_FORMAT,c,a):a};function o(a,c,d,e){__p&&__p();return b("AdsMutators").chain(function(a){__p&&__p();if(b("AdsAssetFeedUtils").hasPlacementCustomizationFromSpec(a)){if(b("AdsUnifiedCreativeAPIFields").callToAction.isSupported(a,c)){var f=b("AdsUnifiedCreativeAPIFields").callToAction.getValue(a,c);if(f instanceof b("immutable").List&&f.size===1)return b("AdsAssetFeedMutationUtils").setAssetsArrayInField(a,c,b("AdsUnifiedCreativeAPIFields").callToAction,f.setIn([0,"value",d],e).toArray())}return a}f=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPathOrThrow(a,c);return a.setIn(f.concat(d),e)},function(a){return b("AdsUEditorAdgroupChildAttachmentsMutators").mutateChildAttachments(c,a,function(a){return a.setIn(["call_to_action","value",d],e)})})(a)}function p(a,c,d){__p&&__p();return b("AdsMutators").chain(function(a){var e=b("AdsAssetFeedUtils").hasPlacementCustomizationFromSpec(a);if(e&&b("AdsUnifiedCreativeAPIFields").callToAction.isSupported(a,c)){var f=b("AdsUnifiedCreativeAPIFields").callToAction.getValue(a,c);return f instanceof b("immutable").List&&f.size===1?b("AdsAssetFeedMutationUtils").setAssetsArrayInField(a,c,b("AdsUnifiedCreativeAPIFields").callToAction,f.deleteIn([0,"value","app_destination_page_id"]).toArray()):a}if(e)return a;f=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPathOrThrow(a,c);return a.deleteIn(f.concat(d))},function(a){return b("AdsUEditorAdgroupChildAttachmentsMutators").mutateChildAttachments(c,a,function(a){return a.deleteIn(["call_to_action","value",d])})})(a)}function a(a,c,d){return b("AdsMutators").chain(function(a){return a.setIn(b("AdsUnifiedCreativeAPIFields").callToActionType.getPathOrThrow(a,d),c)},function(a){return b("AdsUEditorAdgroupChildAttachmentsMutators").mutateChildAttachments(d,a,function(a){return a.setIn(["call_to_action","type"],c)})})(a)}function c(a,b,c){return o(a,c,"lead_gen_form_id",b)}function d(a,b,c){return o(a,c,"is_canvas_video_transition_enabled",b)}function q(a,b,c){return o(a,b,"app_destination",c)}function r(a,c){return b("AdsUnifiedCreativeAPIFields").callToActionValue.isSupported(a,c)?p(a,c,"app_destination"):a}function f(a,b,c){return o(a,b,"app_destination_page_id",c)}function s(a,c){return b("AdsUnifiedCreativeAPIFields").callToActionValue.isSupported(a,c)||b("AdsAssetFeedUtils").hasPlacementCustomizationFromSpec(a)&&b("AdsUnifiedCreativeAPIFields").callToAction.isSupported(a,c)?p(a,c,"app_destination_page_id"):a}function t(a,b,c){return o(a,b,"whatsapp_number",c)}function u(a,c){return b("AdsUnifiedCreativeAPIFields").callToActionValue.isSupported(a,c)?p(a,c,"whatsapp_number"):a}function v(a,c){return!b("AdsUnifiedCreativeAPIFields").callToActionValue.isSupported(a,c)?a:p(a,c,"link")}function w(a,c){__p&&__p();return b("AdsMutators").chain(function(a){__p&&__p();a=a;if(b("AdsUnifiedCreativeAPIFields").callToActionType.isSupported(a,c)){var d=b("AdsUnifiedCreativeAPIFields").callToActionType.getPathOrThrow(a,c);a=a.deleteIn(d);d=d.slice(0,-1);var e=d[d.length-1]==="call_to_action";e&&(a=a.deleteIn(d))}b("AdsUnifiedCreativeAPIFields").callToActionValue.isSupported(a,c)&&(a=a.deleteIn(b("AdsUnifiedCreativeAPIFields").callToActionValue.getPathOrThrow(a,c)));return a},function(a){return b("AdsUEditorAdgroupChildAttachmentsMutators").mutateChildAttachments(c,a,function(a){return a.deleteIn(["call_to_action"])})})(a)}function x(a,c){__p&&__p();return b("AdsMutators").chain(function(a){__p&&__p();a=a;var d=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPathOrThrow(a,c);a.getIn(d)||(a=a.setIn(d.concat("link"),""));var e=a.getIn(d),f=b("AdsAPIAdgroupRecordUtils").getObjectType(a);if(f===b("ApiAdObjectTypes").VIDEO){f=a.getIn(d.concat("link_description"));var g=a.getIn(d.concat("link_title"));e=e.clear().setIn(["link_description"],f).setIn(["link_title"],g)}else e=e.clear();return a.setIn(d,e)},function(a){return b("AdsUEditorAdgroupChildAttachmentsMutators").mutateChildAttachments(c,a,function(a){a=a;var b=["call_to_action","value"];a.getIn(b)||(a=a.setIn(["call_to_action","value","link"],""));var c=a.getIn(b);return a.setIn(b,c.clear())})})(a)}h={setCallToAction:h,setCallToActionLink:k,setCallToActionLinkFormat:n,setCallToActionType:a,setCallToActionValueLeadGenFormID:c,setCallToActionValueCanvasVideoTranstionEnabled:d,setCallToActionValueAppDestination:q,deleteCallToActionValueAppDestination:r,setCallToActionValueAppDestinationPageID:f,deleteCallToActionValueAppDestinationPageID:s,setCallToActionValueWhatsAppNumber:t,deleteCallToActionValueWhatsAppNumber:u,deleteCallToActionValueLink:v,deleteCallToAction:w,resetCallToActionValue:x,setCallToActionValueField:o};e.exports=h}),null);
__d("AdsMessengerStandardTemplateDataProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:null};e.exports=a}),null);
__d("AdsMessengerVisualEditorUtils",["cx","fbt","AdsMessengerConstants","AdsMessengerJSONMediaFormatType","AdsMessengerJSONTemplateType","AdsMessengerStandardTemplateDataProvider","AdsMessengerVisualEditorCustomerActionType","AdsMessengerVisualEditorLandingScreenType","AdsPageStore","DateTime","FDSGuidanceCard.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentLink.react","FDSGuidanceCardContentText.react","FDSGuidanceCardHeader.react","React","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={getStandardTemplateDefaultJSON:function(a){var c,d,e,f,g,j,k=a?b("AdsMessengerConstants").DEFAULT_PERSONALIZED_WELCOME_MESSAGE_NEW_DESIGN:b("AdsMessengerConstants").DEFAULT_WELCOME_MESSAGE_NEW_DESIGN;a=i.getDefaultIceBreakers(a);c=[(c={},c.title=h._("I'd like to learn more"),c.content_type="text",c)];return j={},j.type="VISUAL_EDITOR",j.version=2,j.landing_screen_type=b("AdsMessengerVisualEditorLandingScreenType").WELCOME_MESSAGE,j.media_type=b("AdsMessengerJSONMediaFormatType").TEXT,j.text_format=(e={},e.customer_action_type=b("AdsMessengerVisualEditorCustomerActionType").ICE_BREAKERS,e.message=(d={},d.ice_breakers=a,d.quick_replies=[],d.text=k,d),e),j.image_format=(a={},a.customer_action_type=b("AdsMessengerVisualEditorCustomerActionType").QUICK_REPLIES,a.message=(d={},d.attachment=(e={},e.type="template",e.payload=(g={},g.template_type=b("AdsMessengerJSONTemplateType").GENERIC,g.elements=[(f={},f.title="",f.buttons=[],f)],g),e),d.quick_replies=c,d.text=k,d),a),j.video_format=(f={},f.customer_action_type=b("AdsMessengerVisualEditorCustomerActionType").QUICK_REPLIES,f.message=(g={},g.attachment=(e={},e.type=b("AdsMessengerJSONMediaFormatType").VIDEO,e.payload=(d={},d.attachment_id="",d),e),g.quick_replies=c,g.text=k,g),f),j.user_edit=!1,j.surface="visual_editor_new",j},getDefaultIceBreakers:function(a){__p&&__p();var c=b("AdsMessengerConstants").DEFAULT_ICEBREAKERS.map(function(a){return{title:a}});a=a?b("AdsPageStore").get(a):null;if(!a)return c;a=a.messenger_ads_default_icebreakers;if(!a)return c;else return a.slice(0,3).map(function(a){return{title:a}})},getPreviewDisabledNotice:function(a,c,d){c=c?d?h._("In-line previews are not currently supported for this JSON format."):h._("In-line previews are not currently supported for this JSON format. To see a preview of your message, you can send a test version to yourself in Messenger."):h._("In-line previews are not currently supported with JSON Creation. To see a preview of your message, you can send a test version to yourself in Messenger.");var e=h._("Preview in Messenger");return b("React").jsx("div",{className:"_3mqw",children:b("React").jsxs(b("FDSGuidanceCard.react"),{category:"active-feedback",children:[b("React").jsx(b("FDSGuidanceCardHeader.react"),{children:null}),b("React").jsxs(b("FDSGuidanceCardContent.react"),{children:[b("React").jsx(b("FDSGuidanceCardContentText.react"),{children:c}),b("React").jsx(b("FDSGuidanceCardContentLink.react"),{onPress:a,children:d?"":e})]})]})})},getDefaultWelcomeMessageTemplateName:function(){return h._("Welcome Message").toString()+" "+b("DateTime").localNow().format("m-d-y")},isVisualEditorData:function(a){return b("getByPath")(a,["type"])==="VISUAL_EDITOR"},isJSONData:function(a){return!i.isVisualEditorData(a)},isLegacyVisualEditorWelcomeMessage:function(a){if(!a)return!1;var b=null;try{b=JSON.parse(a)}catch(a){return!0}return b&&b instanceof Array?!1:!1},showMessengerPreviewSuccessDialog:function(a,c,d){var e=h._("Preview In Messenger");c=h._("A message has been sent to you from {page name}. Open Messenger on your phone to preview what your experience will look like to customers.",[h._param("page name",c||"your page")]);var f=function(a){a||d()};return b("React").jsxs(b("XUIDialog.react"),{height:200,shown:a,width:500,onToggle:f,children:[b("React").jsx(b("XUIDialogTitle.react"),{children:e}),b("React").jsx(b("XUIDialogBody.react"),{children:c}),b("React").jsx(b("XUIDialogFooter.react"),{children:b("React").jsx(b("XUIDialogOkayButton.react"),{use:"confirm",action:"cancel",onClick:d})})]})},getStandardTemplateMessage:function(a){var c=b("AdsMessengerStandardTemplateDataProvider").toFluxStore();c=c.getState();if(c)return JSON.parse(c);else return i.getStandardTemplateDefaultJSON(a)},parseWelcomeMessage:function(a,b){if(b)try{return JSON.parse(b)}catch(b){return i.getStandardTemplateDefaultJSON(a)}else return i.getStandardTemplateDefaultJSON(a)}};e.exports=i}),null);
__d("AdsUEditorMessengerMutators",["AdsAccountUtils","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAPIChildAttachmentPaths","AdsAPIObjectives","AdsCallToActionTypesCond","AdsMessengerConstants","AdsMessengerVisualEditorUtils","AdsMutators","AdsSponsoredMessageUtils","AdsUEditorAdgroupMultiProductMutators","AdsUEditorCallToActionMutators","AdsUEditorWebsiteMutators","AdsUnifiedCreativeAPIFields","AdsWebsiteAdUtils","ApiAdObjectTypes","isTruthy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();var c=a.adgroup,d=a.objective,e=a.promotedObjectType,f=a.specPlugin,g=a.campaignGroupPromotedPageID,h=a.supportPageEndCard;a.capabilities;if(b("AdsAPIAdgroupRecordUtils").isExistingPostAd(c))return c;a=c;c=(c=a)==null?void 0:(c=c.creative)==null?void 0:c.messenger_sponsored_message;if(b("isTruthy")(c)){a=a.deleteIn((c=b("AdsAPIAdgroupPaths")).CREATIVE.MESSENGER_SPONSORED_MESSAGE).deleteIn(c.CREATIVE.OBJECT_ID).setIn(c.CREATIVE.OBJECT_TYPE,b("ApiAdObjectTypes").SHARE).setIn(c.CREATIVE.OBJECT_STORY_SPEC.path,b("AdsSponsoredMessageUtils").getDefaultImageObjectStorySpec())}var i=d===b("AdsAPIObjectives").LEAD_GENERATION?b("AdsCallToActionTypesCond").TYPES.SIGN_UP.name:b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name,j="MESSENGER",k=b("AdsUnifiedCreativeAPIFields").headline.getPathOrThrow(a,f),l=a.getIn(k)||b("AdsMessengerConstants").DEFAULT_HEADLINE.toString();c=b("AdsMutators").chain(function(a){return b("AdsUEditorCallToActionMutators").setCallToAction({callToActionType:i,pages:null,cachedCallToActionLink:null,adgroup:a,campaignGroupPromotedPageID:g,objective:d,promotedObjectType:e,specPlugin:f})},function(a){return b("AdsUEditorCallToActionMutators").setCallToActionValueAppDestination(a,f,j)},function(a){return b("AdsUEditorWebsiteMutators").setWebsiteURL({websiteURL:b("AdsMessengerConstants").EMPTY_MESSENGER_LINK,adgroup:a,campaignGroupPromotedPageID:g,objective:d,promotedObjectType:e,specPlugin:f})},function(a){return b("AdsUEditorWebsiteMutators").setWebsiteURLInChildren({websiteURL:b("AdsMessengerConstants").EMPTY_MESSENGER_LINK,adgroup:a,campaignGroupPromotedPageID:g,objective:d,promotedObjectType:e,specPlugin:f})},function(a){return h?a.setIn(b("AdsUnifiedCreativeAPIFields").multiShareEndCard.getPathOrThrow(a,f),!1):a},function(a){return a.setIn(k,l)});return c(a)};c=function(a){__p&&__p();var c=a.adgroup,d=a.specPlugin,e=a.supportPageEndCard;if(b("AdsAPIAdgroupRecordUtils").isExistingPostAd(c))return c;var f=b("AdsUnifiedCreativeAPIFields").headline.getPathOrThrow(c,d),g=b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage.getPath(c,d),h=c.getIn(f);a=b("AdsMutators").chain(function(a){return b("AdsUEditorCallToActionMutators").deleteCallToActionValueAppDestination(a,d)},function(a){return b("AdsUEditorAdgroupMultiProductMutators").deleteInEachChild(b("AdsAPIChildAttachmentPaths").LINK,a)},function(a){return b("AdsUEditorAdgroupMultiProductMutators").deleteInEachChild(["link"],a)},function(a){return a.deleteIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,d))},function(a){return e?a.setIn(b("AdsUnifiedCreativeAPIFields").multiShareEndCard.getPathOrThrow(a,d),!0):a},function(a){return h===b("AdsMessengerConstants").DEFAULT_HEADLINE.toString()?a.deleteIn(f):a},function(a){return g?a.deleteIn(g):a});return a(c)};var g=function(a){a=b("AdsMessengerVisualEditorUtils").getStandardTemplateDefaultJSON(a);return JSON.stringify(a)};d=function(a){var c=a.adgroup,d=a.specPlugin;a=a.pageID;a=g(a);return b("isTruthy")(a)?c.setIn(b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage.getPathOrThrow(c,d),a):c};f=function(a){a=a.adgroup;return a.deleteIn((a=b("AdsAPIAdgroupPaths")).CREATIVE.MESSENGER_SPONSORED_MESSAGE).deleteIn(a.CREATIVE.OBJECT_ID).setIn(a.CREATIVE.OBJECT_TYPE,b("ApiAdObjectTypes").SHARE).setIn(a.CREATIVE.OBJECT_STORY_SPEC.path,b("AdsSponsoredMessageUtils").getDefaultImageObjectStorySpec())};a={setMessengerDestinationFields:a,deleteMessengerDestinationFields:c,deleteSponsoredMessagesFields:f,resetPageWelcomeMessage:d};e.exports=a}),null);
__d("AdsLandingViewTypeUtils",["invariant","AdsAdgroupSpecUtils","AdsAPIAdAssetFeedLinkURLsFields","AdsAPICampaignGroupRecordUtils","AdsAPIChildAttachmentPaths","AdsAPIObjectives","AdsAssetFeedFieldUtils","AdsBulkValueUtils","AdsChildAttachmentsUtils","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFieldMappings","AdsUnifiedCreativeAPIFields","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("immutable").List([]),i=["FACEBOOK_PAGE","STORE_LOCATOR","GET_DIRECTIONS"],j={fromAdObjects:function(a,c,d){var e=a.adgroup,f=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin(a),g=b("AdsChildAttachmentsUtils").getChildAttachmentsPath(e);a=b("AdsAPICampaignGroupRecordUtils").getObjective(a.campaignGroup);g=(g&&e.getIn(g)||h).filter(function(a){return!a.getIn(b("AdsAPIChildAttachmentPaths").PLACE_DATA.path)});g&&g.size?g=g.get(0).getIn(b("AdsAPIChildAttachmentPaths").LINK):g=f?b("AdsAssetFeedFieldUtils").firstAsset_TALK_WITH_ACE_BEFORE_USE(b("AdsUnifiedCreativeAPIFields").linkURL.getValue(e,f),b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL):b("AdsAdgroupSpecUtils").getLink(e);return j.fromURLComparison(g,c&&c.link,a,d)},fromURLComparison:function(a,c,d,e){e=e&&d===b("AdsAPIObjectives").STORE_VISITS;if(j.areEqualURLs(a,c)&&!e)return"FACEBOOK_PAGE";if(j.areEqualURLs(a,"https://fb.com/store_locator"))return"STORE_LOCATOR";return j.areEqualURLs(a,"https://fb.com/dynamic_get_directions")?"GET_DIRECTIONS":"EXTERNAL"},fromAttachmentsURLComparison:function(a,c,d,e,f){__p&&__p();a=b("AdsUnifiedCreativeAPIFields").childAttachments.getValue(a,d);a&&a.size||g(0,234);var h=a.filter(function(a){return!a.getIn(["place_data"])}).map(function(a){return j.fromURLComparison(a.getIn(["link"]),c,e,f)});d=function(){var a=i[k];if(h.every(function(b){return b===a}))return{v:a}};for(var k=0;k<i.length;k++){a=d();if(typeof a==="object")return a.v}return"EXTERNAL"},linkFromType:function(a,b){__p&&__p();var c;switch(a){case"FACEBOOK_PAGE":c=b.link;break;case"STORE_LOCATOR":c="https://fb.com/store_locator";break;case"GET_DIRECTIONS":c="https://fb.com/dynamic_get_directions";break;case"EXTERNAL":c=b.website;break;default:c=null}return c||""},getSupportedTypesFromAdObjects:function(a,c){if(a.length===0)return[];a=a.map(function(a){return j.getSupportedTypesFromAdObject(a,c)});var d=a[0];a=a.slice(1);return(d=b("immutable").Set(d)).intersect.apply(d,a).toArray()},getSupportedTypesByObjectiveAndCTA:function(a,c,d){__p&&__p();var e=[];switch(a){case b("AdsAPIObjectives").STORE_VISITS:switch(c){case"GET_DIRECTIONS":e=["EXTERNAL","STORE_LOCATOR","GET_DIRECTIONS"];break;default:e=["EXTERNAL","STORE_LOCATOR"]}d||e.push("FACEBOOK_PAGE");break;default:e=["FACEBOOK_PAGE","EXTERNAL"]}return e},getSupportedTypesFromAdObject:function(a,c){var d=b("AdsAPICampaignGroupRecordUtils").getObjective(a.campaignGroup);a=a.adgroup.getIn(b("AdsUnifiedCreativeAPIFieldMappings").TEMPLATE_MAPPING.callToActionType,null);return j.getSupportedTypesByObjectiveAndCTA(d,a,c)},areEqualURLs:function(a,b){return a!=null&&b!=null&&a.replace(/\/$/,"")===b.replace(/\/$/,"")}};e.exports=j}),null);
__d("adsAssetFeedHasCallToActionValue",["AdsAPIAdAssetCallToActionFields","immutable"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){a=(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.call_to_actions;if(a==null)return!1;a instanceof Array&&(a=b("immutable").fromJS(a));return a instanceof b("immutable").List?a.hasIn([c,b("AdsAPIAdAssetCallToActionFields").VALUE,d]):!1}e.exports=a}),null);
__d("AdsUEditorWebsiteMutators",["invariant","AdsAdgroupSpecUtils","AdsAPIAdAssetFeedFields","AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAPICampaignGroupRecordUtils","AdsAPIChildAttachmentPaths","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsCallToActionTypesCond","AdsChildAttachmentsUtils","AdsLandingViewTypeUtils","AdsLocalAwarenessUtils","AdsMutators","AdsPromotedObjectTypes","AdsUEditorAdgroupMultiProductMutators","AdsUEditorCallToActionMutators","AdsUEditorCampaignAdObjectsUtils","AdsUEditorWebsiteUtils","AdsUnifiedCreativeAPIFields","ApiAdObjectTypes","adsAssetFeedHasCallToActionValue","isAdsCanvasLink","killswitch","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsMutators").deleteIn,i=b("AdsMutators").setIn,j=function(a){__p&&__p();var c=a.adgroup,d=a.objectType,e=a.objective,f=a.campaignGroupPromotedPageID;a.promotedObjectType;a=a.specPlugin;if(b("AdsAssetFeedUtils").hasPlacementCustomizationFromSpec(c))return b("adsAssetFeedHasCallToActionValue")(c,0,"link");if(d!==b("ApiAdObjectTypes").SHARE)return!1;d=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPath(c,a);a=d&&c.getIn(d.concat(["link"]));return!a?!1:!b("AdsAdgroupSpecUtils").isCTALinkCustomizable(c,e,f)},k=function(a){var c=a.index,d=a.adgroup,e=a.objective,f=a.campaignGroupPromotedPageID;a.promotedObjectType;a=b("AdsChildAttachmentsUtils").getInChild(c,b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.LINK,d);return!a?!1:!b("AdsAdgroupSpecUtils").isCTALinkCustomizable(d,e,f)},l=function(a){__p&&__p();var c=a.adgroup,d=a.campaignGroupPromotedPageID,e=a.objective,f=a.promotedObjectType,g=a.specPlugin;a=a.websiteURL;var k=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE);k===b("ApiAdObjectTypes").SHARE&&b("AdsAdgroupSpecUtils").isLinkDataEligible(e,f)&&!p(c,e,d)&&!b("AdsAPIAdgroupRecordUtils").isTemplateCreative(c)&&!b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(c)?c=i(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.ATTACHMENT_STYLE,"link",c):c=h(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.ATTACHMENT_STYLE,c);if(j({adgroup:c,objectType:k,objective:e,campaignGroupPromotedPageID:d,promotedObjectType:f,specPlugin:g}))if(b("AdsAssetFeedUtils").isPACAdgroupFromRecord(c))c=b("AdsUEditorCallToActionMutators").setCallToActionValueField(c,g,"link",a);else{k=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPath(c,g);k&&(c=c.setIn(k.concat(["link"]),a))}b("AdsAdgroupSpecUtils").isAppLinkDataEligible(e,f)&&(c=b("AdsUEditorAdgroupMultiProductMutators").setInEachNonPlaceDataChild(b("AdsAPIChildAttachmentPaths").LINK,a,c),c=b("AdsUEditorAdgroupMultiProductMutators").setInEachNonPlaceDataChild(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.LINK,a,c));d=b("AdsUnifiedCreativeAPIFields").callToActionType.getPath(c,g);k=d?c.getIn(d):null;k!=null&&k===b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name&&f===b("AdsPromotedObjectTypes").PRODUCT_SET&&(c=b("AdsUEditorCallToActionMutators").setCallToActionValueField(c,g,"link",a));b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(c)&&!b("AdsAssetFeedUtils").isFormatAutomationAdgroupFromRecord(c)?c=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(c,g,b("AdsUnifiedCreativeAPIFields").linkURL,b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(c,b("AdsAPIAdAssetFeedFields").LINK_URLS),b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL,a):c=c.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(c,g),a);c=m(c,b("AdsUEditorWebsiteUtils").getVideoLPPFormat(c,e));return c},m=function(a,c){c&&(a=i(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.LINK_FORMAT,c,a));return a},n=function(a){var c=a.websiteURL,d=a.adgroup,e=a.objective,f=a.promotedObjectType,g=a.specPlugin,h=a.campaignGroupPromotedPageID;if(!b("AdsChildAttachmentsUtils").isStaticCarouselAd(d))return l({specPlugin:g,websiteURL:c,adgroup:d,objective:e,promotedObjectType:f,campaignGroupPromotedPageID:h});d=b("AdsUEditorAdgroupMultiProductMutators").setInEachNonPlaceDataChild(b("AdsAPIChildAttachmentPaths").LINK,c,d);b("AdsUEditorAdgroupMultiProductMutators").forEachChild(d,function(a,g,i){if(b("AdsChildAttachmentsUtils").hasPlaceData(a))return;k({index:g,adgroup:d,objective:e,campaignGroupPromotedPageID:h,promotedObjectType:f})&&(d=b("AdsUEditorAdgroupMultiProductMutators").setInChild(g,b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.LINK,c,d))});return d},o=function(a){var c=a.websiteURL;a=a.adgroup;return b("AdsUEditorAdgroupMultiProductMutators").setInEachDynamicChild(b("AdsAPIChildAttachmentPaths").LINK,c,a)},p=function(a,c,d){return b("AdsLocalAwarenessUtils").isDynamicLocalAwareness(c,d)};c=function(a){var c,d=a.landingViewType,e=a.adgroup,f=a.pages,h=a.objective,i=a.promotedObjectType,j=a.specPlugin;a=a.campaignGroupPromotedPageID;c=(c=e.creative)==null?void 0:(c=c.object_story_spec)==null?void 0:c.page_id;c&&f&&f.has(c)||g(0,2379);f=b("nullthrows")(f.get(c));c=b("AdsLandingViewTypeUtils").linkFromType(d,f);e=n({specPlugin:j,websiteURL:c,adgroup:e,objective:h,promotedObjectType:i,campaignGroupPromotedPageID:a});return e};function a(a){var c=a.adgroup,d=a.campaign,e=a.campaignGroup,f=a.specPlugin;a=a.websiteURL;var g=e.objective,h=b("AdsAPICampaignGroupRecordUtils").getPromotedObjectPageID(e);d=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:d,campaignGroup:e});e=l({websiteURL:a,adgroup:c,campaignGroupPromotedPageID:h,objective:g,promotedObjectType:d,specPlugin:f});f.isDynamicProductCarouselAd(c)&&!b("killswitch")("DYNAMIC_ADS_UI_PROPAGATE_CREATIVE_LINK_TO_DYNAMIC_CHILD_ATTACHMENTS")&&(e=o({websiteURL:a,adgroup:e}));b("isAdsCanvasLink")(a)&&(e=n({websiteURL:a,adgroup:e,campaignGroupPromotedPageID:h,objective:g,promotedObjectType:d,specPlugin:f}));return e}d={setWebsiteURL:l,setWebsiteURLInChildren:n,setWebsiteURLInDynamicChildren:o,setWebsiteURLReducerUtil:a,setLandingViewType:c,shouldUpdateCallToActionURLInChild:k};e.exports=d}),null);
__d("AdsUEditorWhatsAppMutators",["AdsAPIAdAssetFeedTitlesFields","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAPIChildAttachmentPaths","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsCallToActionTypesCond","AdsMutators","AdsPageStore","AdsPageUtils","AdsPromotedObjectTypes","AdsUEditorAdgroupMultiProductMutators","AdsUEditorCallToActionMutators","AdsUEditorMessengerMutators","AdsUnifiedCreativeAPIFields","AdsWhatsAppConstants","AdsWhatsAppUtils","isTruthy","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsWhatsAppConstants").DEFAULT_WHATSAPP_NUMBER;a=function(a){__p&&__p();var c=a.adgroup,d=a.campaignPromotedPageID;a.objective;a.promotedObjectType;var e=a.specPlugin,f=a.whatsAppNumber,h=f===void 0?g:f,i=a.whatsAppBusinessProfileID;if(b("AdsAPIAdgroupRecordUtils").isExistingPostAd(c))return c;f=b("AdsMutators").chain(function(a){return b("AdsUEditorCallToActionMutators").setCallToActionValueWhatsAppNumber(a,e,h)},function(a){return a.setIn(b("AdsUnifiedCreativeAPIFields").pageID.getPathOrThrow(a,e),d)},function(a){return a.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,e),b("AdsWhatsAppUtils").getDefaultCTALink(h))},function(a){if(b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a))return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,e,b("AdsUnifiedCreativeAPIFields").headline,0,b("AdsAPIAdAssetFeedTitlesFields").TEXT,b("AdsWhatsAppConstants").DEFAULT_HEADLINE.toString());else return a.setIn(b("AdsUnifiedCreativeAPIFields").headline.getPathOrThrow(a,e),b("AdsWhatsAppConstants").DEFAULT_HEADLINE.toString())},function(a){return b("isTruthy")(i)?a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.WHATSAPP_BUSINESS_PROFILE_ID,i):a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.WHATSAPP_BUSINESS_PROFILE_ID)});return f(c)};c=function(a){var c=a.adgroup;a=a.whatsAppBusinessProfileID;return b("isTruthy")(a)?c.setIn(b("AdsAPIAdgroupPaths").CREATIVE.WHATSAPP_BUSINESS_PROFILE_ID,a):c.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.WHATSAPP_BUSINESS_PROFILE_ID)};d=function(a){__p&&__p();var c=a.adgroup,d=a.campaignPromotedPageID,e=a.objective;a.promotedObjectType;var f=a.specPlugin;a=a.whatsAppNumber;var h=a===void 0?g:a;if(b("AdsAPIAdgroupRecordUtils").isExistingPostAd(c))return c;a=b("AdsMutators").chain(function(a){return b("AdsUEditorMessengerMutators").deleteSponsoredMessagesFields({adgroup:a})},function(a){return b("AdsUEditorCallToActionMutators").setCallToAction({callToActionType:b("AdsCallToActionTypesCond").TYPES.WHATSAPP_MESSAGE.name,pages:null,cachedCallToActionLink:null,adgroup:a,campaignGroupPromotedPageID:d,objective:e,promotedObjectType:b("AdsPromotedObjectTypes").WHATSAPP,specPlugin:f})},function(a){return b("AdsUEditorCallToActionMutators").setCallToActionValueWhatsAppNumber(a,f,h)},function(a){return a.setIn(b("AdsUnifiedCreativeAPIFields").pageID.getPathOrThrow(a,f),d)},function(a){return a.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,f),b("AdsWhatsAppUtils").getDefaultCTALink(h))},function(a){if(b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a))return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,f,b("AdsUnifiedCreativeAPIFields").headline,0,b("AdsAPIAdAssetFeedTitlesFields").TEXT,b("AdsWhatsAppConstants").DEFAULT_HEADLINE.toString());else return a.setIn(b("AdsUnifiedCreativeAPIFields").headline.getPathOrThrow(a,f),b("AdsWhatsAppConstants").DEFAULT_HEADLINE.toString())});return a(c)};f=function(a){__p&&__p();var c=a.adgroup,d=a.specPlugin,e=a.supportPageEndCard;if(b("AdsAPIAdgroupRecordUtils").isExistingPostAd(c))return c;var f=b("AdsUnifiedCreativeAPIFields").headline.getPathOrThrow(c,d),g=c.getIn(f);a=b("AdsMutators").chain(function(a){return b("AdsUEditorCallToActionMutators").deleteCallToActionValueWhatsAppNumber(a,d)},function(a){return b("AdsUEditorAdgroupMultiProductMutators").deleteInEachChild(b("AdsAPIChildAttachmentPaths").LINK,a)},function(a){return a.deleteIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,d))},function(a){return e?a.setIn(b("AdsUnifiedCreativeAPIFields").multiShareEndCard.getPathOrThrow(a,d),!0):a},function(a){return g===b("AdsWhatsAppConstants").DEFAULT_HEADLINE.toString()?a.deleteIn(b("nullthrows")(f)):a});return a(c)};var h=function(a,c){var d=a.getIn(b("AdsUnifiedCreativeAPIFields").pageID.getPathOrThrow(a,c)),e=b("AdsWhatsAppConstants").DEFAULT_WHATSAPP_NUMBER;if(d){d=b("AdsPageStore").get(d);e=b("AdsPageUtils").getWhatsAppNumber(d,!0)||e}return b("AdsUEditorCallToActionMutators").setCallToActionValueWhatsAppNumber(a,c,e)},i=function(a,c){var d=a.getIn(b("AdsUnifiedCreativeAPIFields").pageID.getPathOrThrow(a,c)),e=b("AdsWhatsAppConstants").DEFAULT_WHATSAPP_NUMBER;if(d){d=b("AdsPageStore").get(d);e=b("AdsPageUtils").getWhatsAppNumber(d,!0)||e}d=b("AdsMutators").chain(function(a){return b("AdsUEditorCallToActionMutators").setCallToActionValueWhatsAppNumber(a,c,e)},function(a){return a.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,c),b("AdsWhatsAppUtils").getDefaultCTALink(e))});return d(a)};f={deleteWhatsAppDestinationFields:f,setFieldsForSelectingPage:a,setFieldsForSelectingPromotedObjectType:d,setWhatsAppNumberToAdgroupCallToAction:h,setWhatsAppNumberToAdgroupCallToActionAndSetLinkURL:i,setWhatsAppBusinessProfileID:c};e.exports=f}),null);
__d("adsCampaignDestinationTypeSelector",["AdsCampaignCombinedStore","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("AdsCampaignCombinedStore")],function(a){a=b("AdsCampaignCombinedStore").getCached(a).getValue();return(a=a)!=null?a.destination_type:a},{name:e.id+".adsCampaignDestinationTypeSelector"});e.exports=a}),null);
__d("adsObjectiveSelector",["AdsCampaignGroupCombinedStore","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("AdsCampaignGroupCombinedStore")],function(a){a=a.adgroup;a=a.campaign_id;a=b("AdsCampaignGroupCombinedStore").getCached(a).getValueEnforcing();return a.objective},{name:e.id+".adsObjectiveSelector"});e.exports=a}),null);
__d("adsPromotedObjectTypeSelector_LEGACY",["AdsAPICampaignRecordUtils","AdsCampaignCombinedStore","AdsCampaignGroupCombinedStore","AdsPromotedObjectTypes","AdsPromotedObjectTypeUIProvider","adsCreateKeyedStoreSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPromotedObjectTypeUIProvider").toFluxStore();a=b("adsCreateKeyedStoreSelector")([b("AdsCampaignCombinedStore"),b("AdsCampaignGroupCombinedStore"),g],{getKey:function(a){return a},getInputData:function(a){var c=b("AdsCampaignCombinedStore").getRecord(a).getValue(),d=c==null?void 0:c.campaign_id;d=d!=null?b("AdsCampaignGroupCombinedStore").get(d).getValue():null;return{campaign:c,objective:d==null?void 0:d.objective,uiState:g.getState().get(a)}},computeResult:function(a,c){a=c.campaign;var d=c.objective;c=c.uiState;return a==null||d==null?b("AdsPromotedObjectTypes").NONE:b("AdsAPICampaignRecordUtils").getPromotedObjectType(d,a,(d=c)!=null?d:void 0)}});e.exports=a}),null);
__d("AdsAdgroupCallToActionMutatorsAdapter",["AdsAdgroupSpecPathPluginResolver","AdsAudienceDirectConfig","AdsCampaignGroupPromotedPageIDSelector","AdsDataAtom","AdsUEditorCallToActionMutators","adsCampaignDestinationTypeSelector","adsObjectiveSelector","adsPromotedObjectTypeSelector_LEGACY","AdsAdgroupEditorStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,c,d){__p&&__p();var e=b("AdsAdgroupEditorStore");e=e.getCachedCallToActionLink(c.id,a);var f=b("AdsAudienceDirectConfig").accountType,g=b("adsObjectiveSelector")({adgroup:c}),h=c.adset_id;b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor(b("adsPromotedObjectTypeSelector_LEGACY").getStores().map(function(a){return a.getDispatchToken()}));var i=b("adsPromotedObjectTypeSelector_LEGACY")(h);f=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:f,objective:g,promotedObjectType:i});var j=c.campaign_id;j=b("AdsCampaignGroupPromotedPageIDSelector")(j);h=b("adsCampaignDestinationTypeSelector")(h);return b("AdsUEditorCallToActionMutators").setCallToAction({adgroup:c,cachedCallToActionLink:e,callToActionType:a,campaignGroupPromotedPageID:j,objective:g,pages:d,promotedObjectType:i,specPlugin:f,destination:h})};c=function(a,c){var d=b("AdsAudienceDirectConfig").accountType,e=b("adsObjectiveSelector")({adgroup:c}),f=c.adset_id;b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor(b("adsPromotedObjectTypeSelector_LEGACY").getStores().map(function(a){return a.getDispatchToken()}));f=b("adsPromotedObjectTypeSelector_LEGACY")(f);d=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:d,objective:e,promotedObjectType:f});return b("AdsUEditorCallToActionMutators").setCallToActionLink({link:a,adgroup:c,promotedObjectType:f,specPlugin:d})};e.exports={setCallToAction:a,setCallToActionLink:c}}),null);
__d("AdsLocalizedPlacementsMutators",["invariant","AdsAPIAdAssetCustomizationRuleFields","AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetFeedFields","AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAPITargetFields","AdsAssetFeedFieldToRuleLabelMapping","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsBrandAwarenessUtils","AdsDLOConstantUtils","AdsDLODefaultAssetConfig","AdsDLOFieldToAdlabelsMapping","AdsDLOLanguageUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementConstants","AdsTargetingRuleUtils","AdsUnifiedCreativeAPIFields","ApiDynamicCreativeOptimizationTypes","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsPlacementConstants").PLACEMENT_FIELD_TO_AD_SET_PATHS,i={convertTargetRulePACAdgroupToACR:function(a){var c=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TARGET_RULES);if(c==null)return a;c=c.map(function(a){var c=a.get(b("AdsAPIAdAssetTargetRuleFields").TARGETING);return a["delete"](b("AdsAPIAdAssetTargetRuleFields").TARGETING).set(b("AdsAPIAdAssetTargetRuleFields").CUSTOMIZATION_SPEC,c)});return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,c).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TARGET_RULES)},convertPACToLocalizedPlacementsAdgroup:function(a,c,d){__p&&__p();if(!b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a))return a;var e=i._convertPACRulesToLocalizedPlacementRules(a);e=b("AdsAssetFeedUtils").setOptimizationType(e,b("ApiDynamicCreativeOptimizationTypes").LOCALIZED_PLACEMENTS);var f=c.objective,h=(a=e.creative)==null?void 0:a.asset_feed_spec,j=null;b("AdsDLOConstantUtils").isSupportedOptionalLinksObjective(f)&&(j=b("AdsBrandAwarenessUtils").isWebsiteLinkEnabled(e));b("AdsDLODefaultAssetConfig").forEach(function(a,c){if(!a.isUsedForObjective(f,j,d))return;h!=null&&h instanceof b("immutable").Record||g(0,13276);var i=h.get(c)||b("immutable").List();if(!i.isEmpty())return;h=h.set(c,i.push(b("immutable").Map([[a.pathToUpdate,a.getDefaultValue(e)]])))});return e.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path,h)},_convertPACRulesToLocalizedPlacementRules:function(a){__p&&__p();var c,d,e,f;if(!b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a))return a;c=(c=a.creative)==null?void 0:(c=c.asset_feed_spec)==null?void 0:c.bodies;d=(d=a.creative)==null?void 0:(d=d.asset_feed_spec)==null?void 0:d.titles;e=(e=a.creative)==null?void 0:(e=e.asset_feed_spec)==null?void 0:e.descriptions;f=(f=a.creative)==null?void 0:(f=f.asset_feed_spec)==null?void 0:f.link_urls;var g=a;c!=null&&c.size===1&&(g=g.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.BODIES.concat("0",b("AdsAPIAdAssetFeedBodiesFields").ADLABELS)));d!=null&&d.size===1&&(g=g.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES.concat("0",b("AdsAPIAdAssetFeedBodiesFields").ADLABELS)));e!=null&&e.size===1&&(g=g.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.DESCRIPTIONS.concat("0",b("AdsAPIAdAssetFeedBodiesFields").ADLABELS)));f!=null&&f.size===1&&(g=g.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS.concat("0",b("AdsAPIAdAssetFeedBodiesFields").ADLABELS)));c=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES);var i=b("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements(c),j=h.keySeq();d=c.map(function(a){if(!b("immutable").is(a,i))return a;var c=a.get(b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC),d=c instanceof b("immutable").Map?c:b("immutable").Map();j.forEach(function(a){d=d["delete"](a)});return a["delete"](b("AdsAPIAdAssetCustomizationRuleFields").BODY_LABEL)["delete"](b("AdsAPIAdAssetCustomizationRuleFields").TITLE_LABEL)["delete"](b("AdsAPIAdAssetCustomizationRuleFields").DESCRIPTION_LABEL).set(b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC,d).set(b("AdsAPIAdAssetCustomizationRuleFields").IS_DEFAULT,!0)});return g.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,d)},convertDLOToLocalizedPlacementsAdgroup:function(a,c){__p&&__p();if(!b("AdsAssetFeedUtils").isDLOAdgroupFromRecord(a))return a;var d=b("AdsAssetFeedUtils").getMediaTypeFromFormat(a);if(d==null)return a;if(b("AdsAssetFeedUtils").getDistinctMediaAssetCount(a,d)!==1)return a;var e=b("AdsPlacementAssetUtils").makeUniqueLabelNameForPlacementAsset();a=b("AdsAssetFeedUtils").setOptimizationType(a,b("ApiDynamicCreativeOptimizationTypes").LOCALIZED_PLACEMENTS);a=i._setFirstMediaAssetLabel(a,c,d,e);return i._setMediaLabelInRule(a,d,e)},_setFirstMediaAssetLabel:function(a,c,d,e){if(d===b("AdsAPIAdAssetFeedFields").IMAGES)return b("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,0,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,e);else if(d===b("AdsAPIAdAssetFeedFields").VIDEOS)return b("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").videoID,0,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,e);return a},_setMediaLabelInRule:function(a,c,d){__p&&__p();var e;e=(e=a.creative)==null?void 0:(e=e.asset_feed_spec)==null?void 0:e.asset_customization_rules;if(e==null)return a;var f=b("AdsAssetFeedFieldToRuleLabelMapping").get(c);if(f==null)return a;c=e.map(function(a){var c=a.get(f);if(c==null||!(c instanceof b("immutable").Map))return a;c=c.set("name",d);return a.set(f,c)});return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,c)},addPlacementsToAssetCustomizationRules:function(a,c,d,e){__p&&__p();var f;if(!b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(a))return a;f=(f=a.creative)==null?void 0:(f=f.asset_feed_spec)==null?void 0:f.asset_customization_rules;if(f==null)return a;var g=f.find(function(a){return a.get(b("AdsAPIAdAssetCustomizationRuleFields").IS_DEFAULT)===!0});g=i._getMediaLabelFromAssetCustomizationRule(g,c);f=i._addNewPlacementRulesToAssetCustomizationRules(f,g,d,c,e);return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,f)},_getMediaLabelFromAssetCustomizationRule:function(a,b){a=a.getIn([b,"name"]);if(a==null)return null;typeof a==="string"||g(0,14664);return a},_convertPlacementListToCustomizationSpec:function(a){a=a.reduce(function(a,c){b("AdsTargetingRuleUtils").assertValidPositionForPlatform(c.position,c.platform);return a.update("publisher_platforms",function(a){return(a||b("immutable").Set()).add(c.platform)}).update(b("AdsTargetingRuleUtils").PLATFORMS_TO_TARGETING_POSITION_FIELDS[c.platform],function(a){return(a||b("immutable").Set()).add(c.position)})},b("immutable").Map());return a.map(function(a){return a.toList()})},_addNewPlacementRulesToAssetCustomizationRules:function(a,c,d,e,f){var g=b("immutable").Map().set("name",d);d=a.filter(function(a){return i._getMediaLabelFromAssetCustomizationRule(a,e)===c});d=d.map(function(a){var c=a.getIn([b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC,b("AdsAPITargetFields").LOCALES]);c=i._convertPlacementListToCustomizationSpec(f).set(b("AdsAPITargetFields").LOCALES,c);return a["delete"](b("AdsAPIAdAssetCustomizationRuleFields").IS_DEFAULT).set(e,g).set(b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC,c)});return a.concat(d)},removeAllMediaInLocalizedPlacementsAdgroup:function(a){__p&&__p();var c;if(!b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(a))return a;c=(c=a.creative)==null?void 0:c.asset_feed_spec;if(c==null)return a;var d=c.asset_customization_rules;if(d==null)return a;c=c;c.images!=null&&(c=c.set(b("AdsAPIAdAssetFeedFields").IMAGES,b("immutable").List()));c.videos!=null&&(c=c.set(b("AdsAPIAdAssetFeedFields").VIDEOS,b("immutable").List()));d=d.map(function(a){return a["delete"](b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL)["delete"](b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL)});return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path,c.set(b("AdsAPIAdAssetFeedFields").ASSET_CUSTOMIZATION_RULES,d))},convertLocalizedPlacementsToPAC:function(a){__p&&__p();if(!b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(a))return a;var c=b("AdsDLOLanguageUtils").getAddedLanguagesCountFromAdgroup(a);if(c>0)return a;c=(c=a.creative)==null?void 0:c.asset_feed_spec;var d=c==null?void 0:c.asset_customization_rules;if(c==null||d==null)return a;var e=d.size;e=b("immutable").List(Array.from({length:e},function(){return b("AdsPlacementAssetUtils").makeUniqueLabelNameForPlacementAsset()}));var f=b("AdsDLOLanguageUtils").getPrimaryLanguageFromAdgroup(a);d=i.convertLocalizedPlacementsRulesWithOneLanguageToPACRules(d,e);c=i.convertLocalizedPlacementsAssetFeedSpecToPACAssetFeedSpec(c,f,e);f=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path,c.set(b("AdsAPIAdAssetFeedFields").ASSET_CUSTOMIZATION_RULES,d));return b("AdsAssetFeedUtils").setOptimizationType(f,b("ApiDynamicCreativeOptimizationTypes").PLACEMENT)},convertLocalizedPlacementsRulesWithOneLanguageToPACRules:function(a,c){__p&&__p();return a.map(function(a,d){__p&&__p();var e,f=a["delete"](b("AdsAPIAdAssetCustomizationRuleFields").IS_DEFAULT);a=a.get(b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC);a!=null&&a instanceof b("immutable").Map||g(0,14442);a=a["delete"](b("AdsAPITargetFields").LOCALES);b("AdsAssetFeedFieldToRuleLabelMapping").forEach(function(a,c){switch(a){case b("AdsAPIAdAssetCustomizationRuleFields").IMAGE_LABEL:case b("AdsAPIAdAssetCustomizationRuleFields").VIDEO_LABEL:return;default:f=f["delete"](a);return}});return f.merge((e={},e[b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC]=a,e[b("AdsAPIAdAssetCustomizationRuleFields").BODY_LABEL]=b("immutable").Map((a={},a.name=c.get(d),a)),e[b("AdsAPIAdAssetCustomizationRuleFields").TITLE_LABEL]=b("immutable").Map((a={},a.name=c.get(d),a)),e[b("AdsAPIAdAssetCustomizationRuleFields").LINK_URL_LABEL]=b("immutable").Map((a={},a.name=c.get(d),a)),e))})},convertLocalizedPlacementsAssetFeedSpecToPACAssetFeedSpec:function(a,c,d){__p&&__p();var e=d.map(function(a){return b("immutable").Map().set("name",a)}),f=a;b("AdsDLOFieldToAdlabelsMapping").forEach(function(d,g){__p&&__p();if(g===b("AdsAPIAdAssetFeedFields").IMAGES||g===b("AdsAPIAdAssetFeedFields").VIDEOS)return;var h=a.get(g);if(h==null)return;h=h.map(function(a,f){__p&&__p();var h;switch(g){case b("AdsAPIAdAssetFeedFields").BODIES:case b("AdsAPIAdAssetFeedFields").TITLES:case b("AdsAPIAdAssetFeedFields").LINK_URLS:h=e;break;default:h=a.get(d)}if(h==null)return a;f=h.filter(function(a){return a.get("name")!==c});return f.isEmpty()?a["delete"](d):a.set(d,f)});f=f.set(g,h.isEmpty()?void 0:h)});return f}};e.exports=i}),null);
__d("AdsOverlaysUtils",["AdsAPIAdgroupPaths","AdsInterfacesLogger","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={hasImageOverlaySpec:function(a){a=(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.template_data)==null?void 0:a.image_overlay_spec;return!!a},hasCustomOverlaySpec:function(a){var c;c=(c=a.creative)==null?void 0:(c=c.object_story_spec)==null?void 0:(c=c.link_data)==null?void 0:c.custom_overlay_spec;a=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.PHOTO_DATA.CUSTOM_OVERLAY_SPEC.path);return!!c||!!a},hasCustomOverlaysFromSpec:function(a){var c;c=a==null?void 0:(c=a.creative)==null?void 0:(c=c.object_story_spec)==null?void 0:(c=c.link_data)==null?void 0:c.custom_overlay_spec;a=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.PHOTO_DATA.CUSTOM_OVERLAY_SPEC.path);return!!c||!!a},hasVideoOverlaysFromSpec:function(a){a=a==null?void 0:(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:a.video_data;return!!a&&!!a.custom_overlay_spec},logOverlayEditEvent:function(a,c){b("AdsInterfacesLogger").log({eventName:a,data:(a={},a.signals_ui_event_data=JSON.stringify(c),a)},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP)},getOverlayTextOptionsFromTemplateTags:function(a,b){if(a.length!==b.length)return null;a=a.map(function(a,c){c=b[c].supportedOptions;for(var d=0;d<c.length;d++)if(c[d].templateTag===a)return c[d];return void 0});return a.length===0||a.includes(void 0)?null:a}};e.exports=a}),null);
__d("AdsUEditorAdgroupCachedChildMediaFomatDataRecord",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({imageCrops:null,imageHash:null,imageURL:null,thumbnailURL:null,videoID:null}));a.getEmptyRecord=function(){return g};var g=new a();e.exports=a}),null);
__d("AdsUEditorAdgroupCachedUtils",["AdsAssetFeedUtils","AdsUEditorAdgroupCachedChildMediaFomatDataRecord","isFalsey"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){if(b("isFalsey")(d))return null;a=a.get(c);return a?a.getIn(["callToActionValue",d]):null}function c(a,b){a=a.get(b);return a?a.additionalImageIndex:null}function d(a,b,c){a=a.getIn([b,"creatives"])||{};return a[c]}function f(a,b){return a.getIn([b,"existingPostPageID"])}function g(a,b){return a.getIn([b,"metadata"])}function h(a,c,d){return a.getIn([c,"childMediaFormatData",d])||b("AdsUEditorAdgroupCachedChildMediaFomatDataRecord").getEmptyRecord()}function i(a,c,d){a=a.get(c.id);if(a==null)return!1;if(b("AdsAssetFeedUtils").isTextOnlyDofAssetFeedSpec(a.imageAssetFeedSpec)||b("AdsAssetFeedUtils").isTextOnlyDofAssetFeedSpec(a.videoAssetFeedSpec))return!1;if(d==="IMAGE")return a.imageAssetFeedSpec!=null;return d==="VIDEO"?a.videoAssetFeedSpec!=null:!1}e.exports={getCachedAdditionalImageIndex:c,getCreative:d,getPageID:f,getMetadata:g,getCachedCallToActionLink:a,getChildMediaFormatData:h,hasCachedAssetFeed:i}}),null);
__d("AdsMediaFormatMutators",["AdsAdgroupCallToActionMutatorsAdapter","AdsAdgroupEditorStore","AdsAdgroupPostTypeMutators","AdsAPIAdAssetFeedFields","AdsAPIAdgroupPaths","AdsAPIObjectives","AdsAssetFeedUtils","AdsBrandAwarenessUtils","AdsCallToActionTypesCond","AdsCanvasAdUtils","AdsDataAtom","AdsDLOAssetFeedMutators","AdsLocalizedPlacementsMutators","AdsMutators","AdsObjectTypeUtils","AdsOverlaysUtils","AdsPageStore","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupCachedUtils","AdsUEditorCallToActionMutators","AdsUEditorWebsiteUtils","AdsUnifiedCreativeAPIFieldMappings","AdsUnifiedCreativeAPIFields","ApiAdObjectTypes","FBLogger","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAdgroupCallToActionMutatorsAdapter").setCallToAction,h=(c=b("AdsAdgroupPostTypeMutators")).convertLinkOrTemplatePostToVideoPost,i=c.convertPhotoPostToVideoPost,j=c.convertTemplatePostToLinkPost,k=c.convertVideoPostToLinkOrTemplatePost,l=c.convertVideoPostToPhotoPost,m=b("AdsMutators").deleteIn,n=b("AdsMutators").setIn,o=b("AdsUEditorCallToActionMutators").setCallToActionLinkFormat;function a(a,c,d,e,f){__p&&__p();if(b("AdsAssetFeedUtils").isAdgroupUsingNonTextOnlyDofAssetFeedSpec(c)||f!=null&&b("AdsUEditorAdgroupCachedUtils").hasCachedAssetFeed(f,c,a))return p(a,c,d,e,f);b("AdsOverlaysUtils").hasCustomOverlaySpec(c)&&(c=c.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CUSTOM_OVERLAY_SPEC.path));if(e===b("AdsAPIObjectives").PAGE_LIKES)return s(a,c,d);c=m(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,c);switch(a){case"IMAGE":return q(e,c);case"VIDEO":return r(e,c,d);default:b("FBLogger")("ads").mustfix("Invalid media format: %s",a);return c}}function p(a,c,d,e,f){__p&&__p();f=f!=null?f.get(c.id):null;switch(a){case"IMAGE":if(f!=null&&f.imageAssetFeedSpec!=null)return n(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path,f.imageAssetFeedSpec,c);if(b("AdsAssetFeedUtils").isPACAdgroupFromRecord(c))return q(e,b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(b("ApiAdObjectTypes").VIDEO,c,e));b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(c)&&(c=b("AdsLocalizedPlacementsMutators").removeAllMediaInLocalizedPlacementsAdgroup(c),c=b("AdsUEditorAdgroupAssetFeedMutators").convertLocalizedPlacementsAdgroupToDLOAdgroup(c,b("AdsAPIAdAssetFeedFields").VIDEOS));c=m(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS,c);c=b("AdsDLOAssetFeedMutators").removeMediaFromAdgroup(c,b("AdsAPIAdAssetFeedFields").VIDEOS);return n(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("immutable").List.of("SINGLE_IMAGE"),c);case"VIDEO":if(f!=null&&f.videoAssetFeedSpec!=null)return n(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path,f.videoAssetFeedSpec,c);if(b("AdsAssetFeedUtils").isPACAdgroupFromRecord(c)){f=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE);return r(e,b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(f,c,e),d)}b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(c)&&(c=b("AdsLocalizedPlacementsMutators").removeAllMediaInLocalizedPlacementsAdgroup(c),c=b("AdsUEditorAdgroupAssetFeedMutators").convertLocalizedPlacementsAdgroupToDLOAdgroup(c,b("AdsAPIAdAssetFeedFields").IMAGES));c=m(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES,c);c=b("AdsDLOAssetFeedMutators").removeMediaFromAdgroup(c,b("AdsAPIAdAssetFeedFields").IMAGES);return n(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("immutable").List.of("SINGLE_VIDEO"),c);default:b("FBLogger")("ads").mustfix("Invalid media format: %s",a);return c}}function q(a,c){__p&&__p();var d,e;d=(d=c.creative)==null?void 0:d.object_type;switch(d){case b("ApiAdObjectTypes").PHOTO:return c;case b("ApiAdObjectTypes").SHARE:e=(e=c.creative)==null?void 0:(e=e.object_story_spec)==null?void 0:(e=e.video_data)==null?void 0:e.offer_id;if(e)return k(a,c);return b("AdsObjectTypeUtils").isTemplateCreative(c)&&a!==b("AdsAPIObjectives").STORE_VISITS&&!b("AdsCanvasAdUtils").isCanvasAd(c.creative)?j(c).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID):c;case b("ApiAdObjectTypes").VIDEO:e=a===b("AdsAPIObjectives").POST_ENGAGEMENT&&!b("AdsCanvasAdUtils").isCanvasDestinationEnabled(c)||b("AdsBrandAwarenessUtils").isBrandObjective(a)&&!b("AdsBrandAwarenessUtils").isWebsiteLinkEnabled(c);return e?l(a,c):k(a,c);default:b("FBLogger")("ads").mustfix("Invalid object type: %s",d);return c}}function r(a,c,d){__p&&__p();d=(d=c.creative)==null?void 0:d.object_type;switch(d){case b("ApiAdObjectTypes").PHOTO:c=i(a,c);break;case b("ApiAdObjectTypes").SHARE:(b("AdsBrandAwarenessUtils").isBrandObjective(a)||a===b("AdsAPIObjectives").POST_ENGAGEMENT)&&(c=g(b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name,c));c=h(a,c);b("AdsCanvasAdUtils").isCanvasAd(c.creative)||(c=c.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID));break;case b("ApiAdObjectTypes").VIDEO:break;default:b("FBLogger")("ads").mustfix("Invalid object type: %s",d);return c}c=o(c,b("AdsUEditorWebsiteUtils").getVideoLPPFormat(c,a));return c}function s(a,c,d){__p&&__p();var e;b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAdgroupEditorStore").getDispatchToken()]);d=b("AdsUnifiedCreativeAPIFields").pageID.getValue(c,d);if(a==="VIDEO"&&((e=c.creative)==null?void 0:e.object_type)!==b("ApiAdObjectTypes").SHARE){var f;c=n((e=b("AdsAPIAdgroupPaths")).CREATIVE.OBJECT_STORY_SPEC.PAGE_ID,d,c);c=n(e.CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.PAGE,d,c);c=n(e.CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.TYPE,b("AdsCallToActionTypesCond").TYPES.LIKE_PAGE.name,c);c=n(e.CREATIVE.OBJECT_TYPE,b("ApiAdObjectTypes").VIDEO,c);f=(f=c.creative)==null?void 0:f.body;f&&(c=n(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.MESSAGE,f,c));f=b("AdsAdgroupEditorStore").getCachedVideoID(c.id);f&&(c=n(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_ID,f,c));f=b("AdsAdgroupEditorStore").getCachedVideoThumbnailURL(c.id);f&&(c=n(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_URL,f,c));f=b("AdsAdgroupEditorStore").getCachedVideoThumbnailHash(c.id);f&&(c=n(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_HASH,f,c));c=m(b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_HASH,c);c=m(b("AdsAPIAdgroupPaths").CREATIVE.BODY,c);c=m(b("AdsAPIAdgroupPaths").CREATIVE.TITLE,c);c=m(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_ID,c);return c}else if(a==="VIDEO"&&((f=c.creative)==null?void 0:f.object_type)===b("ApiAdObjectTypes").SHARE){c=c.setIn((f=b("AdsUnifiedCreativeAPIFieldMappings")).VIDEO_MAPPING.pageID,d).setIn((e=b("AdsAPIAdgroupPaths")).CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.PAGE,d).setIn(e.CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.TYPE,b("AdsCallToActionTypesCond").TYPES.LIKE_PAGE.name).setIn(e.CREATIVE.LINK_OG_ID,d).setIn(e.CREATIVE.OBJECT_TYPE,b("ApiAdObjectTypes").VIDEO);var g=c.getIn(f.LINK_MAPPING.message),h=b("AdsAdgroupEditorStore").getCachedVideoID(c.id),i=b("AdsAdgroupEditorStore").getCachedVideoThumbnailURL(c.id);c=c.setIn(f.VIDEO_MAPPING.message,g).setIn(f.VIDEO_MAPPING.videoID,h).setIn(f.VIDEO_MAPPING.videoThumbnailURL,i).deleteIn(e.CREATIVE.IMAGE_HASH).deleteIn(e.CREATIVE.BODY).deleteIn(e.CREATIVE.TITLE).deleteIn(e.CREATIVE.OBJECT_ID).deleteIn(e.CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.path).deleteIn(e.CREATIVE.OBJECT_STORY_ID);return c}else if(a==="IMAGE"){c=c.setIn((e=b("AdsAPIAdgroupPaths")).CREATIVE.OBJECT_ID,d).setIn(e.CREATIVE.OBJECT_TYPE,b("ApiAdObjectTypes").SHARE).setIn(e.CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.VALUE.PAGE,d).setIn(e.CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.TYPE,b("AdsCallToActionTypesCond").TYPES.LIKE_PAGE.name);h=(g=b("AdsAdgroupEditorStore")).getCachedImageCrops(c.id);f=g.getCachedImageHash(c.id);i=g.getCachedTitle(c.id);e=c.getIn(b("AdsUnifiedCreativeAPIFieldMappings").VIDEO_MAPPING.message);g=g.getCachedLink(c.id);if(d!=null&&g==null){d=b("AdsPageStore").get(d);g=d.link}c=c.setIn(b("AdsUnifiedCreativeAPIFieldMappings").LINK_MAPPING.message,e).setIn(b("AdsUnifiedCreativeAPIFieldMappings").LINK_MAPPING.headline,i).setIn(b("AdsUnifiedCreativeAPIFieldMappings").LINK_MAPPING.imageHash,f).setIn(b("AdsUnifiedCreativeAPIFieldMappings").LINK_MAPPING.imageCrops,h).setIn(b("AdsUnifiedCreativeAPIFieldMappings").LINK_MAPPING.linkURL,g).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.LINK_OG_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.path).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.LINK_URL).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.VIDEO_ID);return c}else{b("FBLogger")("ads").mustfix("Invalid media format: %s",a);return c}}d={setMediaFormat:a};e.exports=d}),null);
__d("AdsDCOUtils",["invariant","AdsAdgroupTypeUtils","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAPICampaignPaths","AdsAPIObjectives","AdsAssetFeedUtils","AdsBuyingTypes","AdsCampaignRecordAccessors","AdsChildAttachmentsUtils","AdsDCOConversionUtils","AdsDCODegreesOfFreedomUtils","AdsDynamicCreationOptimizationPluginResolver","AdsMediaFormatMutators","AdsMutators","AdsPlacementAPISpecWriterUtils","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupBodyMutators","AdsUEditorAdgroupHeadlineMutators","AdsUEditorAdgroupOfferMutators","AdsUEditorHostIDs","AdsUnifiedCreativeAPIFields","ApiDynamicCreativeOptimizationTypes","adsAccountGK","getByPath","AdsPlacementReducerUtils","compose","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsDCOConversionUtils").filterDCOUnsupportedCTATypes,i=b("AdsDCOConversionUtils").filterDCOUnsupportedImageTypes,j=b("AdsPlacementAPISpecWriterUtils").setCampaignPlacement,k=[(a=b("AdsAPIObjectives")).LEAD_GENERATION,a.VIDEO_VIEWS,a.BRAND_AWARENESS,a.REACH,a.POST_ENGAGEMENT],l=new Set([a.CONVERSIONS,a.APP_INSTALLS,a.LINK_CLICKS]),m=new Set([b("AdsBuyingTypes").AUCTION]);function n(a,c,d){d===void 0&&(d={});c=o.isDCOMixedFormatsEnabledForAccount(d.hostID)&&c!==b("AdsAPIObjectives").VIDEO_VIEWS;if(d.hostID!==b("AdsUEditorHostIDs").CREATION&&b("AdsChildAttachmentsUtils").isCarouselAd(a))return"CAROUSEL_IMAGE";else if(c)return"AUTOMATIC_FORMAT";else if(b("AdsAdgroupTypeUtils").isVideoAd(a))return"SINGLE_VIDEO";else return"SINGLE_IMAGE"}var o={isCreativeEditDisabled:function(a,b){return b.some(function(b){return o.isCreativeEditDisabledForAdgroup(a,b)})},isDCOMixedFormatsEnabledForAccount:function(a){return a===b("AdsUEditorHostIDs").EDITING},isCreativeEditDisabledForAdgroup:function(a,c){var d=b("AdsAssetFeedUtils").isRegularDCOAdgroupFromSpec(c),e=b("AdsAssetFeedUtils").isDCAssetCustomizationAdgroupFromSpec(c);if(e)return b("adsAccountGK")._(a,"10VqwgQqy")?!1:!0;if(!d)return!1;e=b("AdsAssetFeedUtils").isRegularDCOAdgroupFromSpec(c)&&(b("AdsAssetFeedUtils").hasTargetRules(c)||b("AdsAssetFeedUtils").hasGroupRules(c)||b("AdsAssetFeedUtils").hasAssetCustomizationRules(c));return e?!0:!1},getDCOAssetProperties:function(a,b){a=o.getDCOOrDOFAssetProperties(a,b,!1,null,null);return{assetValue:a.assetValue,renderUsingDCO:a.renderUsingDCO}},getDCOOrDOFAssetProperties:function(a,c,d,e,f,h){__p&&__p();var i=b("immutable").List(),j=!1,k=!1;if(a.length===1){a=a[0];j=b("AdsAssetFeedUtils").isRegularDCOAdgroupFromSpec(a);h=b("AdsAssetFeedUtils").isPACAdgroupFromSpec(a)&&f===!0&&h===!0;k=d&&b("AdsAssetFeedUtils").isDofAdgroupFromSpec(a)&&f===!0;d=c[0];(j||k)&&d!=null&&(i=d);if(h){if(b("getByPath")(e,["name"])==="message"){f=b("AdsUEditorAdgroupBodyMutators").getDefaultPlacementBodyAssets(a);i=(c=f)!=null?c:d}if(b("getByPath")(e,["name"])==="headline"){f=b("AdsUEditorAdgroupHeadlineMutators").getDefaultPlacementHeadlineAssets(a);i=(c=f)!=null?c:d}}k=k||h}i instanceof b("immutable").List||g(0,501);return{assetValue:i,renderUsingDCO:j,renderUsingDOF:k}},getErrorsAndWarningsWhenRenderingUsingDCO:function(a,b){return{errors:o.getDCOAssetErrorsAndWarnings(a,b.getValueForIndex(0),!0),renderUsingDCO:!0,warnings:o.getDCOAssetErrorsAndWarnings(a,b.getValueForIndex(0),!1)}},getDCOAssetErrorsAndWarnings:function(a,b,c){var d={};a.length===1&&b&&(d[a[0].id]=c?b.errors:b.warnings);return d},getDCOAssetErrors:function(a,b){var c={};a.length===1&&b.getValueForIndex(0)&&(c[a[0].id]=b.getValueForIndex(0));return c},getAdgroupsToRetain:function(a){return a.valueSeq().flatMap(function(a){return a.slice(0,1)}).toArray()},getAllAdgroupIDs:function(a){return a.valueSeq().flatMap(function(a){return a.map(function(a){return a.id})}).toArray()},clearAssetFeedSpec:function(a){return a.setIn((a=b("AdsAPIAdgroupPaths")).CREATIVE.ASSET_FEED_SPEC.IMAGES,void 0).setIn(a.CREATIVE.ASSET_FEED_SPEC.VIDEOS,void 0).setIn(a.CREATIVE.ASSET_FEED_SPEC.TITLES,void 0).setIn(a.CREATIVE.ASSET_FEED_SPEC.DESCRIPTIONS,void 0).setIn(a.CREATIVE.ASSET_FEED_SPEC.BODIES,void 0).setIn(a.CREATIVE.ASSET_FEED_SPEC.LINK_URLS,void 0).setIn(a.CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTIONS,void 0).setIn(a.CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTION_TYPES,b("immutable").List.of("LEARN_MORE"))},convertStorySpecAdToDCOAd:function(a,c,d,e){__p&&__p();d===void 0&&(d={});if(b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(a))return a;if(b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(a)){var f;return i(a).setIn((f=b("AdsAPIAdgroupPaths")).CREATIVE.ASSET_FEED_SPEC.OPTIMIZATION_TYPE,b("ApiDynamicCreativeOptimizationTypes").REGULAR).deleteIn(f.CREATIVE.ASSET_FEED_SPEC.GROUPS).deleteIn(f.CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES).deleteIn(f.CREATIVE.ASSET_FEED_SPEC.TARGET_RULES)}f=b("AdsUEditorAdgroupAssetFeedMutators").convertToAssetFeedSpec(b("AdsAPIAdgroupRecordUtils").getObjectType(a),a,c);f=e===!0?f.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("immutable").List.of("AUTOMATIC_FORMAT")).setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ADDITIONAL_DATA.IS_SMART_APP_PROMOTION,!0):f.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("immutable").List.of(n(a,c,d)));f=f.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.OPTIMIZATION_TYPE,b("ApiDynamicCreativeOptimizationTypes").REGULAR);e=b("AdsDCODegreesOfFreedomUtils").isEligibleForDegreesOfFreedom(f);e?f=f.setIn(b("AdsAPIAdgroupPaths").CREATIVE.DEGREES_OF_FREEDOM_SPEC.DEGREES_OF_FREEDOM_TYPE,"USER_ENROLLED"):f=f.setIn(b("AdsAPIAdgroupPaths").CREATIVE.DEGREES_OF_FREEDOM_SPEC.DEGREES_OF_FREEDOM_TYPE,"DISABLED");return b("compose")(h,i)(f)},convertStorySpecAdgroupToCarteAdgroup:function(a,c,d,e){if(b("AdsAssetFeedUtils").isDCAssetCustomizationAdgroupFromSpec(a))return a;a=b("AdsMediaFormatMutators").setMediaFormat("VIDEO",a,e,c);a=o.convertStorySpecAdToDCOAd(a,c,{hostID:d});b("AdsUnifiedCreativeAPIFields").offerID.isSupported(a,e)&&(a=b("AdsUEditorAdgroupOfferMutators").removeOfferIDState(a,e));a=a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.path).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID);e=(c=a.creative)==null?void 0:(d=c.asset_feed_spec)==null?void 0:d.ad_formats;return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.DEGREES_OF_FREEDOM_SPEC.path).setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.OPTIMIZATION_TYPE,b("ApiDynamicCreativeOptimizationTypes").ASSET_CUSTOMIZATION).setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,e)},convertToDCOCampaign:function(a,c){a=b("AdsPlacementReducerUtils").updatePlacementSpec(j(a,c));return b("AdsMutators").chain((c=b("AdsCampaignRecordAccessors")).is_dynamic_creative_optimization.set(!0),function(a){return a.setIn(b("AdsAPICampaignPaths").IS_DYNAMIC_CREATIVE,!0)},c.is_dynamic_creative_asset_customization.set(!1),c.promoted_object.offer_id["delete"],function(a){return a.deleteIn(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_PRODUCT_AUDIENCE_SPECS)},function(a){return a.deleteIn(b("AdsAPICampaignPaths").TARGETING.PRODUCT_AUDIENCE_SPECS)},c.promoted_object.product_set_id["delete"],c.promoted_object.product_catalog_id["delete"])(a)},convertToCarteCampaign:function(a,c){a=o.convertToDCOCampaign(a,c);return b("AdsMutators").chain(b("AdsCampaignRecordAccessors").is_dynamic_creative_optimization.set(!1),function(a){return a.setIn(b("AdsAPICampaignPaths").IS_DYNAMIC_CREATIVE,!1)},b("AdsCampaignRecordAccessors").is_dynamic_creative_asset_customization.set(!0))(a)},convertToStorySpecCampaign:function(a,c){var d="placement"in a?a.placement:c;return b("AdsMutators").chain(function(a){return a.setIn(b("AdsAPICampaignPaths").PLACEMENT,d)},b("AdsCampaignRecordAccessors").is_dynamic_creative_optimization.set(!1),function(a){return a.setIn(b("AdsAPICampaignPaths").IS_DYNAMIC_CREATIVE,!1)},b("AdsCampaignRecordAccessors").is_dynamic_creative_asset_customization.set(!1))(a)},isSupportedObjectiveForRegularDCO:function(a,c){return b("AdsDynamicCreationOptimizationPluginResolver").resolve({buyingType:a,objective:c}).isDynamicCreativeOptimizationSupported()},isSupportedObjectiveForTextDOF:function(a,b){return l.has(b)&&m.has(a)},isSupportedLinkDescriptionObjectiveForDCO:function(a){return k.includes(a)}};e.exports=o}),null);
__d("AdsPageLikeUtils",["AdsAdgroupUtils","AdsAPIObjectives"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={convertPageTabLinkAndPageToLinkUrl:function(a,b){return a+b.split("/").slice(2).join("/")},isPageLikeVideo:function(a,c){if(c===b("AdsAPIObjectives").PAGE_LIKES){a=a==null?void 0:(c=a.creative)==null?void 0:c.object_type;c=b("AdsAdgroupUtils").getMediaFormatForObjectType(a);if(c==="VIDEO")return!0}return!1},isPageLikeCTAType:function(a){return a!==null&&a!==""&&a==="LIKE_PAGE"}};e.exports=a}),null);
__d("AdsDCOImageCropDoFUtils",["AdsAPIAdAssetFeedImagesFields","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsUEditorAdgroupAssetFeedMutators","AdsUnifiedCreativeAPIFields","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=["FAM_TOGGLE_ON","FAM_TOGGLE_OFF","SMART_CROP_ELIGIBLE_ON","SMART_CROP_ELIGIBLE_OFF","SMART_CROP_INELIGIBLE_ON","SMART_CROP_INELIGIBLE_OFF"],h=new Set(["FACEBOOK_FEED","INSTAGRAM_STREAM"]);a={hasDoFSpecWithFAMToggleExpType:function(a){a=(a=a.creative)==null?void 0:(a=a.degrees_of_freedom_spec)==null?void 0:a.degrees_of_freedom_type;return g.includes(a)},isAdgroupOptInImageCropDof:function(a){if(!b("AdsAssetFeedUtils").isDofWithImageAdgroupFromRecord(a))return!1;a=(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.images;return!!a&&a.count()>1},isDofImageCropEligibleAssetGroups:function(a){return a==null?!1:a.some(function(a){return h.has(a)})},replaceImageInOptInAdgroup:function(a,c,d,e,f){a=a;a=b("AdsAssetFeedMutationUtils").setImageAssetAtIndex(a,c,0,d,e);f&&(a=b("AdsAssetFeedMutationUtils").setImageCropAtIndex(a,c,0,f));a=b("AdsAssetFeedMutationUtils").removeAssetAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,1);return b("AdsUEditorAdgroupAssetFeedMutators").sanitizeDofAdgroup(a)},setImagesEnrolled:function(a,c,d,e,f){a=a;for(var g=0;g<2;g++)a=b("AdsAssetFeedMutationUtils").setImageAssetAtIndex(a,c,g,d,e),a=b("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,g,b("AdsAPIAdAssetFeedImagesFields").IMAGE_CROPS);a=b("AdsAssetFeedMutationUtils").setImageCropAtIndex(a,c,1,f);return a},setAdgroupOptOutImageCropDoF:function(a,c){a=a;a=b("AdsAssetFeedMutationUtils").removeAssetAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,1);return b("AdsUEditorAdgroupAssetFeedMutators").sanitizeDofAdgroup(a)}};e.exports=a}),null);
__d("adsPlacementAssetCustomizableFields",["AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetFeedFields","AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdAssetFeedTitlesFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";a=[{assetFeedField:(a=b("AdsAPIAdAssetFeedFields")).IMAGES,targetingRuleField:(c=b("AdsAPIAdAssetTargetRuleFields")).IMAGE_LABEL,assetPath:(d=b("AdsAPIAdgroupPaths")).CREATIVE.ASSET_FEED_SPEC.IMAGES,specField:(f=b("AdsUnifiedCreativeAPIFields")).imageHash,labelField:b("AdsAPIAdAssetFeedImagesFields").ADLABELS},{assetFeedField:a.VIDEOS,targetingRuleField:c.VIDEO_LABEL,assetPath:d.CREATIVE.ASSET_FEED_SPEC.VIDEOS,specField:f.videoID,labelField:b("AdsAPIAdAssetFeedVideosFields").ADLABELS},{assetFeedField:a.BODIES,targetingRuleField:c.BODY_LABEL,assetPath:d.CREATIVE.ASSET_FEED_SPEC.BODIES,specField:f.message,labelField:b("AdsAPIAdAssetFeedBodiesFields").ADLABELS},{assetFeedField:a.TITLES,targetingRuleField:c.TITLE_LABEL,assetPath:d.CREATIVE.ASSET_FEED_SPEC.TITLES,specField:f.headline,labelField:b("AdsAPIAdAssetFeedTitlesFields").ADLABELS},{assetFeedField:a.LINK_URLS,targetingRuleField:c.LINK_URL_LABEL,assetPath:d.CREATIVE.ASSET_FEED_SPEC.LINK_URLS,specField:f.linkURL,labelField:b("AdsAPIAdAssetFeedLinkURLsFields").ADLABELS}];e.exports=a}),null);
__d("isAdgroupAssetFeedRulesConsistentWithField",["AdsAPIAdAssetFeedTitlesFields","AdsAssetFeedUtils","AdsPlacementAssetCustomizationTypes","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationConsistency;function h(a,c){__p&&__p();a=(a=a.creative)==null?void 0:a.asset_feed_spec;if(a==null)return null;a=a[c];if(a==null)return null;a instanceof Array&&(a=b("immutable").fromJS(a));c=a.reduce(function(a,c){c=c.get(b("AdsAPIAdAssetFeedTitlesFields").ADLABELS)||[];c.every(function(b){b=b.get("name");b!=null&&a.push(b);return!0});return a},[]);return b("immutable").Set(c)}function i(a,c){a=(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.asset_customization_rules;if(a==null)return null;a instanceof Array&&(a=b("immutable").fromJS(a));a=a.reduce(function(a,b){b=b.getIn([c,"name"]);b!=null&&a.push(b);return a},[]);return b("immutable").Set(a)}function j(a,b){if(a.equals(b))return{status:g.CONSISTENT};if(a.isSubset(b))return{status:g.UNUSED_LABEL_IN_ASSET_LIST,fieldTypeLabels:b.subtract(a)};return b.isSubset(a)?{status:g.UNKNOWN_LABEL_IN_TARGETING_RULE,targetRulesLabelsSet:a.subtract(b)}:{status:g.INCONSISTENT_LABEL_IN_ASSET_LIST_AND_TARGETING_RULE,targetRulesLabelsSet:a.subtract(b),fieldTypeLabels:b.subtract(a)}}function a(a,c,d){__p&&__p();if(!b("AdsAssetFeedUtils").hasPlacementCustomizationFromSpec(a))return{status:g.NOT_PAC_AD};c=h(a,c);a=i(a,d);if(a!=null&&c!=null)return j(a,c);else{if(a!=null&&(a==null?void 0:a.size)!==0)return{status:g.UNKNOWN_LABEL_IN_TARGETING_RULE,targetRulesLabelsSet:a};if(c!=null)return{status:g.UNUSED_LABEL_IN_ASSET_LIST,fieldTypeLabels:c}}return{status:g.NO_ASSET_LIST_AND_RULE_FOUND}}e.exports=a}),null);
__d("adsHasValidAdlabelsForPACAds",["AdsPlacementAssetCustomizationTypes","adsPlacementAssetCustomizableFields","isAdgroupAssetFeedRulesConsistentWithField"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationConsistency;function h(a,c,d){a=b("isAdgroupAssetFeedRulesConsistentWithField")(a,c,d);return a.status===g.UNKNOWN_LABEL_IN_TARGETING_RULE||a.status===g.INCONSISTENT_LABEL_IN_ASSET_LIST_AND_TARGETING_RULE}function a(a){return b("adsPlacementAssetCustomizableFields").map(function(b){var c=b.assetFeedField;b=b.targetingRuleField;return h(a,c,b)?c:null}).filter(Boolean)}e.exports=a}),null);
__d("AdsPACSpecMutationAsyncLog",["Promise","AdsInterfacesLogger","adsHasValidAdlabelsForPACAds","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("keyMirror")({CONVERT_PHASE1_TO_PHASE2:null,MULTI_CUSTOMIZATION_IMAGE:null,ADD_CUSTOMIZATION_IMAGE:null,SET_IMAGE_MASTER_VARIANT:null,STORIFY_REOPEN_PLACEMENT_EDITOR:null,OPEN_PLACEMENT_EDITOR:null,REMOVE_CUSTOMIZATION_IMAGE:null,VCK_TEMPLATE_SET_DATA:null,CHANGE_IMAGE_TO_VIDEO:null,ADD_CUSTOMIZATION_VIDEO:null,REMOVE_CUSTOMIZATION_VIDEO:null});b("keyMirror")({ADD_IMAGE_START:null,ADD_IMAGE_START_DOF:null,ADD_IMAGE_CONVERT_TO_PAC:null,ADD_IMAGE_END:null,ADD_MEDIA_START:null,ADD_MEDIA_START_DOF:null,ADD_MEDIA_CONVERT_TO_PAC:null,ADD_MEDIA_END:null,REMOVE_IMAGE_START:null,REMOVE_IMAGE_START_DOF:null,REMOVE_IMAGE_END:null,ADD_VIDEO_START:null,ADD_VIDEO_CONVERT_TO_PAC:null,ADD_VIDEO_END:null,REMOVE_VIDEO_START:null,REMOVE_VIDEO_END:null});a={log:function(a,c,d){var e=Date.now();return new(b("Promise"))(function(f){var g=b("adsHasValidAdlabelsForPACAds")(a),h=g.length===0;b("AdsInterfacesLogger").log({eventName:"LOG_PAC_SPEC_"+c,data:{adgroup_id:a.id,current_action_time:e,event_source:d,field_names:g,sub_event:h?"VALID_EVENT":"INVALID_EVENT"}});f()})}};e.exports=a}),null);
__d("NonURLLinkCTATypesUtils",["AdsCallToActionTypesCond","NonURLLinkCTATypes","adsAccountGK"],(function(a,b,c,d,e,f){"use strict";a={isUnsupportedCTA:function(a,c){return b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name==a?!b("adsAccountGK")._(c,"2TBav5yuh"):Object.prototype.hasOwnProperty.call(b("NonURLLinkCTATypes"),a)}};e.exports=a}),null);
__d("adsPlacementAssetMutationAddCarouselCardDetail",["AdsAPIAdAssetFeedCarouselFields","AdsAPIAdgroupPaths","AdsAssetFeedConstant","AdsAssetFeedFieldToRuleLabelMapping","AdsPlacementAssetUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAssetFeedConstant").ADLABELS,h=b("AdsPlacementAssetUtils").getFirstAdLabel;function i(a,c){return b("immutable").is(a["delete"](g),c["delete"](g))}function j(a,c,d){var e=b("immutable").fromJS(d);d=a.getIn(c);a=d.find(function(a){return i(a,e)});return h(a)}function k(a,c,d,e,f){__p&&__p();var g=b("AdsAssetFeedFieldToRuleLabelMapping").get(e);if(g==null)return a;e=[].concat(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path,[e]);c=[].concat(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CAROUSELS,[c.toString(),b("AdsAPIAdAssetFeedCarouselFields").CHILD_ATTACHMENTS,d.toString(),g,"name"]);d=j(a,e,f);if(d!=null)return a.setIn(c,d);g=b("AdsPlacementAssetUtils").makeUniqueLabelNameForPlacementAsset();var h=b("immutable").fromJS(babelHelpers["extends"]({},f,{adlabels:[{name:g}]}));return a.setIn(c,g).updateIn(e,function(a){return a.push(h)})}function a(a,b,c,d,e){__p&&__p();var f=a;a=(a=a.creative)==null?void 0:a.asset_feed_spec;var g=a==null?void 0:a.carousels;if(a==null||g==null)return f;a=g.findIndex(function(a){return h(a)===b});if(a==-1)return f;f=k(f,a,c,d,e);return f}e.exports=a}),null);
__d("adsPlacementAssetMutationSetInitialTargetingRule",["AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","immutable"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){var f=b("immutable").Map();e=e!=null?e:b("immutable").Map();e=e.set(c,b("immutable").Map((c={},c.name=d,c)));e=e.set(b("AdsAPIAdAssetTargetRuleFields").CUSTOMIZATION_SPEC,f);return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,b("immutable").List([e]))}e.exports=a}),null);
__d("adsPlacementAssetMutationAddCarouselFromObjectStorySpec",["AdsAPIAdAssetCustomizationRuleFields","AdsAPIAdAssetFeedFields","AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedConstant","AdsPlacementAssetUtils","adsPlacementAssetMutationAddCarouselCardDetail","adsPlacementAssetMutationSetInitialTargetingRule","immutable","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAssetFeedConstant").ADLABELS;function h(a){a=a;var c=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC;a=[c.BODIES,c.CAROUSELS,c.DESCRIPTIONS,c.IMAGES,c.LINK_URLS,c.TITLES,c.VIDEOS].reduce(function(a,c){return a.updateIn(c,function(a){return(a=a)!=null?a:b("immutable").List()})},a);return a}function i(a,c,d,e){var f;f=(f=a.creative)==null?void 0:(f=f.asset_feed_spec)==null?void 0:f.carousels;if(f==null)return a;c={adlabels:[{name:c}],child_attachments:[],multi_share_end_card:d,multi_share_optimized:e};return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CAROUSELS,f.push(b("immutable").fromJS(c)))}function j(a,c){__p&&__p();var d=a;a=(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.link_urls;var e=b("immutable").Map();if(a!=null&&a.size===1){var f,h=b("AdsPlacementAssetUtils").makeUniqueLabelNameForPlacementAsset(),i=b("immutable").fromJS([{name:h}]);d=d.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS,a.update(0,function(a){return a.set(g,i)}));e=b("immutable").fromJS((f={},f[b("AdsAPIAdAssetCustomizationRuleFields").LINK_URL_LABEL]={name:h},f))}else a!=null&&a.size>1&&b("recoverableViolation")("Carousel ad should not have more than 1 base URL","csol_pac");return b("adsPlacementAssetMutationSetInitialTargetingRule")(d,b("AdsAPIAdAssetTargetRuleFields").CAROUSEL_LABEL,c,e)}function a(a,c,d){__p&&__p();var e=a;a=(a=c.creative)==null?void 0:(c=a.object_story_spec)==null?void 0:c.link_data;c=a==null?void 0:a.child_attachments;if(a==null||c==null)return e;e=h(e);e=j(e,d);e=i(e,d,Boolean(a.multi_share_end_card),Boolean(a.multi_share_optimized));c.forEach(function(a,c){__p&&__p();var f;a=a.toJS();var g=a.link;e=b("adsPlacementAssetMutationAddCarouselCardDetail")(e,d,c,b("AdsAPIAdAssetFeedFields").LINK_URLS,(f={},f[b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL]=(g=g)!=null?g:"",f));g=a.description;e=b("adsPlacementAssetMutationAddCarouselCardDetail")(e,d,c,b("AdsAPIAdAssetFeedFields").DESCRIPTIONS,{text:(f=g)!=null?f:""});g=a.name;e=b("adsPlacementAssetMutationAddCarouselCardDetail")(e,d,c,b("AdsAPIAdAssetFeedFields").TITLES,{text:(f=g)!=null?f:""});g=a.image_hash;f=a.image_crops;if(g!=null){var h;e=b("adsPlacementAssetMutationAddCarouselCardDetail")(e,d,c,b("AdsAPIAdAssetFeedFields").IMAGES,(h={},h[b("AdsAPIAdAssetFeedImagesFields").HASH]=g,h[b("AdsAPIAdAssetFeedImagesFields").IMAGE_CROPS]=(g=f)!=null?g:void 0,h))}f=a.video_id;g=a.picture;if(f!=null){e=b("adsPlacementAssetMutationAddCarouselCardDetail")(e,d,c,b("AdsAPIAdAssetFeedFields").VIDEOS,(h={},h[b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID]=f,h[b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL]=(a=g)!=null?a:void 0,h))}});return e}e.exports=a}),null);
__d("adsPlacementAssetMutationSetAdlabelForDefaultPlacement",["AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetFeedTitlesFields","AdsAssetFeedMutationUtils","AdsPlacementAssetUtils","AdsUnifiedCreativeAPIFields","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f,g){__p&&__p();var h=b("AdsAssetFeedMutationUtils").removeUnsupportedAssetFields(a,c,b("AdsUnifiedCreativeAPIFields").linkDescription);a=a.getIn(e,null);var i={};if(a!=null&&a.size!==0){var j=a.get(0);g.forEach(function(a){var b=j.get(a);i[a]=b!=null?b.trim():""})}else g.forEach(function(a){i[a]=""});h=h.setIn(e,b("immutable").List.of(b("immutable").Map(i)));var k=b("AdsPlacementAssetUtils").makeUniqueLabelNameForPlacementAsset();h=b("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(h,c,d,0,f,k);if(a!=null&&a.size>1)for(var l=1;l<a.size;l++){var m=a.get(l),n=g[0];m=m.get(n);n=m!=null?m.trim():"";m=e[e.length-1];switch(m){case"bodies":h=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(h,c,b("AdsUnifiedCreativeAPIFields").message,l,b("AdsAPIAdAssetFeedBodiesFields").TEXT,n);break;case"titles":h=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(h,c,b("AdsUnifiedCreativeAPIFields").headline,l,b("AdsAPIAdAssetFeedTitlesFields").TEXT,n);break;default:break}h=b("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(h,c,d,l,f,k)}return{updatedAdgroup:h,newAdlabel:k}}e.exports=a}),null);
__d("adsPlacementAssetMutationSetAdlabelForAllCustomizations",["AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdAssetFeedTitlesFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsBrandAwarenessUtils","AdsUnifiedCreativeAPIFields","adsAccountGK","adsPlacementAssetMutationSetAdlabelForDefaultPlacement","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){__p&&__p();d=a;var e=b("immutable").Map(),f=b("adsPlacementAssetMutationSetAdlabelForDefaultPlacement")(d,c,b("AdsUnifiedCreativeAPIFields").message,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.BODIES,b("AdsAPIAdAssetFeedBodiesFields").ADLABELS,[b("AdsAPIAdAssetFeedBodiesFields").TEXT]);e=e.set(b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL,f.newAdlabel);d=f.updatedAdgroup;f=b("adsPlacementAssetMutationSetAdlabelForDefaultPlacement")(f.updatedAdgroup,c,b("AdsUnifiedCreativeAPIFields").headline,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,[b("AdsAPIAdAssetFeedTitlesFields").TEXT]);e=e.set(b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL,f.newAdlabel);d=f.updatedAdgroup;if(b("AdsBrandAwarenessUtils").isWebsiteLinkEnabled(a)){f=[b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL,b("AdsAPIAdAssetFeedLinkURLsFields").DISPLAY_URL];a=b("adsPlacementAssetMutationSetAdlabelForDefaultPlacement")(d,c,b("AdsUnifiedCreativeAPIFields").linkURL,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS,b("AdsAPIAdAssetFeedLinkURLsFields").ADLABELS,f);e=e.set(b("AdsAPIAdAssetTargetRuleFields").LINK_URL_LABEL,a.newAdlabel);d=a.updatedAdgroup}return{newAdlabels:e,updatedAdgroup:d}}e.exports=a}),null);
__d("adsPlacementAssetMutationConvertToAssetFeedWithCampaignTargeting",["AdsAdAssetSelectorTypes","AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsCallToActionTypesCond","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsUEditorAdgroupAssetFeedMutators","AdsUnifiedCreativeAPIFields","ApiDynamicCreativeOptimizationTypes","NonURLLinkCTATypesUtils","adsPlacementAssetMutationAddCarouselFromObjectStorySpec","adsPlacementAssetMutationSetAdlabelForAllCustomizations","adsPlacementAssetMutationSetInitialTargetingRule","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat;function h(a,b){if(a===g.carousel)return"CAROUSEL";else if(b)return"AUTOMATIC_FORMAT";else if(a===g.image)return"SINGLE_IMAGE";else return"SINGLE_VIDEO"}function a(a,c,d,e,f,i,j){__p&&__p();i===void 0&&(i=!1);c=h(f,j);j=b("AdsUEditorAdgroupAssetFeedMutators").convertToAssetFeedSpec(b("AdsAPIAdgroupRecordUtils").getObjectType(a),a,d.pivots.objective,b("ApiDynamicCreativeOptimizationTypes").PLACEMENT).setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("immutable").List.of(c)).setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.OPTIMIZATION_TYPE,b("ApiDynamicCreativeOptimizationTypes").PLACEMENT);c=b("AdsPlacementAssetUtils").makeUniqueLabelNameForPlacementAsset();f===g.carousel?j=b("adsPlacementAssetMutationAddCarouselFromObjectStorySpec")(j,a,c):f===g.image?j=b("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(j,d,b("AdsUnifiedCreativeAPIFields").imageHash,0,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,c):j=b("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(j,d,b("AdsUnifiedCreativeAPIFields").videoID,0,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,c);var k=b("immutable").Map();if(i&&f!==g.carousel){i=b("adsPlacementAssetMutationSetAdlabelForAllCustomizations")(j,d,e);i.newAdlabels.forEach(function(a,c){k=k.set(c,b("immutable").Map((c={},c.name=a,c)));return!0});j=i.updatedAdgroup}f!==g.carousel&&(j=b("adsPlacementAssetMutationSetInitialTargetingRule")(j,f===g.image?b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL:b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL,c,k));c=(i=a.creative)==null?void 0:(f=i.object_story_spec)==null?void 0:f.link_data;a=b("AdsAssetFeedFieldUtils").firstCTAAsset_TALK_WITH_ACE_BEFORE_USE(b("AdsUnifiedCreativeAPIFields").callToActionType.getValue(j,d));i=c!=null&&a==null||a!=null&&b("NonURLLinkCTATypesUtils").isUnsupportedCTA(a,e);if(i){f=d.getDefaultCallToActionType(j);b("NonURLLinkCTATypesUtils").isUnsupportedCTA(f,e)&&(f=b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name);j=b("AdsAssetFeedMutationUtils").setStringAssetsArrayInField(j,d,b("AdsUnifiedCreativeAPIFields").callToActionType,[f])}j=b("AdsPlacementAssetTargetingRuleUtils").filterOutPlacementsNotSupportedByPAC(j,(c=e==null?void 0:e.capabilities)!=null?c:[]);return j}e.exports=a}),null);
__d("adsPlacementAssetMutationConvertToImageAssetFeedWithCampaignTargeting",["adsPlacementAssetMutationConvertToAssetFeedWithCampaignTargeting"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){f===void 0&&(f=!1);g===void 0&&(g=!1);return b("adsPlacementAssetMutationConvertToAssetFeedWithCampaignTargeting")(a,c,d,e,"image",f,g)}e.exports=a}),null);
__d("AdsUEditorAdgroupImageMutators",["AdsAPIAdAssetFeedFields","AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAPIChildAttachmentPaths","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsChildAttachmentsUtils","AdsDCOImageCropDoFUtils","AdsDLOAdgroupFieldUtils","AdsDLOLanguageUtils","AdsImageUtils","AdsLocalizedPlacementsMutators","AdsMessengerReducerUtils","AdsMutators","AdsObjectStorySpecUtils","AdsObjectTypeUtils","AdsPACSpecMutationAsyncLog","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsUnifiedCreativeAPIFields","adsPlacementAssetMutationConvertToImageAssetFeedWithCampaignTargeting","immutable","isFalsey","isTruthy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d,e,f){__p&&__p();if(b("isFalsey")(e))return c;var g=a.capabilities;g=b("AdsMessengerReducerUtils").isMessengerVisualEditorV2Enabled(g);if(!g)return c;g=b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage.getValue(c,d);if(!b("AdsMessengerReducerUtils").shouldSetDefaultWelcomeMessage(g))return c;var h=b("AdsAPIAdgroupRecordUtils").getAppDestinationType(c,d);if(h!=="MESSENGER")return c;h=f?f.name:null;a=a.account_id;var i=b("AdsMessengerReducerUtils").getWelcomeMessageDefaultMediaFormat(),j=b("AdsUnifiedCreativeAPIFields").pageID.getValue(c,d);f=b("AdsMessengerReducerUtils").getDefaultQuickReplies(f);a=b("AdsMessengerReducerUtils").setDefaultWelcomeMessage(a,c,i,f,e,j,h,g,null,!0);i=b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage.getPath(c,d);return i?c.setIn(i,a):c}function a(a,c,d,e,f,i,k,l,m,n,o){__p&&__p();var p=c!=null?void 0:d;a=g(a,l,m,c,n);if(b("isTruthy")(e)&&b("isFalsey")(c)&&b("isFalsey")(p))a=a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path);else if(b("isTruthy")(e))a=b("AdsMutators").setIn([].concat(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,e,"image_hash"),c,a),a=b("AdsMutators").setIn([].concat(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,e,"image_url"),p,a);else if(b("AdsAssetFeedUtils").isAdgroupUsingNonTextOnlyDofAssetFeedSpec(a)){if(b("AdsAssetFeedUtils").isDLOAdgroupFromRecord(a)&&b("AdsAssetFeedUtils").getAssetMediaAdlabelCount(a)<=0){n=b("AdsDLOLanguageUtils").getPrimaryLanguageFromAdgroup(a);if(n!=null)return b("AdsDLOAdgroupFieldUtils").setImage(a,n,c,c==null?d:null)}if(b("AdsDCOImageCropDoFUtils").isAdgroupOptInImageCropDof(a))return b("AdsDCOImageCropDoFUtils").replaceImageInOptInAdgroup(l,m,c,c==null?d:null,o);n=b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(a,b("AdsAPIAdAssetFeedFields").IMAGES);a=b("AdsAssetFeedMutationUtils").setImageAssetAtIndex(a,m,n,c,p);o!=null&&(a=b("AdsAssetFeedMutationUtils").setImageCropAtIndex(a,m,n,o));return a}else{l=b("AdsUnifiedCreativeAPIFields").imageHash.getPath(a,m);l&&(a=a.setIn(l,c));((d=a.creative)==null?void 0:d.image_hash)&&(a=b("AdsMutators").setIn(b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_HASH,c,a));n=b("AdsUnifiedCreativeAPIFields").imageURL.getPath(a,m);l=b("AdsUnifiedCreativeAPIFields").videoThumbnailURL.getPath(a,m);l?a=a.setIn(l,f):n&&(a=a.setIn(n,p));((d=a.creative)==null?void 0:d.image_url)&&(a=b("AdsMutators").setIn(b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_URL,p,a));a=j(f,i,k,a)}a=h(o,e,a,m);return a}function h(a,c,d,e){__p&&__p();var f;f=(f=d.creative)==null?void 0:f.object_type;if(f==null||!b("AdsImageUtils").canCropStaticImageForPlatform(f,c))return d;if(b("isTruthy")(c))return i(a,c,d);f=b("AdsUnifiedCreativeAPIFields").imageCrops.getPath(d,e);if(!f)return d;return!a||Object.keys(a).length===0?d.deleteIn(f):d.setIn(f,a)}function i(a,c,d){return!a||Object.keys(a).length===0?b("AdsMutators").deleteIn([].concat(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,c,"image_crops"),d):b("AdsMutators").setIn([].concat(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,c,"image_crops"),a,d)}function j(a,c,d,e){a=b("AdsMutators").setIn(b("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_URL,a,e);a=b("AdsMutators").setIn(b("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_HEIGHT,c,a);a=b("AdsMutators").setIn(b("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_WIDTH,d,a);return a}function c(a){__p&&__p();var c=b("AdsObjectTypeUtils").getCreativeSpecType(a);c=b("AdsObjectStorySpecUtils").getPaths(c);var d=c.image_url;c=c.image_hash;if(!d||!c)return a;var e=a.getIn(d);c=a.getIn(c);e=e&&c?a.deleteIn(d):a;c=b("AdsChildAttachmentsUtils").getChildAttachmentsPath(e);if(!c)return e;d=e.getIn(c);if(!d)return e;d=d.map(function(a){var c=a.getIn(b("AdsAPIChildAttachmentPaths").IMAGE_HASH),d=a.getIn(b("AdsAPIChildAttachmentPaths").PICTURE);return c&&d?a.deleteIn(b("AdsAPIChildAttachmentPaths").PICTURE):a});return e.setIn(c,d)}function d(a){__p&&__p();var c=a.adgroup,d=a.campaign,e=a.specPlugin,f=a.adAccount,g=a.assetGroup,h=a.validAssetGroupsByAsset,i=a.imageHash,j=a.imageURL,n=a.backgroundColor,o=a.crops,p=a.placementList,q=a.isUsingPlacementEditor;q=q===void 0?!1:q;a=a.sourceReducer;var r=c,s=b("AdsAssetFeedUtils").isDLOAdgroupFromRecord(c),t=!s;t&&b("AdsPACSpecMutationAsyncLog").log(c,"ADD_IMAGE_START",a);s?r=b("AdsLocalizedPlacementsMutators").convertDLOToLocalizedPlacementsAdgroup(c,e):b("AdsAssetFeedUtils").hasPlacementCustomizationFromRecord(c)||(r=b("adsPlacementAssetMutationConvertToImageAssetFeedWithCampaignTargeting")(c,d,e,f,q));t&&b("AdsPACSpecMutationAsyncLog").log(r,"ADD_IMAGE_CONVERT_TO_PAC",a);s=h&&g?b("AdsPlacementAssetUtils").getAssetLabelIfSingleValidAssetGroup(g,h):null;if(b("isTruthy")(s)){q=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((d=r.creative)==null?void 0:(f=d.asset_feed_spec)==null?void 0:f.images,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,s,b("AdsAPIAdAssetFeedImagesFields").HASH).index;b("isFalsey")(q)&&(q=0);g=m(c,e,q,s);h=g.adgroupWithIsolatedImageAsset;d=g.isolatedImageAssetIndex;r=h;q=d;s=b("AdsAssetFeedFieldUtils").getAssetAtIndex((f=r.creative)==null?void 0:(c=f.asset_feed_spec)==null?void 0:c.images,b("AdsAPIAdAssetFeedImagesFields").HASH,q);s!==i&&(r=b("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(r,e,b("AdsUnifiedCreativeAPIFields").imageHash,q,b("AdsAPIAdAssetFeedImagesFields").IMAGE_CROPS),r=b("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(r,e,b("AdsUnifiedCreativeAPIFields").imageHash,q,b("AdsAPIAdAssetFeedImagesFields").PORTRAIT_CUSTOMIZATIONS));r=k(r,e,q,s!==i,i,j,n,o);r=l(r,e);t&&b("AdsPACSpecMutationAsyncLog").log(r,"ADD_IMAGE_END",a);return r}d=(g=r.creative)==null?void 0:(h=g.asset_feed_spec)==null?void 0:h.images;f=d!=null?d.size:0;c=b("AdsPlacementAssetUtils").makeUniqueLabelNameForPlacementAsset();r=k(r,e,f,!0,i,j,n,o);r=b("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(r,e,b("AdsUnifiedCreativeAPIFields").imageHash,f,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,c);if(b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(r)){r=b("AdsLocalizedPlacementsMutators").addPlacementsToAssetCustomizationRules(r,b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL,c,p);r=l(r,e);t&&b("AdsPACSpecMutationAsyncLog").log(r,"ADD_IMAGE_END",a);return r}q=r.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,function(a){return u});s=b("AdsPlacementAssetTargetingRuleUtils").movePlacementsInTargetingRules(q||b("immutable").List(),b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL,c,p);g=s.labelsRemoved;var u=s.updatedTargetingRules;r=r.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,u);for(var h=g,d=Array.isArray(h),i=0,h=d?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(i>=h.length)break;j=h[i++]}else{i=h.next();if(i.done)break;j=i.value}n=j;q=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((o=r.creative)==null?void 0:(f=o.asset_feed_spec)==null?void 0:f.images,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,n,b("AdsAPIAdAssetFeedImagesFields").HASH).index;r=q!=null?b("AdsAssetFeedMutationUtils").removeAssetAtIndex(r,e,b("AdsUnifiedCreativeAPIFields").imageHash,q):r}r=l(r,e);t&&b("AdsPACSpecMutationAsyncLog").log(r,"ADD_IMAGE_END",a);return r}function k(a,c,d,e,f,g,h,i){a=a;e&&(a=b("AdsAssetFeedMutationUtils").setImageAssetAtIndex(a,c,d,f,g));i&&(a=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,d,b("AdsAPIAdAssetFeedImagesFields").IMAGE_CROPS,b("immutable").fromJS(i)));if(h){a=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,d,b("AdsAPIAdAssetFeedImagesFields").PORTRAIT_CUSTOMIZATIONS,b("immutable").fromJS((e={},e.specifications=[(f={},f.background_color=h,f)],e)))}return a}function l(a,c){return b("AdsAssetFeedMutationUtils").removeDuplicateAssets(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,b("AdsAPIAdAssetFeedImagesFields").ADLABELS)}function m(a,c,d,e){a=b("AdsAssetFeedMutationUtils").isolateAssetWithLabel(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,d,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,e);c=a.adgroupWithIsolatedAsset;d=a.isolatedAssetIndex;return{adgroupWithIsolatedImageAsset:c,isolatedImageAssetIndex:d}}f={isolateImageAssetWithLabel:m,setImage:a,setImageCrops:h,setImageThumbnail:j,removeDuplicateImageAssets:l,removeRedundantImageURL:c,addPlacementCustomizationImage:d,updateCustomizationImageAtIndex:k};e.exports=f}),null);
__d("adsAuthorizationCategoryIsAnyPageAuthorized",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();if(a.length===0)return!1;if(!c.isDone()||c.hasError()||!c.hasValue())return!1;c=c.getValueEnforcing();if(!c||c.length===0)return!1;var d=b("immutable").Set(c.map(function(a){a=a.key;return a}));return a.some(function(a){return d.has(a)})}e.exports=a}),null);
__d("adsAuthorizationCategoryMutate",["AdsAPIAdgroupPaths","AdsMutators","AdsSponsoredMessageUtils","adsAuthorizationCategoryIsAnyPageAuthorized"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsMutators").deleteIn,h=b("AdsMutators").setIfEmpty;function a(a,c,d){c=b("adsAuthorizationCategoryIsAnyPageAuthorized")([c],d);d=b("AdsSponsoredMessageUtils").isSponsoredMessageFromSpec(a);return c&&!d?h(b("AdsAPIAdgroupPaths").CREATIVE.AUTHORIZATION_CATEGORY,"POLITICAL",a).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.DEGREES_OF_FREEDOM_SPEC.path):g(b("AdsAPIAdgroupPaths").CREATIVE.AUTHORIZATION_CATEGORY,a)}e.exports=a}),null);
__d("adsCallToActionGetDefaultCallToActionType",["AdsAPIObjectives","AdsCallToActionTypesCond","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();var d;switch(a){case b("AdsAPIObjectives").APP_INSTALLS:c===b("AdsPromotedObjectTypes").CANVAS_APP?d=b("AdsCallToActionTypesCond").TYPES.PLAY_GAME.name:c===b("AdsPromotedObjectTypes").MOBILE_APP&&(d=b("AdsCallToActionTypesCond").TYPES.INSTALL_MOBILE_APP.name);break;case b("AdsAPIObjectives").CONVERSIONS:case b("AdsAPIObjectives").LINK_CLICKS:c===b("AdsPromotedObjectTypes").CANVAS_APP?d=b("AdsCallToActionTypesCond").TYPES.USE_APP.name:c===b("AdsPromotedObjectTypes").MOBILE_APP?d=b("AdsCallToActionTypesCond").TYPES.USE_MOBILE_APP.name:c===b("AdsPromotedObjectTypes").MESSENGER?d=b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name:c===b("AdsPromotedObjectTypes").WHATSAPP?d=b("AdsCallToActionTypesCond").TYPES.WHATSAPP_MESSAGE.name:d=b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name;break;case b("AdsAPIObjectives").CANVAS_APP_ENGAGEMENT:case b("AdsAPIObjectives").CANVAS_APP_INSTALLS:d=b("AdsCallToActionTypesCond").TYPES.PLAY_GAME.name;break;case b("AdsAPIObjectives").LEAD_GENERATION:d=b("AdsCallToActionTypesCond").TYPES.SIGN_UP.name;break;case b("AdsAPIObjectives").MOBILE_APP_ENGAGEMENT:d=b("AdsCallToActionTypesCond").TYPES.USE_MOBILE_APP.name;break;case b("AdsAPIObjectives").MOBILE_APP_INSTALLS:d=b("AdsCallToActionTypesCond").TYPES.INSTALL_MOBILE_APP.name;break;case b("AdsAPIObjectives").BRAND_AWARENESS:case b("AdsAPIObjectives").REACH:case b("AdsAPIObjectives").VIDEO_VIEWS:d=b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name;break;case b("AdsAPIObjectives").STORE_VISITS:d=b("AdsCallToActionTypesCond").TYPES.GET_DIRECTIONS.name;break;case b("AdsAPIObjectives").OFFER_CLAIMS:d=b("AdsCallToActionTypesCond").TYPES.GET_OFFER_VIEW.name;break;case b("AdsAPIObjectives").MESSAGES:c===b("AdsPromotedObjectTypes").WHATSAPP?d=b("AdsCallToActionTypesCond").TYPES.WHATSAPP_MESSAGE.name:c===b("AdsPromotedObjectTypes").INSTAGRAM?d=b("AdsCallToActionTypesCond").TYPES.INSTAGRAM_MESSAGE.name:d=b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name;break;case b("AdsAPIObjectives").EVENT_RESPONSES:d=b("AdsCallToActionTypesCond").TYPES.EVENT_RSVP.name;break;case b("AdsAPIObjectives").PAGE_LIKES:d=b("AdsCallToActionTypesCond").TYPES.LIKE_PAGE.name;break}return d}e.exports=a}),null);
__d("AdsUEditorAdgroupMutators",["requireCond","AdsAdgroupPostTypeMutators","AdsAdgroupSpecUtils","AdsAdgroupTypeUtils","AdsAPIAdAssetFeedFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAPIChildAttachmentPaths","AdsAPIObjectives","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsCanvasAdUtils","AdsChildAttachmentsUtils","AdsDLOLanguageUtils","AdsLocalUtils","AdsMultiProductConstants","AdsMutators","AdsPageLikeUtils","AdsPageStore","AdsPageUtils","AdsPlacementsWhatsAppPlatformPlugin","AdsPromotedObjectTypes","AdsUEditorAdgroupArAdsMutator","AdsUEditorAdgroupCanvasMutator","AdsUEditorAdgroupChildAttachmentsMutators","AdsUEditorAdgroupImageMutators","AdsUEditorCallToActionMutators","AdsUEditorMessengerMutators","AdsUEditorSetPostEditModeMutators","AdsUEditorWhatsAppMutators","AdsUnifiedCreativeAPIFieldMappings","AdsUnifiedCreativeAPIFields","AdsWhatsAppUtils","ApiAdObjectTypes","adsAuthorizationCategoryMutate","adsCallToActionGetDefaultCallToActionType","adsPlacementAssetMutationUpdateCustomizationVideo","cr:1189152","gkx","isFalsey","isTruthy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){__p&&__p();var c=a.adgroup,d=a.specPathPlugin,e=a.videoID;a=a.preferredThumbnailURL;if(b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(c))return h(c,d,e,a);var f=b("AdsUnifiedCreativeAPIFields").imageHash.getPath(c,d),g=b("AdsUnifiedCreativeAPIFields").videoThumbnailURL.getPath(c,d),i=b("AdsUnifiedCreativeAPIFields").videoThumbnailSource.getPath(c,d),j=b("AdsUnifiedCreativeAPIFields").videoID.getPath(c,d);f=f?c.deleteIn(f):c;if(b("isFalsey")(e)){f=j?f.deleteIn(j):f;f=g?f.deleteIn(g):f;f=i?f.deleteIn(i):f;return f.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_URL)}f=j?f.setIn(j,e):f;c=a;f=g?f.setIn(g,c):f;f=i?f.setIn(i,"generated_default"):f;f=f.setIn(b("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_URL,c).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.VIDEO_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_HASH).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_URL).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_HASH);b("AdsUnifiedCreativeAPIFields").captionIDs.isSupported(f,d)&&(f=f.setIn(b("AdsUnifiedCreativeAPIFields").captionIDs.getPathOrThrow(f,d),null));return f}function h(a,c,d,e){__p&&__p();if(b("isTruthy")(d)){d=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").videoID,0,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID,d);e=e;d=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(d,c,b("AdsUnifiedCreativeAPIFields").videoThumbnailURL,0,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL,e);if(b("AdsAssetFeedUtils").isDLOAdgroupFromRecord(d)){e=b("AdsDLOLanguageUtils").getPrimaryLanguageFromAdgroup(d);d=b("AdsDLOLanguageUtils").setLanguageLabelForUnlabeledMediaAsset(d,e)}return d}else return b("AdsAssetFeedMutationUtils").removeAssetAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").videoID,0)}function a(a,c,d){return b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(a)?i(d,a):a.setIn(b("AdsUnifiedCreativeAPIFields").captionIDs.getPathOrThrow(a,c),d)}function i(a,c){var d=b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(c,b("AdsAPIAdAssetFeedFields").VIDEOS);return b("AdsAssetFeedMutationUtils").setVideoCaptionAtIndex(c,d,a)}function j(a,c,d,e){if(b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(a))return k(a,c,d);c=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_URL,d).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_THUMBNAIL_SOURCE,e).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_HASH);return l(c,d)}function k(a,c,d,e){e=b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(a,b("AdsAPIAdAssetFeedFields").VIDEOS);if(b("isTruthy")(d))return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").videoThumbnailURL,e,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL,d);else return b("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").videoThumbnailURL,e,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL)}function l(a,c){return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_URL,c)}function c(a,c){return!b("AdsUnifiedCreativeAPIFields").instagramActorID.isSupported(a,c)?a:a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.INSTAGRAM_ACTOR_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_ACTOR_ID)}function m(a,c,d,e,f){__p&&__p();a=a;b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&(a=b("AdsUEditorAdgroupCanvasMutator").clearCanvasLink(a,d),a=b("AdsUEditorAdgroupCanvasMutator").clearCollectionsFields(a,d,f));a=b("AdsUEditorAdgroupArAdsMutator").clearArAdsLink(a,d);var g=b("AdsUnifiedCreativeAPIFields").brandedContentSponsorPageID.getPath(a,d);g&&(a=a.deleteIn(g));b("AdsChildAttachmentsUtils").getPlaceDataIndex(a,d)!==-1&&(a=b("AdsUEditorAdgroupChildAttachmentsMutators").removePlaceData(a,e,d));if(f===b("AdsPromotedObjectTypes").MESSENGER){g=a;a=b("AdsUEditorMessengerMutators").resetPageWelcomeMessage({adgroup:g,specPlugin:d,pageID:c})}return a}function d(a,c,d,e,f,g,h,i){__p&&__p();i===void 0&&(i=null);c=c;b("AdsAPIAdgroupRecordUtils").isExistingPostAd(c)?(c=n(c,a),i!=null&&(c=b("AdsUEditorSetPostEditModeMutators").setToUsingExistingPost({adgroup:c,cachedCreative:null,cachedPageID:null,defaultPagePost:i,specPathPlugin:h}))):(d||(c=c.setIn(b("AdsUnifiedCreativeAPIFields").pageID.getPathOrThrow(c,h),a)),c=m(c,a,h,g,f));c=b("adsAuthorizationCategoryMutate")(c,a,e);i=b("AdsUnifiedCreativeAPIFields").callToActionType.getPath(c,h);d=i?c.getIn(i):null;b("AdsWhatsAppUtils").isWhatsAppCTAType(d)&&(c=b("AdsUEditorWhatsAppMutators").setWhatsAppNumberToAdgroupCallToAction(c,h));if(g===b("AdsAPIObjectives").PAGE_LIKES&&!b("AdsPageLikeUtils").isPageLikeVideo(c,g)){var j;if(b("gkx")("1188073")){f=b("cr:1189152")!=null?b("cr:1189152")().getValue():null;j=f!=null?f.find(function(b){return b.id===a}):null}i=(e=j)!=null?e:b("AdsPageStore").get(a);if(!i)return c;d=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPath(c,h);d&&(c=c.setIn(d.concat("page"),a));f=b("AdsUnifiedCreativeAPIFields").linkURL.getPath(c,h);f&&(c=c.setIn(f,i.link))}else b("AdsPageLikeUtils").isPageLikeVideo(c,g)&&(c=c.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.PAGE,a));return c}function n(a,c){return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_ID,c).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.BRANDED_CONTENT_SPONSOR_PAGE_ID)}function f(a,c,d,e){if(!b("AdsAssetFeedUtils").hasPlacementCustomizationFromRecord(c)&&!b("AdsAssetFeedUtils").hasLanguageCustomizationFromRecord(c)&&!b("AdsAssetFeedUtils").isDofWithImageAdgroupFromSpec(c)){var f;b("AdsAdgroupTypeUtils").isVideoAd(c)?(f=g({adgroup:c,specPathPlugin:d,videoID:null,preferredThumbnailURL:null}),f=f.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CUSTOM_OVERLAY_SPEC),f=f.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.INTERACTIVE_COMPONENTS_SPEC.path)):f=b("AdsUEditorAdgroupImageMutators").setImage(a,null,null,null,null,null,null,c,d,e);return b("AdsMutators").deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,f)}return b("AdsAdgroupTypeUtils").isVideoAd(c)?l(c,null):b("AdsUEditorAdgroupImageMutators").setImageThumbnail(null,null,null,c)}function o(a,c,d,e,f,g,h){__p&&__p();var i,j,k;d=d.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_ID);i=(i=d)==null?void 0:(i=i.creative)==null?void 0:i.object_story_id;j=(j=d)==null?void 0:(j=j.creative)==null?void 0:j.object_story_spec;k=(k=d)==null?void 0:(k=k.creative)==null?void 0:k.object_type;k=k===b("ApiAdObjectTypes").PAGE||f||b("AdsAPIAdgroupRecordUtils").isExistingPostAd(d);k&&(d=d.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_ID,a));j&&(d=d.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.PAGE_ID,a));b("isTruthy")(i)&&(d=d.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID));b("AdsPageLikeUtils").isPageLikeVideo(d,h)&&(d=d.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.PAGE,a));b("AdsLocalUtils").isLocalObjective(h)&&(d=p(d,g,c));if(b("AdsPlacementsWhatsAppPlatformPlugin").isEnabled(e.capabilities)&&c){f=b("AdsPageUtils").getWhatsAppBusinessProfileID(c);b("isTruthy")(f)&&(d=d.setIn(b("AdsAPIAdgroupPaths").CREATIVE.WHATSAPP_BUSINESS_PROFILE_ID,f))}return d}function p(a,c,d){__p&&__p();if(!d)return a;a=a;var e=b("isTruthy")(c)?b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.LINK:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.LINK;if(!b("AdsAdgroupTypeUtils").isVideoAd(a)){a=a.setIn(e,d.link);e=b("AdsAdgroupSpecUtils").getLinkDescription(a);b("isFalsey")(e)&&(a=a.setIn(b("isTruthy")(c)?b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.DESCRIPTION:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.DESCRIPTION," "))}return a}function q(a){if(b("AdsAPIAdgroupRecordUtils").isTemplateCreative(a))return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.FORMAT_OPTION,"collection_video").deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.FORCE_SINGLE_LINK);var c;b("AdsAdgroupTypeUtils").isVideoAd(a)?c=b("AdsAdgroupPostTypeMutators").convertVideoPostToTemplateVideoPost(a):c=b("AdsAdgroupPostTypeMutators").convertLinkPostToTemplateVideoPost(a);return c.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.FORMAT_OPTION,"collection_video").deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.PICTURE).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.IMAGE_HASH)}function r(a,c){var d;if(!b("AdsAPIAdgroupRecordUtils").isTemplateCreative(a))return a;d=(d=a.creative)==null?void 0:d.dynamic_ad_voice;return d!=null?a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.FORMAT_OPTION).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.FORCE_SINGLE_LINK,!0):b("AdsAdgroupPostTypeMutators").convertTemplatePostToLinkPost(a,c)}function s(a,c){return!b("AdsAPIAdgroupRecordUtils").isTemplateCreative(a)?a:b("AdsAdgroupPostTypeMutators").convertTemplateVideoPostToVideoPost(a,c)}function t(a,c,d,e){__p&&__p();var f,g;a=a;var h=b("AdsUnifiedCreativeAPIFields").linkURL.getValue(a,e);a=a.deleteIn((f=b("AdsAPIAdgroupPaths")).CREATIVE.CATEGORIZATION_CRITERIA).deleteIn(f.CREATIVE.CATEGORY_MEDIA_SOURCE).deleteIn(f.CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.path).deleteIn(f.CREATIVE.PRODUCT_SET_ID).setIn((g=b("AdsUnifiedCreativeAPIFieldMappings")).LINK_MAPPING.linkURL,a.getIn(g.TEMPLATE_MAPPING.linkURL)).setIn(g.LINK_MAPPING.callToActionType,b("adsCallToActionGetDefaultCallToActionType")(c,d)).setIn(g.LINK_MAPPING.callToActionValue.concat("link"),h).setIn(f.METADATA.CAROUSEL_STYLE,"static_carousel");var i=b("AdsUnifiedCreativeAPIFields").callToActionType.getValue(a,e);c=f.METADATA.CAROUSEL_STYLE;a=a.setIn(c,"static_carousel");g=b("AdsChildAttachmentsUtils").getDefaultChildAttachments();g=g.map(function(a){a=a;var c=a.getIn(b("AdsAPIChildAttachmentPaths").LINK)||h;c?a=a.setIn(b("AdsAPIChildAttachmentPaths").LINK,c):a=a.deleteIn(b("AdsAPIChildAttachmentPaths").LINK);if(i==null){a=a.deleteIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.path);return a}a=b("AdsMutators").setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.TYPE,i,a);return a});f=b("AdsUnifiedCreativeAPIFields").childAttachments.getPath(a,e);f&&(a=a.setIn(f,g));c=b("AdsAPIAdgroupRecordUtils").getCallToActionLink(a,e);a=b("AdsUEditorCallToActionMutators").setCallToActionLink({adgroup:a,link:c,promotedObjectType:d,specPlugin:e});f=b("AdsUnifiedCreativeAPIFields").multiShareOptimized.getValue(a,e);f!==!1&&(a=a.setIn(b("AdsUnifiedCreativeAPIFields").multiShareOptimized.getPathOrThrow(a,e),!0));g=b("AdsUnifiedCreativeAPIFields").multiShareEndCard.getValue(a,e);g!==!1&&(a=a.setIn(b("AdsUnifiedCreativeAPIFields").multiShareEndCard.getPathOrThrow(a,e),!0));return a}function u(a,c,d,e){d=a.deleteIn((c=b("AdsAPIAdgroupPaths")).CREATIVE.CATEGORIZATION_CRITERIA).deleteIn(c.CREATIVE.CATEGORY_MEDIA_SOURCE).deleteIn(c.CREATIVE.PRODUCT_SET_ID).deleteIn(c.CREATIVE.RECOMMENDER_SETTINGS.PRODUCT_SALES_CHANNEL).deleteIn(b("AdsUnifiedCreativeAPIFieldMappings").TEMPLATE_MAPPING.headline).deleteIn(b("AdsUnifiedCreativeAPIFieldMappings").TEMPLATE_MAPPING.linkDescription).setIn(b("AdsUnifiedCreativeAPIFieldMappings").TEMPLATE_MAPPING.message,e.getDefaultMessage()).setIn(c.METADATA.CAROUSEL_STYLE,"static_carousel");var f=b("AdsUnifiedCreativeAPIFields").callToActionType.getValue(d,e);a=b("AdsChildAttachmentsUtils").getDefaultChildAttachments(b("AdsMultiProductConstants").MIN_PRODUCTS);a=a.map(function(a){return f==null?a.deleteIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.path):b("AdsMutators").setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.TYPE,f,a)});c=b("AdsUnifiedCreativeAPIFields").childAttachments.getPath(d,e);c&&(d=d.setIn(c,a));return d}function v(a){__p&&__p();var c=a.adgroup,d=a.videoID,e=a.specPathPlugin,f=a.actionThumbnailURL,h=a.preferredThumbnailURL,i=a.thumbnailSource,k=a.isBaseAsset;a=a.label;if(!b("AdsAssetFeedUtils").hasPlacementCustomizationFromRecord(c)&&!b("AdsAssetFeedUtils").hasLanguageCustomizationFromRecord(c)){if(d!=null)return g({adgroup:c,specPathPlugin:e,videoID:d,preferredThumbnailURL:h});if(f!=null)return j(c,e,f,i)}f=f!=null?f:h;h=k!=null?k:!1;return b("adsPlacementAssetMutationUpdateCustomizationVideo")(c,h,a,e,f,i,d)}e.exports={setVideoCaptionIDs:a,setVideoID:g,setVideoImageURL:j,setThumbnailURL:l,setAssetFeedVideoID:h,removeInstagramActorID:c,clearDependentFieldsForPageChange:m,adgroupProcessing:d,setPageForExistingPostAd:n,setPageID:o,setPageInfoForLocalAwarenessAd:p,removeImagesAndVideos:f,templateVideoMediaTypeSelected:q,transformTemplateVideoMediaToImageMedia:r,transformTemplateVideoMediaToVideoMedia:s,transformAdgroupFromTemplateToLinkData:t,transformAdgroupTemplateDataFromDynamicToStatic:u,setCustomizationVideo:v}}),null);
__d("AdsActionSpecUtils",["areEqual","isEmpty","mapObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i,j={"action.type":"DEFAULTS"},k={_getActionSpecObject:function(a){if(!a)return null;return Array.isArray(a)?a.length!==1?null:a[0]:a},makeMobileAppInstallTrackingSpecs:function(a){return[{"action.type":"mobile_app_install",application:a},{"action.type":"app_custom_event",application:a}]},getMobileAppTrackingSpecIndices:function(a){return[].concat(k.findIndicesByConstraint(a,{"action.type":"mobile_app_install"}),k.findIndicesByConstraint(a,{"action.type":"app_custom_event"}))},makeMobileAppEngagementTrackingSpecs:function(a){return[{"action.type":"app_custom_event",application:a},{"action.type":"mobile_app_install",application:a}]},makeDesktopAppInstallTrackingSpecs:function(a){return[{"action.type":"app_install",application:a},{"action.type":"app_engagement",application:a}]},makeDesktopAppEngagementTrackingSpecs:function(a){return[{"action.type":"app_engagement",application:a}]},getApplicationIDFromSpecs:function(a){if(!a)return null;for(var b=0;b<a.length;b++)if(a[b].application!=null)if(Array.isArray(a[b].application))return a[b].application[0]+"";else return a[b].application+"";return null},_containsExactMatch:function(a,c){var d=k._getActionSpecObject(c);return a.some(function(a){a=k._getActionSpecObject(a);return(g||(g=b("areEqual")))(a,d)})},withoutDuplicates:function(a){var b=[];a.forEach(function(a){if(k._containsExactMatch(b,a))return;b.push(a)});return b},unifyValues:function(a){return a.map(function(a){return(h||(h=b("mapObject"))).untyped(a,function(a){return Array.isArray(a)?a:[a]})})},filterByConstraint:function(a,b,c){__p&&__p();return!a?[]:a.filter(function(a){__p&&__p();a=k._getActionSpecObject(a);if(!a)return c;for(var d in b){if(!a[d])return c;if(a[d].indexOf(b[d])===-1)return c}return!c})},findIndicesByConstraint:function(a,b){if(!a)return[];a=a.map(function(a,b){return[a,b]});return a.filter(function(a){return k.filterByConstraint([a[0]],b).length>0}).map(function(a){return a[1]})},removeApplicationSpecs:function(a){a=(a||[]).map(function(a){return k._getActionSpecObject(a)}).filter(Boolean).filter(function(a){return!a.application});return a},getPixelTrackingSpecIndices:function(a){return k.findIndicesByConstraint(a,{"action.type":"offsite_conversion"})},setPixelIDs:function(a,b){var c=k.filterByConstraint(a,{"action.type":"offsite_conversion"},!0);b.forEach(function(a){c.push(k.makeNormalizedPixel(a))});return k.withoutDuplicates(c)},setFacebookPixelID:function(a,b){a=k.filterByConstraint(a,{"action.type":"offsite_conversion"},!0);a.push(k.makeNormalizedFacebookPixel(b));return k.withoutDuplicates(a)},mergeConversionToTrackingSpec:function(a,c,d){a=k.customSpecs(a||[]);a=k.filterByConstraint(a,{"action.type":d},!0);(i||(i=b("isEmpty")))(c)||a.push(Object.assign({"action.type":d},c));return k.withoutDuplicates(a)},mergeOffsiteConversionToTrackingSpec:function(a,c){a=k.customSpecs(a||[]);a=k.filterByConstraint(a,{"action.type":"offsite_conversion"},!0);(i||(i=b("isEmpty")))(c)||a.push(Object.assign({"action.type":"offsite_conversion"},c));return k.withoutDuplicates(a)},makeNormalizedPixel:function(a){return{"action.type":["offsite_conversion"],offsite_pixel:[a]}},makeNormalizedFacebookPixel:function(a){return{"action.type":["offsite_conversion"],fb_pixel:[a]}},customSpecs:function(a){return k.filterByConstraint(a,j,!0)}};e.exports=k}),null);
__d("AdsPixelPromotedObjectUtil",["isTruthy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(){}var c=a.prototype;c.getDefaultTrackingSpecFromPromotedObject=function(a){var c=a.custom_event_type!=null?a.custom_event_type:a.pixel_rule;if(b("isTruthy")(c)&&a.pixel_id!=null&&a.pixel_id!=="")return{fb_pixel:[a.pixel_id]};return a.pixel_id!=null&&a.pixel_id!==""?{offsite_pixel:[a.pixel_id]}:babelHelpers["extends"]({},Object.freeze({}))};return a}();e.exports=new a()}),null);
__d("AdsAdgroupCreation",["fbt","invariant","AdsActionSpecUtils","AdsAPICampaignRecord","AdsAPICampaignRecordUtils","AdsAPIObjectives","AdsAppUtils","AdsBuyingTypes","AdsCampaignBidUtils","AdsConversionPixelStatusUI","AdsConversionPixelStore","AdsCreativeSpecTypes","AdsInterfacesLogger","AdsLinkPostFormat","AdsLoadStateUtils_LEGACY","AdsLocalAwarenessUtils","AdsLocalUtils","AdsMessengerConstants","AdsObjectTypeUtils","AdsPageUtils","AdsPixelPromotedObjectUtil","AdsPixelProvider","AdsPixelStatus","AdsPixelStatusEnum","AdsPixelStoreUtil","AdsPromotedObjectTypes","AdsRunStatus","AdsTemplateDataDefaultsStoreUtils","AdsTokensConstants","DynamicTemplatePageFields","ImmutableObject","OfferComposerConstants.react","PowerEditorConfig","PowerEditorEventCategory","adsCallToActionGetDefaultCallToActionType","adsCampaignIsMessengerThreadSelected","adsStorePromiseAsyncGetForSyncStore"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="{{"+b("AdsTokensConstants").NAMESPACES.PAGE+"."+b("DynamicTemplatePageFields").LOCATION.STREET_ADDRESS+"}}",j="{{"+b("AdsTokensConstants").NAMESPACES.PAGE+"."+b("DynamicTemplatePageFields").LOCATION.CITY+"}}",k=new(b("ImmutableObject"))((a={},a.status=b("AdsRunStatus").ACTIVE,a.display_sequence=0,a)),l={getDefaultsForCreateFlow:function(a,b,c){return babelHelpers["extends"]({},k,(c={account_id:c.account_id},c.adset_id=a,c.campaign_id=b,c))},getDefaults:function(a,c,d,e,f,g,i,j,m){__p&&__p();d||h(0,18952);e&&b("AdsLoadStateUtils_LEGACY").enforceLoaded(e);m&&b("AdsLoadStateUtils_LEGACY").enforceLoaded(m);e=a.id;var n=c.id;if(!e||!n){var o={};e||(o.adset=a);n||(o.campaign=c);b("AdsInterfacesLogger").log({eventName:"ad_create_missing_parent_id",eventCategory:b("PowerEditorEventCategory").ERROR,data:{error_message:JSON.stringify(o)}},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);throw new Error("[AdsAdgroupCreation.getDefaults] adsetID or campaignID are missing")}return babelHelpers["extends"]({},k,(o={account_id:d.account_id},o.adset_id=e,o.campaign_id=n,o.creative=l.getDefaultCreative(c,a,f,g,i,j,m),o),l.getDefaultEngagementAudience(c),l.getDefaultTrackingSpecs(a,c,d))},getDefaultCreative:function(a,c,d,e,f,g,h){__p&&__p();var i={},j=a.objective;if(j){var k=b("AdsObjectTypeUtils").getDefaultObjectType(j);k&&(i.object_type=k)}k=(k=c.promoted_object)==null?void 0:k.product_set_id;k&&(i.product_set_id=k);if(j===b("AdsAPIObjectives").PAGE_LIKES){var m;m=(m=c.promoted_object)==null?void 0:m.page_id;m&&(i.object_id=m)}m=l.getDefaultObjectStorySpec(c,a,d,e,f,k,g,h);m&&(i.object_story_spec=m);d=l.getDefaultLinkURL(c);d&&(i.link_url=d);if(b("AdsLocalAwarenessUtils").isADLACampaign(j,a.promoted_object)){if(j!==b("AdsAPIObjectives").STORE_VISITS){i.place_page_set_id=(e=c.promoted_object)==null?void 0:e.place_page_set_id}i.dynamic_ad_voice="STORY_OWNER"}return i},getDefaultObjectStorySpec:function(a,c,d,e,f,g,h,i){__p&&__p();e=l._getBasicObjectStorySpec(a,c,e,f,g,h,i);g=c.buying_type;if(g===b("AdsBuyingTypes").RESERVED&&d){i=d.destination_id;g=c.objective;i&&!b("AdsAppUtils").isAppObjective(g,h)&&(e||(e={}),e.page_id=i);c=d.instagram_destination_id;e=e||{};e.instagram_actor_id=c}g=b("adsCampaignIsMessengerThreadSelected")(a);if(g&&e){h=f&&f.id;h&&(e.page_id=h)}return e},getDefaultAppObjectStorySpec:function(a,c,d,e,f){if(f)return l.getDefaultAppDynamicObjectStorySpec(a,c,e,d);else if(d===b("AdsLinkPostFormat").MULTIPLE)return l.getDefaultAppMPAObjectStorySpec(a,c,e);else if(d===b("AdsLinkPostFormat").SINGLE)return l.getDefaultAppLPPObjectStorySpec(a,c,e);return{}},_getBasicObjectStorySpec:function(a,c,d,e,f,g,h){__p&&__p();var i=c.objective;switch(i){case b("AdsAPIObjectives").BRAND_AWARENESS:case b("AdsAPIObjectives").EVENT_RESPONSES:case b("AdsAPIObjectives").VIDEO_VIEWS:return{};case b("AdsAPIObjectives").PRODUCT_CATALOG_SALES:return l.getDefaultProductCatalogSalesObjectStorySpec();case b("AdsAPIObjectives").CANVAS_APP_ENGAGEMENT:case b("AdsAPIObjectives").CANVAS_APP_INSTALLS:case b("AdsAPIObjectives").MOBILE_APP_ENGAGEMENT:case b("AdsAPIObjectives").MOBILE_APP_INSTALLS:case b("AdsAPIObjectives").APP_INSTALLS:return l.getDefaultAppObjectStorySpec(a,c,d,e,f);case b("AdsAPIObjectives").LEAD_GENERATION:return d===b("AdsLinkPostFormat").MULTIPLE?l.getDefaultLeadGenMPAObjectStorySpec(a,c):l.getDefaultLeadGenLPPObjectStorySpec(a,c);case b("AdsAPIObjectives").LINK_CLICKS:case b("AdsAPIObjectives").CONVERSIONS:if(b("AdsAppUtils").isAppObjective(i,g))return l.getDefaultAppObjectStorySpec(a,c,d,e,f);if(g===b("AdsPromotedObjectTypes").PRODUCT_SET)return l.getDefaultProductCatalogSalesObjectStorySpec();if(g===b("AdsPromotedObjectTypes").MESSENGER)return l.getDefaultMessagesObjectStorySpec(a,c,e,d);return g===b("AdsPromotedObjectTypes").WHATSAPP?l.getDefaultWhatsAppObjectStorySpec(a,c):d===b("AdsLinkPostFormat").MULTIPLE?l.getDefaultWebsiteMPAObjectStorySpec(a,c):{};case b("AdsAPIObjectives").OFFER_CLAIMS:return l.getDefaultOfferClaimsObjectStorySpec(a,c,h);case b("AdsLocalUtils").isLocalObjectiveSwitch(i):return l.getDefaultLocalAwarenessObjectStorySpec(a,c,e,d);case b("AdsAPIObjectives").POST_ENGAGEMENT:return l.getDefaultPostEngagementObjectStorySpec(e);case b("AdsAPIObjectives").MESSAGES:return g===b("AdsPromotedObjectTypes").WHATSAPP?l.getDefaultWhatsAppObjectStorySpec(a,c):l.getDefaultMessagesObjectStorySpec(a,c,e,d);case b("AdsAPIObjectives").PAGE_LIKES:return l.getDefaultPageLikeObjectStorySpec(c)}},getDefaultWhatsAppObjectStorySpec:function(a,c,d,e){a=d?d.id:null;c=l.getDefaultCallToActionType(c,b("AdsPromotedObjectTypes").WHATSAPP);var f=b("AdsPageUtils").getPageLink(d)||"https://facebook.com";d=b("AdsPageUtils").getWhatsAppNumber(d,!0)||void 0;if(e===b("AdsLinkPostFormat").MULTIPLE)return{link_data:{link:f,multi_share_optimized:!1,call_to_action:babelHelpers["extends"]({},c,{value:{whatsapp_number:d}}),child_attachments:[{link:f,call_to_action:babelHelpers["extends"]({},c,{value:{whatsapp_number:d}})},{link:f,call_to_action:babelHelpers["extends"]({},c,{value:{whatsapp_number:d}})},{link:f,call_to_action:babelHelpers["extends"]({},c,{value:{whatsapp_number:d}})}]},page_id:a};else return{link_data:{link:f,multi_share_optimized:!1,call_to_action:babelHelpers["extends"]({},c,{value:{whatsapp_number:d}})},page_id:a}},getDefaultMessagesObjectStorySpec:function(a,c,d,e){a=d?d.id:null;d=l.getDefaultCallToActionType(c,b("AdsPromotedObjectTypes").MESSENGER);c=b("AdsMessengerConstants").EMPTY_MESSENGER_LINK;if(e===b("AdsLinkPostFormat").MULTIPLE)return{link_data:{link:c,multi_share_optimized:!1,call_to_action:babelHelpers["extends"]({},d,{value:{app_destination:"MESSENGER"}}),child_attachments:[{link:c,call_to_action:babelHelpers["extends"]({},d,{value:{app_destination:"MESSENGER"}})},{link:c,call_to_action:babelHelpers["extends"]({},d,{value:{app_destination:"MESSENGER"}})},{link:c,call_to_action:babelHelpers["extends"]({},d,{value:{app_destination:"MESSENGER"}})}]},page_id:a};else return{link_data:{link:c,multi_share_optimized:!1,call_to_action:babelHelpers["extends"]({},d,{value:{app_destination:"MESSENGER"}})},page_id:a}},getDefaultAppDynamicObjectStorySpec:function(a,c,d,e){a=(c=a.promoted_object)==null?void 0:c.object_store_url;c=d?d.id:null;return d={},d.template_data=babelHelpers["extends"]({},l.getDefaultTemplateData(e===b("AdsLinkPostFormat").MULTIPLE),(e={},e.link=a,e)),d.page_id=c,d},getDefaultAppMPAObjectStorySpec:function(a,c,d){a=(a=a.promoted_object)==null?void 0:a.object_store_url;d=d?d.id:null;c=l.getDefaultCallToActionType(c,b("AdsPromotedObjectTypes").MOBILE_APP);return a?{link_data:{link:a,multi_share_optimized:!0,call_to_action:babelHelpers["extends"]({},c,{value:{link:a}}),child_attachments:[{link:a,call_to_action:babelHelpers["extends"]({},c)},{link:a,call_to_action:babelHelpers["extends"]({},c)},{link:a,call_to_action:babelHelpers["extends"]({},c)}]},page_id:d}:{link_data:{multi_share_optimized:!0,call_to_action:babelHelpers["extends"]({},c),child_attachments:[{call_to_action:babelHelpers["extends"]({},c)},{call_to_action:babelHelpers["extends"]({},c)},{call_to_action:babelHelpers["extends"]({},c)}]},page_id:d}},getDefaultTemplateData:function(a){var c;c=(c={},c.multi_share_end_card=b("AdsTemplateDataDefaultsStoreUtils").getDefault("multi_share_end_card"),c.name=b("AdsTemplateDataDefaultsStoreUtils").getDefault("name"),c.description=b("AdsTemplateDataDefaultsStoreUtils").getDefault("description"),c);if(!a){return babelHelpers["extends"]((a={},a.force_single_link=!0,a),c)}return c},getDefaultProductCatalogSalesObjectStorySpec:function(){var a;return a={},a.template_data=babelHelpers["extends"]({},l.getDefaultTemplateData(!0)),a},getDefaultPageLikeObjectStorySpec:function(a){var b,c;return c={},c.link_data=(b={},b.call_to_action=babelHelpers["extends"]({},l.getDefaultCallToActionType(a)),b),c},getDefaultLeadGenLPPObjectStorySpec:function(a,b){a=(a=a.promoted_object)==null?void 0:a.page_id;a=a?{page_id:a}:{};return babelHelpers["extends"]({link_data:{link:"http://fb.me",call_to_action:babelHelpers["extends"]({},l.getDefaultCallToActionType(b))}},a)},getDefaultLeadGenMPAObjectStorySpec:function(a,b){a=(a=a.promoted_object)==null?void 0:a.page_id;a=a?{page_id:a}:{};b={link:"http://fb.me",call_to_action:babelHelpers["extends"]({},l.getDefaultCallToActionType(b))};return babelHelpers["extends"]({link_data:babelHelpers["extends"]({},b,{multi_share_optimized:!0,child_attachments:[babelHelpers["extends"]({},b),babelHelpers["extends"]({},b),babelHelpers["extends"]({},b)]})},a)},getDefaultOfferClaimsObjectStorySpec:function(a,c,d){a=(a=a.promoted_object)==null?void 0:a.page_id;a=a?{page_id:a}:{};var e=d?{offer_id:d.id}:{},f={};if(d){var g=d.redemption_link;d.location_type==="offline"&&(g=b("OfferComposerConstants.react").IN_STORE_OFFER_URL);f={link:g}}return babelHelpers["extends"]({link_data:babelHelpers["extends"]({multi_share_optimized:!1,multi_share_end_card:!1},e,{call_to_action:babelHelpers["extends"]({},l.getDefaultCallToActionType(c))},f)},a)},getDefaultLocalAwarenessObjectStorySpec:function(a,c,d,e){var f,g;f=(f=c.promoted_object)==null?void 0:f.page_id;g=(g=a.promoted_object)==null?void 0:g.page_id;var h=f||g;h=h?{page_id:h}:{};var i={},j={},k=!1;d&&(f?(k=!0,j=l.getDefaultDLATemplateData(a,c,d,e)):g&&(i=l.getDefaultLALinkData(a,c,d,e)));return babelHelpers["extends"]({},k?(f={},f[b("AdsCreativeSpecTypes").TEMPLATE_DATA]=j,f):(g={},g[b("AdsCreativeSpecTypes").LINK_DATA]=i,g),h)},getDefaultPostEngagementObjectStorySpec:function(a){return a?{page_id:a.id}:null},getDefaultDLATemplateData:function(a,c,d,e){a=e===b("AdsLinkPostFormat").MULTIPLE;c=(e={},e.description=" ",e.call_to_action=babelHelpers["extends"]({},l.getDefaultCallToActionType(c)),e.link=d.link,e);e=babelHelpers["extends"]((d={},d.message=g._("Visit us at {streetAddress}, {city}.",[g._param("streetAddress",i),g._param("city",j)]),d),c);if(!a){return babelHelpers["extends"]({},e,(d={},d.force_single_link=!0,d))}a=[babelHelpers["extends"]({},c),babelHelpers["extends"]({},c),babelHelpers["extends"]({},c)];return babelHelpers["extends"]({},e,(d={},d.child_attachments=a,d))},getDefaultLALinkData:function(a,c,d,e){a=e===b("AdsLinkPostFormat").MULTIPLE;e=(c={},c.link=d.link,c.description=" ",c);d=babelHelpers["extends"]({},e);if(!a)return d;c=[babelHelpers["extends"]({},e),babelHelpers["extends"]({},e),babelHelpers["extends"]({},e)];return babelHelpers["extends"]({},d,(a={},a.child_attachments=c,a.multi_share_end_card=!1,a))},getDefaultCallToActionType:function(a,c){a=a.objective;a=b("adsCallToActionGetDefaultCallToActionType")(a,c);return a?{type:a}:{}},getDefaultAppLPPObjectStorySpec:function(a,c,d){a=(a=a.promoted_object)==null?void 0:a.object_store_url;d=d?d.id:null;c=l.getDefaultCallToActionType(c,b("AdsPromotedObjectTypes").MOBILE_APP);return a?{link_data:{link:a,call_to_action:babelHelpers["extends"]({},c,{value:{link:a}})},page_id:d}:{link_data:{call_to_action:babelHelpers["extends"]({},c)},page_id:d}},getDefaultLinkURL:function(a){a=(a=a.promoted_object)==null?void 0:a.object_store_url;if(a)return a},getDefaultEngagementAudience:function(a){a=a.objective;return a!==b("AdsAPIObjectives").VIDEO_VIEWS?{}:{engagement_audience:!0}},getDefaultWebsiteMPAObjectStorySpec:function(a,b){return{link_data:{multi_share_end_card:!0,multi_share_optimized:!0,child_attachments:[{},{},{}]}}},getDefaultTrackingSpecs:function(a,c,d){__p&&__p();var e=[],f=[],g=c.objective,h=b("AdsAPICampaignRecordUtils").getPromotedObjectType(g,new(b("AdsAPICampaignRecord"))(a)),i=a.promoted_object;if(i){var j=b("AdsPixelPromotedObjectUtil").getDefaultTrackingSpecFromPromotedObject(i);f=b("AdsActionSpecUtils").mergeOffsiteConversionToTrackingSpec([],j)}if(!i||!i.custom_event_type||!i.pixel_id){j=d.account_id;i=d.offsite_pixels_tos_accepted;if(j){d=!1;j=b("AdsPixelStoreUtil").getPixelIDs(b("AdsPixelProvider").toFluxStore().getState());if(j[0]){var k=new(b("AdsPixelStatus"))(b("AdsPixelStoreUtil").getPixelLastFiringTime(b("AdsPixelProvider").toFluxStore().getState(),j[0]));k.getStatus()===b("AdsPixelStatusEnum").ACTIVE&&(f=b("AdsActionSpecUtils").setFacebookPixelID(f,j[0]),d=!0)}if(!d&&!!i){var l=[];k=b("AdsConversionPixelStore").getPixels();k.forEach(function(a){a=a.pixelID;var c=b("AdsConversionPixelStore").getPixel(a);c&&b("AdsConversionPixelStatusUI").getStatus(c)==="Active"&&l.push(a)});l.length<=b("PowerEditorConfig").config.MAX_AUTO_TRACKED_OFFSITE_PIXELS&&(f=b("AdsActionSpecUtils").setPixelIDs(f,l))}}}d=(j=a.promoted_object)==null?void 0:j.application_id;if(d){var m;g===b("AdsAPIObjectives").CANVAS_APP_ENGAGEMENT?m=b("AdsActionSpecUtils").makeDesktopAppEngagementTrackingSpecs(d):b("AdsAppUtils").isCanvasAppInstall(g,h)?m=b("AdsActionSpecUtils").makeDesktopAppInstallTrackingSpecs(d):g===b("AdsAPIObjectives").MOBILE_APP_ENGAGEMENT?m=b("AdsActionSpecUtils").makeMobileAppEngagementTrackingSpecs(d):b("AdsAppUtils").isMobileAppInstall(g,h)&&(m=b("AdsActionSpecUtils").makeMobileAppInstallTrackingSpecs(d));if(m){i=b("AdsCampaignBidUtils").campaignHasBidOnActions(c,a,g);i&&e.push(m.shift());f=f.concat(m)}}e=b("AdsActionSpecUtils").unifyValues(e);e=b("AdsActionSpecUtils").withoutDuplicates(e);f=b("AdsActionSpecUtils").unifyValues(f);f=b("AdsActionSpecUtils").withoutDuplicates(f);return{conversion_specs:e,tracking_specs:f}},_getPromiseForPixels:function(a){return b("adsStorePromiseAsyncGetForSyncStore")(a,function(){return a.getPixels()},function(){return a.isListLoaded()})}};e.exports=l}),null);
__d("AdsAdgroupCreativePluginType",[],(function(a,b,c,d,e,f){"use strict";e.exports={order:["accountType","objective","promotedObjectType","offerStateType","catalogVertical"]}}),null);
__d("AdsCanvasAppAdgroupCreativePluginCommon",["immutable"],(function(a,b,c,d,e,f){"use strict";a={getSupportedMediaFormats:function(a){return new Set(["IMAGE","CAROUSEL","VIDEO"])},getSupportedCallToActiveValueFields:function(){return b("immutable").Set(["app_link"])}};e.exports=a}),null);
__d("AdsDefaultAdgroupCreativePlugin",["AdsInstagramApplicabilityUtils","AdsPlacementAPISpecReaderUtils","AdsUEditorAdgroupCreativeFormat","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAPISpecReaderUtils").convertCampaignToPlacementSpec,h=b("AdsPlacementAPISpecReaderUtils").isOnlyActiveFacebookInstreamVideosPlacement;a={type:"adgroup/creative",key:"default",pivots:{},getSupportedMediaFormats:function(a){a=a.campaign;return b("AdsInstagramApplicabilityUtils").hasInstagramIGTVPlacementOnly(a)||h(g(a))?new Set(["VIDEO"]):new Set(["IMAGE","VIDEO","CAROUSEL"])},isCarouselVideoEligible:function(a){return!1},isCollectionsFormatEligible:function(a){return!1},isCanvasCollectionsOnly:function(a){return!1},isVideoViewCarouselEligible:function(a){return!1},getVideoLPPFormat:function(a){return null},getSupportedCanvasCheckboxMediaFormats:function(){return new Set([])},getSupportedPlayableAssetMediaFormats:function(){return new Set([])},allowUsingExistingPost:function(){return!1},supportsLandingView:function(){return!1},getSupportedCallToActiveValueFields:function(){return b("immutable").Set()},shouldSetCanvasVideoTransitionEnabled:function(){return!1},usesTemplateDataForStaticCarousel:function(){return!1},defaultProductSalesChannel:function(){return"online"},supportsNonCommerceCatalogs:function(a){return a===b("AdsUEditorAdgroupCreativeFormat").ACO?!1:!0}};e.exports=a}),null);
__d("AdsAppInstallsCanvasAppAdgroupCreativePlugin",["AdsAPIObjectives","AdsCanvasAppAdgroupCreativePluginCommon","AdsDefaultAdgroupCreativePlugin","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsCanvasAppAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"app-installs/canvas-app",pivots:{objective:b("AdsAPIObjectives").APP_INSTALLS,promotedObjectType:b("AdsPromotedObjectTypes").CANVAS_APP}});e.exports=a}),null);
__d("AdsMobileAppAdgroupCreativePluginCommon",["AdsAPIAdgroupRecordUtils","AdsAPIOptimizationGoals","AdsUEditorAdgroupCreativeFormat","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getSupportedMediaFormats:function(a){a=a.campaign;var c=new Set(["CAROUSEL"]);a.optimization_goal===b("AdsAPIOptimizationGoals").VIDEO_VIEWS?c.add("VIDEO"):((a=a.promoted_object)==null?void 0:a.offer_id)?c.add("IMAGE"):(c.add("VIDEO"),c.add("IMAGE"));return c},isCarouselVideoEligible:function(a){return!0},isVideoViewCarouselEligible:function(a){return a.campaign.optimization_goal===b("AdsAPIOptimizationGoals").VIDEO_VIEWS},getSupportedCallToActiveValueFields:function(){return b("immutable").Set(["app_link"])},getSupportedCanvasCheckboxMediaFormats:function(a,c){c=!!a&&b("AdsAPIAdgroupRecordUtils").isTemplateCreative(a.adgroup);return!c?new Set([b("AdsUEditorAdgroupCreativeFormat").COLLECTIONS,b("AdsUEditorAdgroupCreativeFormat").SINGLE_IMAGE,b("AdsUEditorAdgroupCreativeFormat").SINGLE_VIDEO]):new Set([b("AdsUEditorAdgroupCreativeFormat").COLLECTIONS])}};e.exports=a}),null);
__d("AdsMobileAppInstallsAdgroupCreativePluginCommon",["AdsAPIAdgroupRecordUtils","AdsDefaultAdgroupCreativePlugin","AdsMobileAppAdgroupCreativePluginCommon","AdsUEditorAdgroupCreativeFormat"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsMobileAppAdgroupCreativePluginCommon"),{getSupportedMediaFormats:function(a){var c=a.adgroup;return b("AdsAPIAdgroupRecordUtils").isTemplateCreative(c)?new Set(["IMAGE","CAROUSEL"]):b("AdsMobileAppAdgroupCreativePluginCommon").getSupportedMediaFormats(a)},getSupportedPlayableAssetMediaFormats:function(){return new Set([b("AdsUEditorAdgroupCreativeFormat").SINGLE_VIDEO])}});e.exports=a}),null);
__d("AdsAppInstallsMobileAppAdgroupCreativePlugin",["AdsAPIObjectives","AdsMobileAppInstallsAdgroupCreativePluginCommon","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsMobileAppInstallsAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"app-installs/mobile-app",pivots:{objective:b("AdsAPIObjectives").APP_INSTALLS,promotedObjectType:b("AdsPromotedObjectTypes").MOBILE_APP}});e.exports=a}),null);
__d("AdsBrandAwarenessAdgroupCreativePlugin",["AdsAPIObjectives","AdsBrandAwarenessUtils","AdsDefaultAdgroupCreativePlugin","AdsObjectTypeUtils","AdsUEditorAdgroupCreativeFormat","ApiAdObjectTypes","adsAccountGK"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),{type:"adgroup/creative",key:"brand-awareness",pivots:{objective:b("AdsAPIObjectives").BRAND_AWARENESS},isCarouselVideoEligible:function(a){return!0},isCollectionsFormatEligible:function(a){return b("adsAccountGK")._(a.account,"8MDFQ0Htd")},getVideoLPPFormat:function(a){return b("AdsBrandAwarenessUtils").isWebsiteLinkEnabled(a.adgroup)&&b("AdsObjectTypeUtils").getObjectTypeFromCreativeSpecType(a.adgroup)===b("ApiAdObjectTypes").VIDEO?"VIDEO_LPP":null},allowUsingExistingPost:function(){return!0},getSupportedCanvasCheckboxMediaFormats:function(a){a=a!=null&&b("adsAccountGK")._(a.account,"8MDFQ0Htd");var c=new Set([b("AdsUEditorAdgroupCreativeFormat").CAROUSEL,b("AdsUEditorAdgroupCreativeFormat").SINGLE_IMAGE,b("AdsUEditorAdgroupCreativeFormat").SINGLE_VIDEO]);a&&c.add(b("AdsUEditorAdgroupCreativeFormat").COLLECTIONS);return c},getSupportedPlayableAssetMediaFormats:function(a){return b("adsAccountGK")._(a,"4it7977E6")?new Set([b("AdsUEditorAdgroupCreativeFormat").SINGLE_VIDEO]):new Set([])}});e.exports=a}),null);
__d("AdsCanvasAppEngagementAdgroupCreativePlugin",["AdsAPIObjectives","AdsCanvasAppAdgroupCreativePluginCommon","AdsDefaultAdgroupCreativePlugin"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsCanvasAppAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"canvas-app-engagement",pivots:{objective:b("AdsAPIObjectives").CANVAS_APP_ENGAGEMENT}});e.exports=a}),null);
__d("AdsCanvasAppInstallsAdgroupCreativePlugin",["AdsAPIObjectives","AdsCanvasAppAdgroupCreativePluginCommon","AdsDefaultAdgroupCreativePlugin"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsCanvasAppAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"canvas-app-installs",pivots:{objective:b("AdsAPIObjectives").CANVAS_APP_INSTALLS}});e.exports=a}),null);
__d("AdsWebsiteAdgroupCreativePluginCommon",["AdsAudienceDirectConfig","AdsObjectTypeUtils","AdsUEditorAdgroupCreativeFormat","ApiAdObjectTypes"],(function(a,b,c,d,e,f){"use strict";a={isCarouselVideoEligible:function(a){return!0},isCollectionsFormatEligible:function(a){return!0},getVideoLPPFormat:function(a){return b("AdsObjectTypeUtils").getObjectTypeFromCreativeSpecType(a.adgroup)===b("ApiAdObjectTypes").VIDEO?"VIDEO_LPP":null},getSupportedCanvasCheckboxMediaFormats:function(){var a;return new Set([(a=b("AdsUEditorAdgroupCreativeFormat")).CAROUSEL,a.COLLECTIONS,a.SINGLE_IMAGE,a.SINGLE_VIDEO])},allowUsingExistingPost:function(){return!b("AdsAudienceDirectConfig").isDirectDealsUser}};e.exports=a}),null);
__d("AdsConversionsAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsUEditorAdgroupCreativeFormat","AdsWebsiteAdgroupCreativePluginCommon","adsAccountGK"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsWebsiteAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"conversions",pivots:{objective:b("AdsAPIObjectives").CONVERSIONS},getSupportedPlayableAssetMediaFormats:function(a){return b("adsAccountGK")._(a,"4it7977E6")?new Set([b("AdsUEditorAdgroupCreativeFormat").SINGLE_VIDEO]):new Set([])}});e.exports=a}),null);
__d("AdsDynamicAdgroupCreativePluginCommon",["AdsCollectionsConstants","isFalsey","isTruthy"],(function(a,b,c,d,e,f){"use strict";a={getSupportedMediaFormats:function(a){a=a.adgroup;a=a==null?void 0:(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.template_data)==null?void 0:a.offer_id;return b("isTruthy")(a)?new Set(["CAROUSEL"]):new Set(["CAROUSEL","IMAGE"])},isCollectionsFormatEligible:function(a,c){a=(a=a.adgroup)==null?void 0:(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.template_data)==null?void 0:a.offer_id;c=b("AdsCollectionsConstants").SUPPORTED_VERTICALS.includes(c);return b("isFalsey")(a)&&c}};e.exports=a}),null);
__d("AdsConversionsDynamicAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsDynamicAdgroupCreativePluginCommon","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsDynamicAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"conversions/dynamic",pivots:{objective:b("AdsAPIObjectives").CONVERSIONS,promotedObjectType:b("AdsPromotedObjectTypes").PRODUCT_SET}});e.exports=a}),null);
__d("AdsMessengerAdgroupCreativePluginCommon",["AdsObjectTypeUtils","ApiAdObjectTypes","immutable"],(function(a,b,c,d,e,f){"use strict";a={allowUsingExistingPost:function(){return!1},getSupportedCanvasCheckboxMediaFormats:function(){return new Set([])},getSupportedCallToActiveValueFields:function(){return b("immutable").Set(["app_destination"])},isCarouselVideoEligible:function(a){return!0},isCollectionsFormatEligible:function(a){return!1},getVideoLPPFormat:function(a){return b("AdsObjectTypeUtils").getObjectTypeFromCreativeSpecType(a.adgroup)===b("ApiAdObjectTypes").VIDEO?"VIDEO_LPP":null}};e.exports=a}),null);
__d("AdsConversionsMessengerAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsMessengerAdgroupCreativePluginCommon","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsMessengerAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"conversions/messenger",pivots:{objective:b("AdsAPIObjectives").CONVERSIONS,promotedObjectType:b("AdsPromotedObjectTypes").MESSENGER}});e.exports=a}),null);
__d("AdsConversionsMobileAppAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsMobileAppAdgroupCreativePluginCommon","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsMobileAppAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"conversions/mobile-app",pivots:{objective:b("AdsAPIObjectives").CONVERSIONS,promotedObjectType:b("AdsPromotedObjectTypes").MOBILE_APP},isCollectionsFormatEligible:function(a){return!0}});e.exports=a}),null);
__d("AdsConversionsPixelHasOfferAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsOfferState","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),{type:"adgroup/creative",key:"conversions/pixel/has-offer",pivots:{objective:b("AdsAPIObjectives").CONVERSIONS,promotedObjectType:b("AdsPromotedObjectTypes").PIXEL,offerStateType:b("AdsOfferState").HAS_OFFER},isCollectionsFormatEligible:function(a){return!1},isCarouselVideoEligible:function(a){return!1},isPageSectionEnabled:function(){return!1}});e.exports=a}),null);
__d("AdsWhatsAppAdgroupCreativePluginCommon",["immutable"],(function(a,b,c,d,e,f){"use strict";a={getSupportedCanvasCheckboxMediaFormats:function(){return new Set([])},getSupportedCallToActiveValueFields:function(){return b("immutable").Set(["whatsapp_number","link"])}};e.exports=a}),null);
__d("AdsConversionsWhatsAppAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsPromotedObjectTypes","AdsWhatsAppAdgroupCreativePluginCommon"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsWhatsAppAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"conversions/whatsapp",pivots:{objective:b("AdsAPIObjectives").CONVERSIONS,promotedObjectType:b("AdsPromotedObjectTypes").WHATSAPP}});e.exports=a}),null);
__d("AdsDealsVideoViewsAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsInstagramApplicabilityUtils","isTruthy"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),{type:"adgroup/creative",key:"video-views/deals",pivots:{accountType:"DIRECT_DEALS",objective:b("AdsAPIObjectives").VIDEO_VIEWS},getSupportedMediaFormats:function(a){return new Set(["VIDEO"])},isVideoViewCarouselEligible:function(a){a=a.campaign?b("AdsInstagramApplicabilityUtils").hasInstagramStoryPlacementOnly(a.campaign.toJS()):!1;return!a},getVideoLPPFormat:function(a){return b("isTruthy")((a=a.adgroup.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.video_data)==null?void 0:(a=a.call_to_action)==null?void 0:(a=a.value)==null?void 0:a.link)?"VIDEO_LPP":null},allowUsingExistingPost:function(){return!1},shouldSetCanvasVideoTransitionEnabled:function(){return!0}});e.exports=a}),null);
__d("AdsEventResponsesAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),{type:"adgroup/creative",key:"event-responses",pivots:{objective:b("AdsAPIObjectives").EVENT_RESPONSES},getSupportedMediaFormats:function(a){return new Set(["IMAGE","VIDEO"])}});e.exports=a}),null);
__d("AdsLeadGenDynamicAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsDynamicAdgroupCreativePluginCommon","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsDynamicAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"lead-generation/dynamic",pivots:{objective:b("AdsAPIObjectives").LEAD_GENERATION,promotedObjectType:b("AdsPromotedObjectTypes").PRODUCT_SET},isCollectionsFormatEligible:function(a){return!1}});e.exports=a}),null);
__d("AdsLeadGenerationAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),{type:"adgroup/creative",key:"lead-generation",pivots:{objective:b("AdsAPIObjectives").LEAD_GENERATION},isCarouselVideoEligible:function(a){return!0}});e.exports=a}),null);
__d("AdsLinkClicksAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsUEditorAdgroupCreativeFormat","AdsWebsiteAdgroupCreativePluginCommon","adsAccountGK"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsWebsiteAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"link_clicks",pivots:{objective:b("AdsAPIObjectives").LINK_CLICKS},getSupportedPlayableAssetMediaFormats:function(a){return b("adsAccountGK")._(a,"4it7977E6")?new Set([b("AdsUEditorAdgroupCreativeFormat").SINGLE_VIDEO]):new Set([])}});e.exports=a}),null);
__d("AdsLinkClicksCanvasAppAdgroupCreativePlugin",["AdsAPIObjectives","AdsCanvasAppAdgroupCreativePluginCommon","AdsDefaultAdgroupCreativePlugin","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsCanvasAppAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"link_clicks/canvas-app",pivots:{objective:b("AdsAPIObjectives").LINK_CLICKS,promotedObjectType:b("AdsPromotedObjectTypes").CANVAS_APP}});e.exports=a}),null);
__d("AdsLinkClicksDynamicAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsDynamicAdgroupCreativePluginCommon","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsDynamicAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"link_clicks/dynamic",pivots:{objective:b("AdsAPIObjectives").LINK_CLICKS,promotedObjectType:b("AdsPromotedObjectTypes").PRODUCT_SET}});e.exports=a}),null);
__d("AdsLinkClicksMessengerAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsMessengerAdgroupCreativePluginCommon","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsMessengerAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"link_clicks/messenger",pivots:{objective:b("AdsAPIObjectives").LINK_CLICKS,promotedObjectType:b("AdsPromotedObjectTypes").MESSENGER}});e.exports=a}),null);
__d("AdsLinkClicksMobileAppAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsMobileAppAdgroupCreativePluginCommon","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsMobileAppAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"link_clicks/mobile-app",pivots:{objective:b("AdsAPIObjectives").LINK_CLICKS,promotedObjectType:b("AdsPromotedObjectTypes").MOBILE_APP},isCollectionsFormatEligible:function(a){return!0}});e.exports=a}),null);
__d("AdsLinkClicksWebsiteHasOfferAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsOfferState","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),{type:"adgroup/creative",key:"link_clicks/website/has-offer",pivots:{objective:b("AdsAPIObjectives").LINK_CLICKS,promotedObjectType:b("AdsPromotedObjectTypes").WEBSITE,offerStateType:b("AdsOfferState").HAS_OFFER},isCarouselVideoEligible:function(a){return!1},isPageSectionEnabled:function(){return!1}});e.exports=a}),null);
__d("AdsLinkClicksWhatsAppAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsPromotedObjectTypes","AdsWhatsAppAdgroupCreativePluginCommon"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsWhatsAppAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"link_clicks/whatsapp",pivots:{objective:b("AdsAPIObjectives").LINK_CLICKS,promotedObjectType:b("AdsPromotedObjectTypes").WHATSAPP}});e.exports=a}),null);
__d("AdsMessagesAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsMessengerAdgroupCreativePluginCommon"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsMessengerAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"messages",pivots:{objective:b("AdsAPIObjectives").MESSAGES}});e.exports=a}),null);
__d("AdsMessagesMessengerAdgroupCreativePlugin",["AdsAPIObjectives","AdsMessagesAdgroupCreativePlugin","AdsMessengerAdgroupCreativePluginCommon","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsMessagesAdgroupCreativePlugin"),b("AdsMessengerAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"messages/messenger",pivots:{objective:b("AdsAPIObjectives").MESSAGES,promotedObjectType:b("AdsPromotedObjectTypes").MESSENGER},allowUsingExistingPost:function(a){return a!==void 0}});e.exports=a}),null);
__d("AdsMessagesWhatsAppAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsObjectTypeUtils","AdsPromotedObjectTypes","AdsWhatsAppAdgroupCreativePluginCommon","AdsWhatsAppFeatureGating","ApiAdObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsWhatsAppAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"messages/whatsapp",pivots:{objective:b("AdsAPIObjectives").MESSAGES,promotedObjectType:b("AdsPromotedObjectTypes").WHATSAPP},allowUsingExistingPost:function(a){return b("AdsWhatsAppFeatureGating").canUseExistingPostInWhatsAppDestinationObjectives()},getVideoLPPFormat:function(a){return b("AdsObjectTypeUtils").getObjectTypeFromCreativeSpecType(a.adgroup)===b("ApiAdObjectTypes").VIDEO?"VIDEO_LPP":null}});e.exports=a}),null);
__d("AdsMobileAppEngagementAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsMobileAppAdgroupCreativePluginCommon"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsMobileAppAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"mobile-app-engagement",pivots:{objective:b("AdsAPIObjectives").MOBILE_APP_ENGAGEMENT}});e.exports=a}),null);
__d("AdsMobileAppInstallsAdgroupCreativePlugin",["AdsAPIObjectives","AdsMobileAppInstallsAdgroupCreativePluginCommon"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsMobileAppInstallsAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"mobile-app-installs",pivots:{objective:b("AdsAPIObjectives").MOBILE_APP_INSTALLS}});e.exports=a}),null);
__d("AdsPageLikesAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),{type:"adgroup/creative",key:"page-likes",pivots:{objective:b("AdsAPIObjectives").PAGE_LIKES},getSupportedMediaFormats:function(a){return new Set(["IMAGE","VIDEO"])},supportsLandingView:function(){return!0}});e.exports=a}),null);
__d("AdsPostEngagementAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsUEditorAdgroupCreativeFormat"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),{type:"adgroup/creative",key:"post-engagement",pivots:{objective:b("AdsAPIObjectives").POST_ENGAGEMENT},getSupportedMediaFormats:function(a){return new Set(["IMAGE","VIDEO"])},isCanvasFormatEligible:function(a){return!0},isCollectionsFormatEligible:function(a){return!1},isCanvasCollectionsOnly:function(a){return!0},getSupportedCanvasCheckboxMediaFormats:function(){return new Set([b("AdsUEditorAdgroupCreativeFormat").SINGLE_IMAGE,b("AdsUEditorAdgroupCreativeFormat").SINGLE_VIDEO,b("AdsUEditorAdgroupCreativeFormat").COLLECTIONS])},allowUsingExistingPost:function(){return!0}});e.exports=a}),null);
__d("AdsProductCatalogSalesAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsDynamicAdgroupCreativePluginCommon","AdsUEditorAdgroupCreativeFormat"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsDynamicAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"product-catalog-sales",pivots:{objective:b("AdsAPIObjectives").PRODUCT_CATALOG_SALES},getSupportedCanvasCheckboxMediaFormats:function(a,c){return new Set([b("AdsUEditorAdgroupCreativeFormat").COLLECTIONS])}});e.exports=a}),null);
__d("AdsProductCatalogSalesFlightsAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsDynamicAdgroupCreativePluginCommon","AdsDynamicTargetingCategories","AdsPromotedObjectTypes","CatalogVertical"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsDynamicAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"product-catalog-sales-flights",pivots:{objective:b("AdsAPIObjectives").PRODUCT_CATALOG_SALES,promotedObjectType:b("AdsPromotedObjectTypes").PRODUCT_SET,catalogVertical:b("CatalogVertical").FLIGHTS},getSupportedMediaFormats:function(a){return a.targetingCategory===b("AdsDynamicTargetingCategories").PROSPECTING?new Set(["CAROUSEL","IMAGE"]):new Set(["IMAGE"])},isCollectionsFormatEligible:function(a,c){return a.targetingCategory===b("AdsDynamicTargetingCategories").PROSPECTING}});e.exports=a}),null);
__d("AdsReachAdgroupCreativePlugin",["AdsAPIObjectives","AdsBrandAwarenessAdgroupCreativePlugin","AdsDefaultAdgroupCreativePlugin"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsBrandAwarenessAdgroupCreativePlugin"),{type:"adgroup/creative",key:"reach",pivots:{objective:b("AdsAPIObjectives").REACH}});e.exports=a}),null);
__d("AdsStoreVisitsAdgroupCreativePlugin",["AdsAPIObjectives","AdsCollectionsAdUtils","AdsDefaultAdgroupCreativePlugin","AdsUEditorAdgroupCreativeFormat","isTruthy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),{type:"adgroup/creative",key:"store-visits",pivots:{objective:b("AdsAPIObjectives").STORE_VISITS},getSupportedMediaFormats:function(a){var c;a=a.adgroup;c=(c=a.creative)==null?void 0:c.product_set_id;a=b("AdsCollectionsAdUtils").isCollectionsAd(a.creative);return b("isTruthy")(c)&&!a?new Set(["CAROUSEL","IMAGE"]):new Set(["CAROUSEL","IMAGE","VIDEO"])},isCarouselVideoEligible:function(a){return!((a=a.adgroup.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.template_data)==null?void 0:a.offer_id)},getSupportedCanvasCheckboxMediaFormats:function(a,c){return c!==!0?new Set([b("AdsUEditorAdgroupCreativeFormat").CAROUSEL,b("AdsUEditorAdgroupCreativeFormat").SINGLE_IMAGE,b("AdsUEditorAdgroupCreativeFormat").SINGLE_VIDEO,b("AdsUEditorAdgroupCreativeFormat").COLLECTIONS]):new Set([])},isCollectionsFormatEligible:function(a){var c;a=b("isTruthy")((c=a.adgroup.creative)==null?void 0:(c=c.object_story_spec)==null?void 0:(c=c.template_data)==null?void 0:c.offer_id)||b("isTruthy")((c=a.adgroup.creative)==null?void 0:(a=c.object_story_spec)==null?void 0:(c=a.video_data)==null?void 0:c.offer_id);return!a},usesTemplateDataForStaticCarousel:function(){return!0},defaultProductSalesChannel:function(){return"omni"},supportsNonCommerceCatalogs:function(a){return a!==b("AdsUEditorAdgroupCreativeFormat").CAROUSEL}});e.exports=a}),null);
__d("AdsVideoViewsAdgroupCreativePlugin",["AdsAPIObjectives","AdsAPIOptimizationGoals","AdsDefaultAdgroupCreativePlugin","AdsInstagramApplicabilityUtils","AdsPlacementAPISpecReaderUtils","AdsUEditorAdgroupCreativeFormat","adsAccountGK","isTruthy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAPISpecReaderUtils").convertCampaignToPlacementSpec;function h(a){if(!a)return!1;var c=g(a.toJS());c=b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramStoryPlacementOnly(c);a=a.optimization_goal===b("AdsAPIOptimizationGoals").TWO_SECOND_CONTINUOUS_VIDEO_VIEWS;return c&&!a}a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),{type:"adgroup/creative",key:"video-views",pivots:{objective:b("AdsAPIObjectives").VIDEO_VIEWS},getSupportedMediaFormats:function(a){a=a.campaign;return h(a)?new Set(["CAROUSEL","VIDEO"]):new Set(["VIDEO"])},isVideoViewCarouselEligible:function(a){a=a.campaign;return h(a)},getVideoLPPFormat:function(a){return b("isTruthy")((a=a.adgroup.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.video_data)==null?void 0:(a=a.call_to_action)==null?void 0:(a=a.value)==null?void 0:a.link)?"VIDEO_LPP":null},getSupportedCanvasCheckboxMediaFormats:function(){return new Set([b("AdsUEditorAdgroupCreativeFormat").SINGLE_VIDEO])},allowUsingExistingPost:function(){return!0},shouldSetCanvasVideoTransitionEnabled:function(){return!0},getSupportedPlayableAssetMediaFormats:function(a){return b("adsAccountGK")._(a,"4it7977E6")?new Set([b("AdsUEditorAdgroupCreativeFormat").SINGLE_VIDEO]):new Set([])}});e.exports=a}),null);
__d("AdsAdgroupCreativePluginResolver",["AdsAdgroupCreativePluginType","adsPluginResolverFactory","AdsAdgroupCreativePlugins"],(function(a,b,c,d,e,f){"use strict";a=b("AdsAdgroupCreativePluginType").order;c=b("adsPluginResolverFactory")(function(){return b("AdsAdgroupCreativePlugins").getArray()},a);e.exports=c}),null);
__d("AdsAdgroupWebsiteMutatorsAdapter",["AdsAdgroupSpecPathPluginResolver","AdsAudienceDirectConfig","AdsCampaignGroupPromotedPageIDSelector","AdsDataAtom","AdsUEditorWebsiteMutators","AdsUEditorWebsiteUtils","adsObjectiveSelector","adsPromotedObjectTypeSelector_LEGACY"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){var c=b("adsObjectiveSelector")({adgroup:a});return b("AdsUEditorWebsiteUtils").getVideoLPPFormat(a,c)};c=function(a,c){var d=b("AdsAudienceDirectConfig").accountType,e=c.adset_id,f=c.campaign_id;f=b("AdsCampaignGroupPromotedPageIDSelector")(f);var g=b("adsObjectiveSelector")({adgroup:c});b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor(b("adsPromotedObjectTypeSelector_LEGACY").getStores().map(function(a){return a.getDispatchToken()}));e=b("adsPromotedObjectTypeSelector_LEGACY")(e);d=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:d,objective:g,promotedObjectType:e});return b("AdsUEditorWebsiteMutators").setWebsiteURL({adgroup:c,campaignGroupPromotedPageID:f,objective:g,promotedObjectType:e,specPlugin:d,websiteURL:a})};e.exports={setWebsiteURL:c,getVideoLPPFormat:a}}),null);
__d("AdsPortraitCustomizationsUtils",["AdsArLinkUtils","AdsAssetFeedUtils","AdsPlacementAPISpecReaderUtils"],(function(a,b,c,d,e,f){"use strict";a={isPortraitCustomizationsEnabled:function(a,c){return!b("AdsAssetFeedUtils").isPACAdgroupFromRecord(c)&&b("AdsPlacementAPISpecReaderUtils").isActiveStoryPosition(b("AdsPlacementAPISpecReaderUtils").convertCampaignRecordToPlacementSpec(a))&&!b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(c)&&!b("AdsArLinkUtils").isArAdCreative(c.creative)},hasPortraitCustomizationsSpec:function(a){return!!((a=a.creative)==null?void 0:(a=a.portrait_customizations)==null?void 0:a.specifications)}};e.exports=a}),null);
__d("AdsUEditorAdgroupDynamicMutators",["AdsAPIAdgroupPaths","AdsAPIObjectives","AdsMutators","AdsTemplateDataDefaultsStoreUtils","AdsUEditorAdgroupChildAttachmentsMutators","AdsUnifiedCreativeAPIFieldMappings","ApiAdObjectTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsUnifiedCreativeAPIFieldMappings").LINK_MAPPING,h=b("AdsUnifiedCreativeAPIFieldMappings").TEMPLATE_MAPPING,i=b("AdsUnifiedCreativeAPIFieldMappings").VIDEO_MAPPING;function j(a,c,d,e){return b("AdsMutators").chain(function(a){return a.setIn(h.linkURL,a.getIn(g.linkURL)).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.path)},l,function(a){return m(a,c,d,e,!0)})(a)}function a(a,c,d,e){return b("AdsMutators").chain(function(a){return a.setIn(h.linkURL,a.getIn(g.linkURL)).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.path).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path)},l,function(a){return n(a,c,d,e,!0)})(a)}function c(a,c){a=a.setIn(g.linkURL,a.getIn(h.linkURL)).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.path).setIn(g.callToActionType,p(c));a=r(a);return a}function d(a,c,d,e){return b("AdsMutators").chain(function(a){return a.setIn(h.linkURL,a.getIn(i.linkURL)).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE,b("ApiAdObjectTypes").SHARE).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.path).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path)},l,function(a){return n(a,c,d,e,!0)})(a)}function k(a,c,d,e,f){var g=a.getIn(h.callToActionType)!=null;return b("AdsMutators").chain(function(a){return a.deleteIn(h.childAttachments).setIn(b("AdsAPIAdgroupPaths").CREATIVE.RECOMMENDER_SETTINGS.PRODUCT_SALES_CHANNEL,f)},l,function(a){return m(a,c,d,e,g)})(a)}function l(a){return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_URL).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_HEIGHT).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_WIDTH)}function m(a,c,d,e,f){return o(a,c,d,e,f).setIn(h.multiShareEndCard,!1).setIn(b("AdsAPIAdgroupPaths").METADATA.CAROUSEL_STYLE,"others")}function n(a,c,d,e,f){return o(a,c,d,e,f).setIn(h.multiShareEndCard,!1).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.FORCE_SINGLE_LINK,!0).deleteIn(h.catalogAssetFormatOption)}function o(a,c,d,e,f){a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID,d).setIn(h.headline,b("AdsTemplateDataDefaultsStoreUtils").getDefault("name",e)).setIn(h.linkDescription,b("AdsTemplateDataDefaultsStoreUtils").getDefault("description",e));f&&(a=a.setIn(h.callToActionType,p(c)));return a}function p(a){switch(a){case b("AdsAPIObjectives").LEAD_GENERATION:return"SIGN_UP";default:return"SHOP_NOW"}}function f(a,c,d,e){return b("AdsUEditorAdgroupChildAttachmentsMutators").addLeadingStaticCard(j(a,c,d,e),!1)}function q(a,c,d,e,f){return b("AdsUEditorAdgroupChildAttachmentsMutators").addLeadingStaticCard(k(a,c,d,e,f),!1)}function r(a){return a.deleteIn((a=b("AdsAPIAdgroupPaths")).CREATIVE.PRODUCT_SET_ID).deleteIn(a.CREATIVE.CATEGORIZATION_CRITERIA).deleteIn(a.CREATIVE.CATEGORY_MEDIA_SOURCE).deleteIn(a.CREATIVE.TEMPLATE_URL_SPEC.path).deleteIn(a.CREATIVE.APPLINK_TREATMENT)}a={addDefaultCarouselTemplateDataFields:m,addDefaultCommonTemplateDataFields:o,removeDynamicAdSpecificCreativeFields:r,removeThumbnail:l,transformAdgroupFromLinkToCarouselTemplateData:j,transformAdgroupFromLinkToSingleMediaTemplateData:a,transformAdgroupFromLinkToCarouselTemplateDataWithStaticCard:f,transformAdgroupFromTemplateToSingleMediaLinkData:c,transformAdgroupFromVideoToSingleMediaTemplateData:d,transformAdgroupTemplateDataFromStaticToDynamic:k,transformAdgroupTemplateDataFromStaticToDynamicWithLeadingStaticCard:q};e.exports=a}),null);
__d("AdsInstagramAccountBusinessBatchLoadErrorDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.setMultipleErrors(b.errors)}};e.exports=a}),null);
__d("AdsInstagramAccountBusinessBatchLoadedDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.setMultipleValueOrError(b.specs)}};e.exports=a}),null);
__d("AdsBusinessInstagramAccountDataManager",["fbt","AdsBaseDataManager","AdsGraphAPI","AdsInstagramAccountBusinessBatchLoadedDataAction","AdsInstagramAccountBusinessBatchLoadErrorDataAction","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=200;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.loadAll=function(a){var b=this;a.forEach(function(a){return b.load(a)})};d.load=function(a){b("promiseDone")(b("AdsGraphAPI").get(e.id).adaccount(a).edge("instagram_accounts").batched().get({fields:["has_profile_picture","id","id_v2","is_authorized_for_political_ads","is_business","is_private","is_published","profile_pic","username"],limit:h}),this.__handleSuccess.bind(this,["load"],a,null),this.__handleError.bind(this,["load"],a,null))};d.__onBatchLoaded=function(a){b("AdsInstagramAccountBusinessBatchLoadedDataAction").dispatch({specs:a},{line:"55",module:"AdsBusinessInstagramAccountDataManager.js"})};d.__onBatchLoadError=function(a){b("AdsInstagramAccountBusinessBatchLoadErrorDataAction").dispatch({errors:a},{line:"61",module:"AdsBusinessInstagramAccountDataManager.js"})};d.__getObjectTypeLabel=function(){return g._("Instagram Account")};return c}(b("AdsBaseDataManager"));e.exports=new a()}),null);
__d("AdsBusinessInstagramAccountProviderPlugin",["AdsBusinessInstagramAccountDataManager","LoadObjectMap"],(function(a,b,c,d,e,f){"use strict";a={initialState:function(a){return b("LoadObjectMap").create(function(c){a(function(a){return a.setLoading(c)}),b("AdsBusinessInstagramAccountDataManager").loadAll(Array.from(c))})}};e.exports=a}),null);
__d("AdsCPBUtils",["AdsAPICampaignPaths","AdsAPIObjectives","AdsAPITargetFields","AdsPlacementAPISpecReaderUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAPISpecReaderUtils").isOnlyActivePublisherPlatform;function h(a,c){return a!==b("AdsAPIObjectives").VIDEO_VIEWS&&g((a={},a[b("AdsAPITargetFields").PUBLISHER_PLATFORMS]=c,a),"audience_network")}a={isCPBCampaign:function(a,c){c=a.objective;a=a.getIn(b("AdsAPICampaignPaths").TARGETING.PUBLISHER_PLATFORMS,b("immutable").List()).toJS();return h(c,a)},someAreCPBCampaigns:function(a){return a.some(function(a){var b=a.objective;if(!a.spec)return!1;a=a.spec.publisher_platforms;return a&&h(b,a)})}};e.exports=a}),null);
__d("AdsFeedApplicabilityUtils",["AdsPlacementAPISpecReaderUtils","adsPlacementAPISpecReaderIsActiveFacebookPosition","adsPlacementAPISpecReaderIsActivePublisherPlatform"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAPISpecReaderUtils").convertCampaignToPlacementSpec,h=b("AdsPlacementAPISpecReaderUtils").isOnlyActiveFacebookInstreamVideosPlacement;function a(a){return b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(g(a),"facebook")}function c(a){return b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(a,"facebook")}function d(a){return b("adsPlacementAPISpecReaderIsActiveFacebookPosition")(a,"instream_video")}function f(a){return h(a)}e.exports={hasFacebookPlacement:a,placementSpecHasFacebookPlacement:c,placementSpecHasFacebookInstreamVideoPlacement:d,placementSpecHasFacebookInstreamVideosPlacementOnly:f}}),null);
__d("AdsInstagramIdentityUtils",["AdsLoadStateUtils_LEGACY"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){__p&&__p();var d=a;if(!d)return!0;if(!d.is_published){if(c)return!0;if(b.length===0)return!0}return b.some(function(a){return a.id===d.id})}function c(a,c,d){if(!b("AdsLoadStateUtils_LEGACY").isLoaded(c))return null;var e=c.page_backed_instagram_accounts;c=c.instagram_accounts;if((!a||d)&&c&&c.data&&c.data.length>0)return c.data[0];return e&&e.data&&e.data.length>0?e.data[0]:null}function d(a,c){if(!b("AdsLoadStateUtils_LEGACY").isLoaded(c))return!1;c=c.instagram_accounts;c=(c==null?void 0:(c=c.data)==null?void 0:c.length)||0;return!a&&c>0}e.exports={getEligibleInstagramAccount:c,isSelectedInstagramAccountAvailable:a,hasPublishedPageConnectedInstagramAccounts:d}}),null);
__d("AdsPageInstagramAccountDataManager",["fbt","AdsBaseDataManager","AdsGraphAPI","AdsInstagramAccountPageBatchLoadedDataAction","AdsInstagramAccountPageBatchLoadErrorDataAction","AdsInstagramAccountPageCreatePageBackedErrorDataAction","AdsInstagramAccountPageCreatePageBackedSuccessDataAction","AdsInstagramAccountPageHandleLinkAccountErrorDataAction","AdsInstagramAccountPageHandleLinkAccountResponseDataAction","AdsInstagramAccountPageHandleUnlinkAccountErrorDataAction","AdsInstagramAccountPageHandleUnlinkAccountResponseDataAction","AsyncRequest","XPageLinkInstagramAccountController","XPageUnlinkInstagramAccountController","promiseDone","sprintf"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=["has_profile_picture","id","id_v2","is_authorized_for_political_ads","is_business","is_private","is_published","profile_pic","username"].join(),i=["id","profile_picture_url","username"].join();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.loadAll=function(a){var b=this;a.forEach(function(a){return b.load(a)})};d.load=function(a){var c=this;b("promiseDone")(b("AdsGraphAPI").get(e.id).objectByName("page",a).batched().get({fields:[b("sprintf")("%s.limit(1).fields(%s)","instagram_accounts",h),b("sprintf")("%s.limit(1).fields(%s)","page_backed_instagram_accounts",h),b("sprintf")("instagram_business_account.fields(%s)",i)]}),function(b){return c.__handleSuccess(["load"],a,null,b)},function(b){return c.__handleError(["load"],a,null,b)})};d.createAndUsePageBackedAccount=function(a,c,d,f,g,h){b("promiseDone")(b("AdsGraphAPI").get(e.id).objectByName("page",d).edge("page_backed_instagram_accounts").batched().post({access_token:f}),function(e){b("AdsInstagramAccountPageCreatePageBackedSuccessDataAction").dispatch({hostID:h,source:g,data:{campaignID:a,adgroupIDs:c,pageID:d,instagramAccountID:e.id}},{line:"102",module:"AdsPageInstagramAccountDataManager.js"})},function(a){b("AdsInstagramAccountPageCreatePageBackedErrorDataAction").dispatch({data:{pageID:d}},{line:"114",module:"AdsPageInstagramAccountDataManager.js"})})};d.linkInstagramAccount=function(a,c,d){var e=b("XPageLinkInstagramAccountController").getURIBuilder().getURI();new(b("AsyncRequest"))().setAllowCrossOrigin(!0).setURI(e).setData({page_id:a,password:d,username:c}).setHandler(function(c){b("AdsInstagramAccountPageHandleLinkAccountResponseDataAction").dispatch({data:{pageID:a,instagramAccountID:c.payload.instagram_account_id,errorMessages:c.payload.error_messages,errorCode:c.payload.error_code}},{line:"136",module:"AdsPageInstagramAccountDataManager.js"})}).setErrorHandler(function(c){b("AdsInstagramAccountPageHandleLinkAccountErrorDataAction").dispatch({data:{pageID:a}},{line:"146",module:"AdsPageInstagramAccountDataManager.js"})}).send()};d.unlinkInstagramAccount=function(a,c){var d=b("XPageUnlinkInstagramAccountController").getURIBuilder().getURI();new(b("AsyncRequest"))().setAllowCrossOrigin(!0).setURI(d).setData({page_id:a,instagram_account_id:c}).setHandler(function(c){b("AdsInstagramAccountPageHandleUnlinkAccountResponseDataAction").dispatch({data:{pageID:a,error:c.payload.error,success:c.payload.success}},{line:"163",module:"AdsPageInstagramAccountDataManager.js"})}).setErrorHandler(function(c){b("AdsInstagramAccountPageHandleUnlinkAccountErrorDataAction").dispatch({data:{pageID:a}},{line:"172",module:"AdsPageInstagramAccountDataManager.js"})}).send()};d.__onBatchLoaded=function(a){b("AdsInstagramAccountPageBatchLoadedDataAction").dispatch({specs:a},{line:"182",module:"AdsPageInstagramAccountDataManager.js"})};d.__onBatchLoadError=function(a){b("AdsInstagramAccountPageBatchLoadErrorDataAction").dispatch({errors:a},{line:"188",module:"AdsPageInstagramAccountDataManager.js"})};d.__getObjectTypeLabel=function(){return g._("Page Instagram Accounts")};return c}(b("AdsBaseDataManager"));e.exports=new a()}),null);
__d("AdsPageInstagramAccountStore",["AdsBaseDataStore","AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux","AdsInstagramAccountPageBatchLoadedDataActionFlux","AdsInstagramAccountPageBatchLoadErrorDataActionFlux","AdsInstagramAccountPageClearAccountsDataActionFlux","AdsInstagramAccountPageCreateAndUsePageBackedDataActionFlux","AdsInstagramAccountPageCreatePageBackedErrorDataActionFlux","AdsInstagramAccountPageCreatePageBackedSuccessDataActionFlux","AdsInstagramAccountPageHandleLinkAccountErrorDataActionFlux","AdsInstagramAccountPageHandleLinkAccountResponseDataActionFlux","AdsInstagramAccountPageHandleUnlinkAccountErrorDataActionFlux","AdsInstagramAccountPageHandleUnlinkAccountResponseDataActionFlux","AdsInstagramAccountPageLinkAccountDataActionFlux","AdsInstagramAccountPageUnlinkAccountDataActionFlux","AdsLoadState_LEGACY","AdsPageInstagramAccountDataManager","InstagramAuthenticationErrorMessages"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$AdsPageInstagramAccountStore1={};b.$AdsPageInstagramAccountStore2={};b.$AdsPageInstagramAccountStore3={};return b}var d=c.prototype;d.getDataManager=function(){return b("AdsPageInstagramAccountDataManager")};d.__getActionTypes=function(){return[b("AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux").actionType,b("AdsInstagramAccountPageBatchLoadErrorDataActionFlux").actionType,b("AdsInstagramAccountPageBatchLoadedDataActionFlux").actionType,b("AdsInstagramAccountPageClearAccountsDataActionFlux").actionType,b("AdsInstagramAccountPageCreateAndUsePageBackedDataActionFlux").actionType,b("AdsInstagramAccountPageCreatePageBackedErrorDataActionFlux").actionType,b("AdsInstagramAccountPageCreatePageBackedSuccessDataActionFlux").actionType,b("AdsInstagramAccountPageHandleLinkAccountErrorDataActionFlux").actionType,b("AdsInstagramAccountPageHandleLinkAccountResponseDataActionFlux").actionType,b("AdsInstagramAccountPageHandleUnlinkAccountErrorDataActionFlux").actionType,b("AdsInstagramAccountPageHandleUnlinkAccountResponseDataActionFlux").actionType,b("AdsInstagramAccountPageLinkAccountDataActionFlux").actionType,b("AdsInstagramAccountPageUnlinkAccountDataActionFlux").actionType]};d.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.type){case b("AdsInstagramAccountPageBatchLoadedDataActionFlux").actionType:this.__handleData(a.specs,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsInstagramAccountPageBatchLoadErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsInstagramAccountPageClearAccountsDataActionFlux").actionType:this.__invalidate(a.data.pageID);break;case b("AdsInstagramAccountPageCreateAndUsePageBackedDataActionFlux").actionType:if(this.$AdsPageInstagramAccountStore1[a.data.pageID]===b("AdsLoadState_LEGACY").LOADING)return;this.$AdsPageInstagramAccountStore1[a.data.pageID]=b("AdsLoadState_LEGACY").LOADING;this.__emitChange();b("AdsPageInstagramAccountDataManager").createAndUsePageBackedAccount(a.data.campaignID,a.data.adgroupIDs,a.data.pageID,a.data.accessToken,a.source,a.hostID);break;case b("AdsInstagramAccountPageCreatePageBackedErrorDataActionFlux").actionType:this.$AdsPageInstagramAccountStore4(a.data.pageID);break;case b("AdsInstagramAccountPageCreatePageBackedSuccessDataActionFlux").actionType:this.$AdsPageInstagramAccountStore5(a.data);break;case b("AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux").actionType:this.__invalidateAllErrors()&&this.__emitChange();break;case b("AdsInstagramAccountPageLinkAccountDataActionFlux").actionType:this.$AdsPageInstagramAccountStore6(a.data.pageID,a.data.username,a.data.password);break;case b("AdsInstagramAccountPageUnlinkAccountDataActionFlux").actionType:this.$AdsPageInstagramAccountStore7(a.data.pageID,a.data.instagramAccountID);break;case b("AdsInstagramAccountPageHandleLinkAccountErrorDataActionFlux").actionType:case b("AdsInstagramAccountPageHandleUnlinkAccountErrorDataActionFlux").actionType:this.$AdsPageInstagramAccountStore8(a.data.pageID);break;case b("AdsInstagramAccountPageHandleLinkAccountResponseDataActionFlux").actionType:this.$AdsPageInstagramAccountStore9(a.data.pageID,a.data.instagramAccountID,a.data.errorMessages,a.data.errorCode);break;case b("AdsInstagramAccountPageHandleUnlinkAccountResponseDataActionFlux").actionType:this.$AdsPageInstagramAccountStore10(a.data.pageID,a.data.error,a.data.success);break}};d.getPageBackedAccountCreateState=function(a){return this.$AdsPageInstagramAccountStore1[a]?this.$AdsPageInstagramAccountStore1[a]:b("AdsLoadState_LEGACY").LOADED};d.getPageLinkOrUnlinkAccountErrors=function(a){return this.$AdsPageInstagramAccountStore2[a]?this.$AdsPageInstagramAccountStore2[a]:[]};d.getPageLinkOrUnlinkState=function(a){return this.$AdsPageInstagramAccountStore3[a]?this.$AdsPageInstagramAccountStore3[a]:b("AdsLoadState_LEGACY").LOADED};d.$AdsPageInstagramAccountStore5=function(a){a.instagramAccountIDCallback&&a.instagramAccountIDCallback(a.instagramAccountID),this.$AdsPageInstagramAccountStore1[a.pageID]=b("AdsLoadState_LEGACY").LOADED,this.__invalidate(a.pageID)};d.$AdsPageInstagramAccountStore4=function(a){this.$AdsPageInstagramAccountStore1[a]=b("AdsLoadState_LEGACY").ERROR,this.__emitChange()};d.$AdsPageInstagramAccountStore6=function(a,c,d){this.$AdsPageInstagramAccountStore2[a]=[],this.$AdsPageInstagramAccountStore3[a]=b("AdsLoadState_LEGACY").LOADING,b("AdsPageInstagramAccountDataManager").linkInstagramAccount(a,c,d),this.__emitChange()};d.$AdsPageInstagramAccountStore7=function(a,c){this.$AdsPageInstagramAccountStore2[a]=[],this.$AdsPageInstagramAccountStore3[a]=b("AdsLoadState_LEGACY").LOADING,b("AdsPageInstagramAccountDataManager").unlinkInstagramAccount(a,c),this.__emitChange()};d.$AdsPageInstagramAccountStore9=function(a,c,d,e){__p&&__p();this.$AdsPageInstagramAccountStore3[a]=b("AdsLoadState_LEGACY").LOADED;if(!c){c=d||[];e&&c.push(b("InstagramAuthenticationErrorMessages").getMessage(e));c.length===0&&c.push(b("InstagramAuthenticationErrorMessages").getMessage());this.$AdsPageInstagramAccountStore2[a]=c;this.__emitChange();return}this.__invalidate(a);this.__emitChange()};d.$AdsPageInstagramAccountStore10=function(a,c,d){this.$AdsPageInstagramAccountStore3[a]=b("AdsLoadState_LEGACY").LOADED;if(c||!d){this.$AdsPageInstagramAccountStore2[a]=[b("InstagramAuthenticationErrorMessages").getMessage(c)];this.__emitChange();return}this.__invalidate(a);this.__emitChange()};d.$AdsPageInstagramAccountStore8=function(a){this.$AdsPageInstagramAccountStore3[a]=b("AdsLoadState_LEGACY").LOADED;var c=b("InstagramAuthenticationErrorMessages").getMessage();this.$AdsPageInstagramAccountStore2[a]=[c];this.__emitChange()};return c}(b("AdsBaseDataStore"));e.exports=new a()}),null);
__d("AdsUEditorCampaignInstagramSelectors",["AdsAccountStore","AdsAPIAccountPaths","AdsAPIObjectives","adsUEditorAccountSelector","isFalsey","AdsBusinessInstagramAccountProvider","AdsCPBUtils","AdsFeedApplicabilityUtils","AdsInstagramApplicabilityUtils","AdsInstagramAvailability","AdsInstagramIdentityUtils","AdsLoadState_LEGACY","AdsLoadStateUtils_LEGACY","AdsPageInstagramAccountStore","AdsPlacementsInstagramFeedPositionPlugin","AdsUEditorAdgroupBulkSelectors","AdsUEditorCampaignSelectors","AdsUniformValue","adsCreateSelector","adsCreateStoreSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("AdsBusinessInstagramAccountProvider").toFluxStore();a=b("AdsUEditorCampaignSelectors").eligibilityInformation;c=b("AdsUEditorCampaignSelectors").eligibilityInformationArray;var i={loadState:b("AdsLoadState_LEGACY").LOADED,data:[]};d=b("adsCreateStoreSelector")([b("AdsAccountStore"),h],function(){var a=b("AdsAccountStore").getSelectedAccount().getValue(),c=a==null?void 0:a.business;return!c?i:b("AdsLoadStateUtils_LEGACY").fromLoadObjectTreatEmptyAsLoading(h.getState().get(b("getByPath")(a,b("AdsAPIAccountPaths").ACCOUNT_ID)))},{name:e.id+".businessInstagramAccounts"});f=b("adsCreateStoreSelector")(function(a){return[].concat(b("adsUEditorAccountSelector").getStores(a),b("AdsUEditorAdgroupBulkSelectors").pageID.getStores(a),[b("AdsPageInstagramAccountStore")])},function(a){__p&&__p();var c=b("AdsUEditorAdgroupBulkSelectors").pageID(a);if(!(c instanceof b("AdsUniformValue")))return null;c=c.getValue();if(b("isFalsey")(c))return null;c=b("AdsPageInstagramAccountStore").get(c);if(!b("AdsLoadStateUtils_LEGACY").isLoaded(c))return null;a=b("adsUEditorAccountSelector")(a);a=b("AdsInstagramIdentityUtils").getEligibleInstagramAccount(!!a.business,c);return a&&a.id?a.id:null},{name:e.id+".eligibleInstagramAccountID"});var j=(g=b("adsCreateSelector"))([c],function(a){return a.some(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramPlacement(a)})},{name:e.id}),k=g([c],function(a){return a.every(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramPlacement(a)})},{name:e.id}),l=g([c],function(a){return a.some(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramPlacementOnly(a)})},{name:e.id}),m=g([c],function(a){return a.every(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramPlacementOnly(a)})},{name:e.id}),n=g([c],function(a){return a.some(function(a){a=a.spec;return b("AdsFeedApplicabilityUtils").placementSpecHasFacebookPlacement(a)})},{name:e.id});a=g([b("AdsAccountStore").getSelectedAccount,b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),a],function(a,c,d){__p&&__p();var e=c.some(function(a){var c=a.campaign;a=a.campaignGroup;var d=a.objective;return b("AdsCPBUtils").isCPBCampaign(a,c)&&(d===b("AdsAPIObjectives").LINK_CLICKS||d===b("AdsAPIObjectives").CONVERSIONS)});d=d&&b("AdsPlacementsInstagramFeedPositionPlugin").getIneligibilityReason(d);c=c.every(function(c){c=c.campaignGroup;c=c.objective;return b("AdsInstagramAvailability").supportsObjective(c,(c=a.getValue())==null?void 0:c.capabilities)});return c&&!e&&!d},{name:e.id});var o=g([c],function(a){return a.every(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramIGTVPlacementOnly(a)})},{name:e.id}),p=g([c],function(a){return a.every(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramStoryPlacementOnly(a)})},{name:e.id}),q=g([c],function(a){return a.every(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramStreamPlacementOnly(a)})},{name:e.id}),r=g([c],function(a){return a.some(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasIGTVPlacement(a)})},{name:e.id}),s=g([c],function(a){return a.some(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramIGTVPlacementOnly(a)})},{name:e.id}),t=g([c],function(a){return a.some(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasStoryPlacement(a)})},{name:e.id}),u=g([c],function(a){return a.some(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramStoryPlacementOnly(a)})},{name:e.id});c=g([c],function(a){return a.some(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasStreamPlacement(a)})},{name:e.id});g=g([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a){return a.every(function(a){a=a.adgroup;return b("AdsInstagramApplicabilityUtils").hasInstagramActor(a)})},{name:e.id});e.exports={allHaveInstagramActor:g,allHaveInstagramPlacement:k,allHaveInstagramPlacementOnly:m,allHaveInstagramIGTVPlacementOnly:o,allHaveInstagramStoryPlacementOnly:p,allHaveInstagramStreamPlacementOnly:q,businessInstagramAccounts:d,eligibleInstagramAccountID:f,isInstagramEligibile:a,someHaveInstagramPlacement:j,someHaveInstagramPlacementOnly:l,someHaveInstagramIGTVPlacement:r,someHaveInstagramIGTVPlacementOnly:s,someHaveInstagramStoryPlacement:t,someHaveInstagramStoryPlacementOnly:u,someHaveInstagramStreamPlacement:c,someHaveFacebookPlacement:n}}),null);
__d("adsPageIDSelector",["AdsAdgroupEditorStore","AdsPageUtils","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("AdsAdgroupEditorStore")],function(a){a=a.adgroup;return b("AdsPageUtils").getPageID(a)||b("AdsAdgroupEditorStore").getCachedPageID(a.id)},{name:e.id+".adsPageIDSelector"});e.exports=a}),null);
__d("AdsDynamicAdsUtils",["invariant","AdsBulkValueUtils","AdsCallToActionTypesCond","AdsDynamicAdsFormatUtils","AdsDynamicTargetingCategories","AdsPromotedObjectTypes","CatalogVertical","DynamicAdsProductSalesChannel","DynamicCategorizationCriteria","adsAccountGK","enumUtils","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("enumUtils").enumValueToKey,i={areAllDynamicAds:function(a,c){__p&&__p();if(a===null)return b("AdsBulkValueUtils").getUniformValueOrDefault(c)===b("AdsPromotedObjectTypes").PRODUCT_SET;if(c===null){!a&&g(0,5391);return a.getValues().every(function(a){return!!a})}var d=!1;c&&a&&(d=c.getValues().every(function(c,d){d=a?a.getValueForIndex(d):null;return c===b("AdsPromotedObjectTypes").PRODUCT_SET||d}));return d},getIncompleteCategoryAssets:function(a){return a.filter(function(a){return a.name==null||a.name===""||a.destination_uri==null||a.destination_uri===""})},getCategoryAssetsToRender:function(a,b,c,d,e){b=b.map(function(a,b){return{asset:a,index:b}});c&&(b=b.filter(function(b){return!a.get(b.index).name||!a.get(b.index).destination_uri}));d!==""&&(b=b.filter(function(b){return a.get(b.index).criteria_value.toUpperCase().indexOf(d.toUpperCase())>-1}));return i.getSortedCategoryAssetsToRender(b,e)},getSortedCategoryAssetsToRender:function(a,b){__p&&__p();switch(b){case"sort_by_title_alphabet":return a.sort(function(a,b){a=a.asset;b=b.asset;return a.criteria_value<b.criteria_value?-1:1});case"sort_by_title_reverse_alphabet":return a.sort(function(a,b){a=a.asset;b=b.asset;return b.criteria_value<a.criteria_value?-1:1});case"sort_by_product_count_ascend":return a.sort(function(a,b){a=a.asset;b=b.asset;return a.num_items-b.num_items});case"sort_by_product_count_descend":return a.sort(function(a,b){a=a.asset;b=b.asset;return b.num_items-a.num_items})}return a},getUpdatedAssetsForPOST:function(a,b){return b.map(function(b){return{categorization_criteria:a,criteria_value:b.criteria_value,image_url:b.image_url,name:b.name,destination_uri:b.destination_uri,description:b.description}}).toArray()},isDogCheckFailed:function(a,b){if(a.isDone()&&a.hasValue()){a=a.getValueEnforcing();return!!a.get(b)&&a.get(b).result==="failed"}return!0},getCriteriaWrapper:function(a){return a.entrySeq().toArray().map(function(a){var b=a[0];a=a[1];var c=0,d=0;a.isDone()&&a.hasValue()&&(c=a.getValueEnforcing().size,d=c-i.getIncompleteCategoryAssets(a.getValueEnforcing()).size);return{criteria:b,totalCount:c,completeCount:d}})},getDefaultCategorizationCriteria:function(a){var b={criteria:"brand",completeCount:0,totalCount:0},c=4;return a.reduce(function(a,b){if(b.completeCount>=c||a.completeCount>=c)return b.completeCount>a.completeCount?b:a;return b.totalCount>=c?b.totalCount>a.totalCount?b:a:a},b).criteria},hasCategorizationCriteriaInAdgroup:function(a){return!!((a=a.creative)==null?void 0:a.categorization_criteria)},adgroupSupportsOverlays:function(a){a=b("AdsDynamicAdsFormatUtils").getAdgroupFormatOption(a);return i.formatOptionSupportsOverlays(a)},formatOptionSupportsOverlays:function(a){return a==="carousel_images_multi_items"||a==="single_image"},isDynamicAdForRetail:function(a){a=a==null?void 0:(a=a.creative)==null?void 0:(a=a.recommender_settings)==null?void 0:a.product_sales_channel;return a==="omni"||a===h("omni",b("DynamicAdsProductSalesChannel"))||a==="in_store"||a===h("in_store",b("DynamicAdsProductSalesChannel"))},allowStaticFallback:function(a,c,d){if(d==null)return!1;return d===b("CatalogVertical").FLIGHTS||b("adsAccountGK")._(a,"3nxv84yE4")&&d===b("CatalogVertical").HOTELS?c===b("AdsDynamicTargetingCategories").PROSPECTING:!1},isMessengerDynamicAds:function(a){var c;c=a==null?void 0:(c=a.creative)==null?void 0:(c=c.object_story_spec)==null?void 0:(c=c.template_data)==null?void 0:(c=c.call_to_action)==null?void 0:c.type;a=(a=a.creative)==null?void 0:a.product_set_id;return a!=null&&c===b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name}};e.exports=i}),null);
__d("AdsProductSetAssetEligibilityDataManager",["AdsGraphAPI","AdsProductSetAssetEligibilityLoadedAction","AdsProductSetAssetEligibilityLoadErrorAction","promiseDone"],(function(a,b,c,d,e,f){"use strict";a={loadProductSetAssetEligibilityData:function(a){b("promiseDone")(b("AdsGraphAPI").get(e.id).object("product_set",a).edge("da_checks").batched().get(),function(c){return b("AdsProductSetAssetEligibilityLoadedAction").dispatch({productSetID:a,data:c.data},{line:"27",module:"AdsProductSetAssetEligibilityDataManager.js"})},function(c){return b("AdsProductSetAssetEligibilityLoadErrorAction").dispatch({productSetID:a,error:c},{line:"32",module:"AdsProductSetAssetEligibilityDataManager.js"})})}};e.exports=a}),null);
__d("AdsProductSetAssetEligibilityStore",["AdsDataAtom","AdsProductSetAssetEligibilityDataManager","AdsProductSetAssetEligibilityLoadedActionFlux","AdsProductSetAssetEligibilityLoadErrorActionFlux","FluxLoadObjectStore","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return[this.getActionTypeStartLoad(),b("AdsProductSetAssetEligibilityLoadErrorActionFlux").actionType,b("AdsProductSetAssetEligibilityLoadedActionFlux").actionType]};d.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsProductSetAssetEligibilityLoadedActionFlux").actionType:var d=this.$AdsProductSetAssetEligibilityStore1(c.data);return this.__handleOne(a,c.productSetID,d);case b("AdsProductSetAssetEligibilityLoadErrorActionFlux").actionType:return this.__handleOne(a,c.productSetID,c.error);default:return a}};d.$AdsProductSetAssetEligibilityStore1=function(a){return b("immutable").Map(a.map(function(a){return[a.key,a]}))};d.__load=function(a){b("AdsProductSetAssetEligibilityDataManager").loadProductSetAssetEligibilityData(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("adsShouldDefaultToSingleVideoSelector",["AdsAccountStore","AdsDynamicAdsUtils","AdsProductSetAssetEligibilityStore","adsAccountGK","adsCreateSelector","adsCreateStoreSelector","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("AdsProductSetAssetEligibilityStore")],function(a){return b("AdsProductSetAssetEligibilityStore").get(a||"")},{name:e.id+".productSetAssetEligibilityCheckResultStoreSelector"});c=b("adsCreateSelector")([b("AdsAccountStore").getSelectedAccount,a],function(a,c){return b("adsAccountGK")._(a.getValue(),"98SOztlN1")&&!b("AdsDynamicAdsUtils").isDogCheckFailed(c,"product_set_has_low_quality_with_video")},{name:e.id+".adsShouldDefaultToSingleVideoSelector"});e.exports=c}),null);
__d("AdsAdgroupLinkPostFormatMutators",["AdsAccountStore","AdsAccountUtils","AdsAdgroupCallToActionMutatorsAdapter","AdsAdgroupCreativePluginResolver","AdsAdgroupEditorStore","AdsAdgroupPostTypeMutators","AdsAdgroupSetLinkPostFormatDataActionFlux","AdsAdgroupSpecPathPluginResolver","AdsAdgroupSpecUtils","AdsAdgroupWebsiteMutatorsAdapter","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAPIAdgroupTemplateDataRecord","AdsAPIChildAttachmentPaths","AdsAPIObjectives","AdsArLinkUtils","AdsAssetFeedUtils","AdsAudienceDirectConfig","AdsBulkValueUtils","AdsCachedLoadState_LEGACY","AdsCallToActionTypesCond","AdsCampaignCombinedStore","AdsCampaignGroupPromotedPageIDSelector","AdsCampaignRecordAccessors","AdsCanvasCollectionsConstants","AdsCanvasCollectionsUtils","AdsCanvasConstants","AdsChildAttachmentsUtils","AdsCollectionsAdUtils","AdsCollectionsConstants","AdsDataAtom","AdsDCODegreesOfFreedomUtils","AdsEditingAdgroupEditorContext","AdsLinkPostFormat","AdsLocalAwarenessUtils","AdsLocalUtils","AdsMessengerConstants","AdsMobileAppObjectivesUtils","AdsMutators","AdsOfferState","AdsPageStore","AdsPortraitCustomizationsUtils","AdsPromotedObjectTypes","AdsSelectorUtils","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupChildAttachmentsMutators","AdsUEditorAdgroupCreativeFormat","AdsUEditorAdgroupDynamicMutators","AdsUEditorAdgroupMultiProductMutators","AdsUEditorCallToActionMutators","AdsUEditorCampaignInstagramSelectors","AdsUEditorSelectors","AdsUnifiedCreativeAPIFieldMappings","AdsUnifiedCreativeAPIFields","AdsWebsiteAdUtils","ApiAdObjectTypes","CatalogVertical","FBLogger","adsCallToActionGetDefaultCallToActionType","adsObjectiveSelector","adsPageIDSelector","adsPromotedObjectTypeSelector_LEGACY","adsShouldDefaultToSingleVideoSelector","adsUEditorAccountSelector","immutable","isAdsCanvasLink","isTruthy","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAdgroupCallToActionMutatorsAdapter").setCallToActionLink,h=(c=b("AdsAdgroupPostTypeMutators")).convertLinkOrTemplatePostToVideoPost,i=c.convertLinkPostToTemplatePost,j=c.convertPhotoPostToLinkPost,k=c.convertTemplatePostToLinkPost,l=c.convertVideoPostToLinkOrTemplatePost,m=b("AdsAdgroupWebsiteMutatorsAdapter").setWebsiteURL,n=b("AdsMutators").deleteIn,o=b("AdsMutators").mutateEach,p=b("AdsMutators").setIn,q=b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec;function a(a,c){var d=c.action;switch(d.type){case b("AdsAdgroupSetLinkPostFormatDataActionFlux").actionType:return o(a,d.ids,function(a){return s(d.linkPostFormat,a,d.vertical)});default:return a}}function r(a,c,d,e){__p&&__p();var f=e.objective;e=e.campaignGroupPromotedPageID;var g=b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(c);if(g){g=b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(c);g||(c=q(b("AdsAPIAdgroupRecordUtils").getObjectType(c),c,f));a===b("AdsLinkPostFormat").MULTIPLE&&(c=c.setIn(b("AdsAPIAdgroupPaths").CREATIVE.DEGREES_OF_FREEDOM_SPEC.DEGREES_OF_FREEDOM_TYPE,"DISABLED"))}g=a===b("AdsLinkPostFormat").MULTIPLE||a===b("AdsLinkPostFormat").SINGLE;g||(c=c.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CUSTOM_OVERLAY_SPEC.path));g=b("AdsPortraitCustomizationsUtils").hasPortraitCustomizationsSpec(c)&&a!==b("AdsLinkPostFormat").SINGLE;g&&(c=c.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PORTRAIT_CUSTOMIZATIONS.path));g=((g=c.creative)==null?void 0:(g=g.interactive_components_spec)==null?void 0:g.components)!=null&&a!==b("AdsLinkPostFormat").SINGLE;g&&(c=c.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.INTERACTIVE_COMPONENTS_SPEC.path));switch(a){case b("AdsLinkPostFormat").MULTIPLE:return t(f,c,!0,e);case b("AdsLinkPostFormat").SINGLE:return v(f,c);case b("AdsLinkPostFormat").COLLECTIONS:return w(f,c,d);default:b("FBLogger")("ads").mustfix("Invalid link post fromat: %s",a);return c}}function s(a,c,d){b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAccountStore").getDispatchToken(),b("AdsAdgroupEditorStore").getDispatchToken()].concat(b("AdsSelectorUtils").getStoreDispatchTokens([b("adsShouldDefaultToSingleVideoSelector")]),b("AdsSelectorUtils").getStoreDispatchTokens([b("adsUEditorAccountSelector")],b("AdsEditingAdgroupEditorContext")),[b("AdsCampaignCombinedStore").getDispatchToken()]));var e=b("adsObjectiveSelector")({adgroup:c}),f=c.campaign_id;f=b("AdsCampaignGroupPromotedPageIDSelector")(f);return r(a,c,d,{objective:e,campaignGroupPromotedPageID:f})}function t(a,c,d,e){__p&&__p();var f,h;if(b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(c)){c=c.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("immutable").List.of("CAROUSEL_IMAGE")).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS);return c}f=(f=c.creative)==null?void 0:f.object_type;switch(f){case b("ApiAdObjectTypes").PHOTO:c=j(a,c);break;case b("ApiAdObjectTypes").VIDEO:c=l(a,c);break}f=(f=c.creative)==null?void 0:(f=f.object_story_spec)==null?void 0:(f=f.video_data)==null?void 0:f.offer_id;f&&(c=l(a,c));var k=b("AdsAdgroupSpecUtils").getCallToActionType(c);f=c.adset_id;f=b("adsPromotedObjectTypeSelector_LEGACY")(f);f=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:b("AdsAudienceDirectConfig").accountType,objective:a,promotedObjectType:f});var m=f.getUnifiedCreativeAPIFieldMapping(c),o=c.getIn(b("nullthrows")(m.linkURL));m=b("AdsAdgroupSpecUtils").isTemplateDataEligible(a,e,c)?b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.LINK:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.LINK;(b("isAdsCanvasLink")(o)&&a!==b("AdsAPIObjectives").LEAD_GENERATION||b("AdsArLinkUtils").isArAdsLink(o))&&(c=c.setIn(m,D(c,a)));var q=b("AdsAdgroupSpecUtils").getEventID(c),r=b("AdsAdgroupSpecUtils").getAppDestination(c),s=b("AdsAdgroupSpecUtils").getWhatsAppNumber(c),t=b("AdsAdgroupSpecUtils").getHeadline(c),v=(h=c.creative)==null?void 0:(h=h.object_story_spec)==null?void 0:(h=h.link_data)==null?void 0:(h=h.call_to_action)==null?void 0:(h=h.value)==null?void 0:h.lead_gen_form_id;if(!v){v=(h=c.creative)==null?void 0:(h=h.object_story_spec)==null?void 0:(h=h.video_data)==null?void 0:(h=h.call_to_action)==null?void 0:(h=h.value)==null?void 0:h.lead_gen_form_id}v&&a===b("AdsAPIObjectives").LEAD_GENERATION&&(c=c.setIn(m,o));c=u(c,a);h=c.id;m=d?b("AdsAdgroupEditorStore").getCachedChildAttachments(h):null;d=b("AdsAdgroupEditorStore").getCachedCarouselStyle(h)||"static_carousel";var w=b("AdsAPIAdgroupPaths").METADATA.CAROUSEL_STYLE;c=c.setIn(w,d);w=b("immutable").fromJS(m);d=b("AdsChildAttachmentsUtils").isStaticAndDynamicCarouselChildAttachments(w==null?void 0:w.toJS());w&&w.size>0?m=w:m=b("AdsChildAttachmentsUtils").getDefaultChildAttachments();m=m.map(function(d){var e=d.getIn(b("AdsAPIChildAttachmentPaths").LINK)||o;(b("isAdsCanvasLink")(e)&&a!==b("AdsAPIObjectives").LEAD_GENERATION||b("AdsArLinkUtils").isArAdsLink(e))&&(e=D(c,a));e?d=d.setIn(b("AdsAPIChildAttachmentPaths").LINK,e):d=d.deleteIn(b("AdsAPIChildAttachmentPaths").LINK);e=d.getIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.APP_LINK);r==="MESSENGER"&&(d=d.setIn(b("AdsAPIChildAttachmentPaths").NAME,t||b("AdsMessengerConstants").DEFAULT_HEADLINE.toString()));!k?d=d.deleteIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.path):(d=p(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.TYPE,k,d),e&&(d=p(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.APP_LINK,e,d)),v&&(d=p(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.LEAD_GEN_FORM_ID,v,d),a===b("AdsAPIObjectives").LEAD_GENERATION&&(d=d.setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.LINK,o,d).setIn(b("AdsAPIChildAttachmentPaths").LINK,o))),q&&(d=p(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.EVENT_ID,q,d)),r?d=p(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.APP_DESTINATION,r,d):d=d.deleteIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.APP_DESTINATION),s?d=p(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.WHATSAPP_NUMBER,s,d):d=d.deleteIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.WHATSAPP_NUMBER));return d});((w=c.creative)==null?void 0:(w=w.object_story_spec)==null?void 0:w.template_data)&&(c=c.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.CAPTION,b("AdsAdgroupEditorStore").getCachedDisplayURL(c.id)));c=C(c);w=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA;if(b("AdsAdgroupSpecUtils").isTemplateDataEligible(a,e,c)&&!b("AdsLocalUtils").isLocalObjective(a))c=c.deleteIn(w.FORCE_SINGLE_LINK).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.FORMAT_OPTION,"carousel_images_multi_items");else{var x=b("AdsChildAttachmentsUtils").getChildAttachmentsPath(c);b("AdsAdgroupSpecUtils").isTemplateDataEligible(a,e,c)&&(c=c.deleteIn(w.FORCE_SINGLE_LINK));x&&(c=c.setIn(x,m))}w=b("AdsAdgroupSpecUtils").getCallToActionValue(c);w&&(c=g(w,c));if(d){x=b("AdsAdgroupEditorStore").getCachedProductSetID(h);c=i(c).setIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID,x)}c=z(c,a);c=B(c,f,a,e);c=A(c,f,a);c=n(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,c);return c}function u(a,c){__p&&__p();var d=a.creative&&b("AdsCollectionsAdUtils").isCollectionsAd(a.creative.toJS());if(!d)return a;d=a.adset_id;b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor(b("adsPromotedObjectTypeSelector_LEGACY").getStores().map(function(a){return a.getDispatchToken()}));d=b("adsPromotedObjectTypeSelector_LEGACY")(d);var e=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:b("AdsAudienceDirectConfig").accountType,objective:c,promotedObjectType:d}),f=e.getUnifiedCreativeAPIFieldMapping(a);a=a.deleteIn(b("nullthrows")(f.collectionThumbnails)).deleteIn(b("nullthrows")(f.retailerItemIDs)).deleteIn(b("nullthrows")(f.postClickItemDescription)).deleteIn(b("nullthrows")(f.postClickItemHeadline));var g=a.getIn(b("nullthrows")(f.linkURL));(b("isAdsCanvasLink")(g)||b("AdsArLinkUtils").isArAdsLink(g))&&(a=a.setIn(b("nullthrows")(f.linkURL),D(a,c)));if(d===b("AdsPromotedObjectTypes").PRODUCT_SET){g=b("AdsAPIAdgroupRecordUtils").getObjectType(a);g===b("ApiAdObjectTypes").VIDEO&&(a=e.convertVideoToImageSpec(a,new(b("AdsAPIAdgroupTemplateDataRecord"))()));a=i(a)}else a=a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID);return a}function v(a,c){__p&&__p();b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(c)&&(c=c.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("immutable").List.of("AUTOMATIC_FORMAT")));var d=b("AdsAPIAdgroupPaths").METADATA.CAROUSEL_STYLE;b("AdsChildAttachmentsUtils").isStaticAndDynamicCarouselAd(c)&&(c=b("AdsUEditorAdgroupChildAttachmentsMutators").removeAllStaticCards(c));c=u(c,a);c=C(c);a===b("AdsAPIObjectives").STORE_VISITS&&(c=c.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.RECOMMENDER_SETTINGS.PRODUCT_SALES_CHANNEL));if(b("AdsChildAttachmentsUtils").isCarouselAd(c)){c=p(d,"not_carousel",c);return x(a,c)}d=b("AdsDCODegreesOfFreedomUtils").isEligibleForDegreesOfFreedom(c);d&&(c=c.setIn(b("AdsAPIAdgroupPaths").CREATIVE.DEGREES_OF_FREEDOM_SPEC.DEGREES_OF_FREEDOM_TYPE,"USER_ENROLLED"));return c}function w(a,c,d){__p&&__p();var e,f=c.adset_id;b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor(b("adsPromotedObjectTypeSelector_LEGACY").getStores().map(function(a){return a.getDispatchToken()}));f=b("adsPromotedObjectTypeSelector_LEGACY")(f);var g=b("AdsCollectionsConstants").EMPTY_COLLECTIONS_RETAIL_ID,h=b("AdsCanvasConstants").EMPTY_CANVAS_LINK,i=b("AdsCanvasCollectionsConstants").EMPTY_COLLECTION_THUMBNAILS,l=b("AdsAPIAdgroupPaths").METADATA.CAROUSEL_STYLE,m=b("AdsAccountUtils").hasCapability(b("AdsAccountStore").getSelectedAccount().getValue(),"HAS_RETAIL_OR_COMMERCE_CATALOG");b("AdsChildAttachmentsUtils").isStaticAndDynamicCarouselAd(c)&&(c=b("AdsUEditorAdgroupChildAttachmentsMutators").removeAllStaticCards(c));var n=b("AdsAudienceDirectConfig").accountType,o=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:n,objective:a,promotedObjectType:f});e=(e=c.creative)==null?void 0:e.object_type;e===b("ApiAdObjectTypes").PHOTO&&(c=j(a,c));c=b("AdsUEditorCallToActionMutators").deleteCallToActionValueAppDestination(c,o);e=b("AdsUnifiedCreativeAPIFields").callToActionType.getValue(c,o);e!==b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name&&(c=b("AdsUEditorCallToActionMutators").setCallToActionType(c,b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name,o));b("AdsChildAttachmentsUtils").isCarouselAd(c)&&(c=p(l,"not_carousel",c),c=x(a,c));if(b("AdsAPIAdgroupRecordUtils").isTemplateCreative(c)&&a!==b("AdsAPIObjectives").STORE_VISITS){e=o.getUnifiedCreativeAPIFieldMapping(c);c=k(c.deleteIn(b("nullthrows")(e.headline)).deleteIn(b("nullthrows")(e.linkDescription)).deleteIn(b("nullthrows")(e.message)))}if(m&&!b("AdsCanvasCollectionsUtils").isCanvasCollectionOnlyObjective(a)){c=c.setIn(b("AdsUnifiedCreativeAPIFields").retailerItemIDs.getPathOrThrow(c,o),g).setIn(b("AdsUnifiedCreativeAPIFields").postClickItemDescription.getPathOrThrow(c,o),b("AdsCollectionsAdUtils").getPostClickItemDefaultDescriptionTemplate(d)).setIn(b("AdsUnifiedCreativeAPIFields").postClickItemHeadline.getPathOrThrow(c,o),b("AdsCollectionsAdUtils").getPostClickItemDefaultHeadlineTemplate(d));l=!!b("AdsAPIAdgroupRecordUtils").getOfferID(c,o);e=b("AdsAdgroupCreativePluginResolver").resolve({accountType:n,objective:a,promotedObjectType:f,offerStateType:l?b("AdsOfferState").HAS_OFFER:b("AdsOfferState").NO_OFFER,catalogVertical:b("CatalogVertical").NONE});m=c.adset_id;g=b("AdsCampaignCombinedStore").getRecord(m).getValueEnforcing();d=e.getSupportedCanvasCheckboxMediaFormats({adgroup:c,account:b("adsUEditorAccountSelector")(b("AdsEditingAdgroupEditorContext")),campaign:g},!1).has(b("AdsUEditorAdgroupCreativeFormat").COLLECTIONS);n=d?h:D(c,a);c=c.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(c,o),n)}else c=c.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(c,o),h).setIn(b("AdsUnifiedCreativeAPIFields").collectionThumbnails.getPathOrThrow(c,o),i);return c}function x(a,c){__p&&__p();var d=c.adset_id;b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor(b("adsPromotedObjectTypeSelector_LEGACY").getStores().map(function(a){return a.getDispatchToken()}));d=b("adsPromotedObjectTypeSelector_LEGACY")(d);if(d!==b("AdsPromotedObjectTypes").PRODUCT_SET&&b("AdsWebsiteAdUtils").isWebsiteObjective(a)&&b("AdsAPIAdgroupRecordUtils").isTemplateCreative(c)){d=b("AdsUnifiedCreativeAPIFieldMappings").LINK_MAPPING;var e=b("AdsUnifiedCreativeAPIFieldMappings").TEMPLATE_MAPPING;c=b("AdsUEditorAdgroupDynamicMutators").removeDynamicAdSpecificCreativeFields(c);return c.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.path).setIn(d.linkURL,c.getIn(e.linkURL)).setIn(d.callToActionType,a?b("adsCallToActionGetDefaultCallToActionType")(a):null).setIn(d.callToActionValue.concat("link"),(e=c.creative)==null?void 0:e.link_url)}c=E([b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MULTI_SHARE_OPTIMIZED,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.MULTI_SHARE_OPTIMIZED],c);c=c.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.CAPTION);d=b("AdsAdgroupEditorStore").getCachedPlatformCustomizations(c.id);d&&d.toSeq().forEach(function(a,d){a.toSeq().forEach(function(a,e){c=p([].concat(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,d,e),a,c)})});c=E([b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.CHILD_ATTACHMENTS],c);if((e=c.creative)==null?void 0:(d=e.object_story_spec)==null?void 0:d.template_data){d=(e=c.creative)==null?void 0:e.product_set_id;e=b("adsShouldDefaultToSingleVideoSelector")(d);e?c=c.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.FORMAT_OPTION,"single_video"):c=c.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.FORCE_SINGLE_LINK,!0).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.FORMAT_OPTION);c=y(c)}e=(d=c.creative)==null?void 0:(e=d.object_story_spec)==null?void 0:(d=e.link_data)==null?void 0:d.link;(b("isAdsCanvasLink")(e)&&a!==b("AdsAPIObjectives").LEAD_GENERATION||b("AdsArLinkUtils").isArAdsLink(e))&&(c=c.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.LINK,D(c,a)));e=(d=c.creative)==null?void 0:d.object_type;e!=null&&b("AdsAdgroupSpecUtils").isVideoObjectType(a,e)&&(c=h(a,c));return c}function y(a){var c;((c=a.creative)==null?void 0:c.categorization_criteria)!=null&&a.getIn(b("AdsUnifiedCreativeAPIFieldMappings").TEMPLATE_MAPPING.headline)!=null&&(a=a.setIn(b("AdsUnifiedCreativeAPIFieldMappings").TEMPLATE_MAPPING.headline,""));return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.CATEGORIZATION_CRITERIA).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.CATEGORY_MEDIA_SOURCE)}function z(a,c){__p&&__p();var d=b("adsPageIDSelector")({adgroup:a});d=b("isTruthy")(d)?b("AdsPageStore").getCached(d):b("AdsCachedLoadState_LEGACY").NOT_LOADED;d=d.website;if(!d)return a;var e=a.adset_id;b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor(b("adsPromotedObjectTypeSelector_LEGACY").getStores().map(function(a){return a.getDispatchToken()}));e=b("adsPromotedObjectTypeSelector_LEGACY")(e);if(!b("AdsAdgroupSpecUtils").isLinkDataEligible(c,e))return a;c=b("AdsChildAttachmentsUtils").getInChild(0,b("AdsAPIChildAttachmentPaths").LINK,a);b("AdsChildAttachmentsUtils").isStaticCarouselAd(a)&&!c&&(a=b("AdsUEditorAdgroupMultiProductMutators").setInChild(0,b("AdsAPIChildAttachmentPaths").LINK,d,a));e=b("AdsAdgroupSpecUtils").getLink(a);e||(a=m(d,a));return a}function A(a,c,d){__p&&__p();var e=b("AdsAdgroupSpecUtils").getAppDestination(a),f=b("AdsUnifiedCreativeAPIFields").multiShareEndCard.getPath(a,c),g=b("AdsUEditorCampaignInstagramSelectors").allHaveInstagramStoryPlacementOnly(b("AdsEditingAdgroupEditorContext"));if(d===b("AdsAPIObjectives").LEAD_GENERATION||e==="MESSENGER"||d===b("AdsAPIObjectives").VIDEO_VIEWS&&g||d===b("AdsAPIObjectives").STORE_VISITS)return f!=null?a.setIn(f,!1):a;if(!b("AdsAdgroupSpecUtils").isLinkDataEligible(d))return a;e=b("AdsUnifiedCreativeAPIFields").multiShareEndCard.getValue(a,c);if(e==null){c=!b("AdsLocalUtils").isLocalObjective(d)&&!g;g&&(a=a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.LINK));a=f!=null?a.setIn(f,c):a}return a}function B(a,c,d,e){__p&&__p();if(!b("AdsAdgroupSpecUtils").isLinkDataEligible(d)&&!b("AdsAdgroupSpecUtils").isAppLinkDataEligible(d))return a;if(b("AdsAdgroupSpecUtils").isTemplateDataEligible(d,e,a))return a;if(b("AdsLocalAwarenessUtils").isDynamicLocalAwareness(d,e))return a;d=b("AdsUnifiedCreativeAPIFields").multiShareOptimized.getPath(a,c);e=b("AdsUnifiedCreativeAPIFields").multiShareOptimized.getValue(a,c);if(e==null){c=!b("AdsUEditorCampaignInstagramSelectors").allHaveInstagramStoryPlacementOnly(b("AdsEditingAdgroupEditorContext"));return d!=null?a.setIn(d,c):a}return a}function C(a){var c;((c=a.creative)==null?void 0:(c=c.object_story_spec)==null?void 0:c.template_data)&&(a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.CUSTOMIZATION_RULES_SPEC,b("AdsAdgroupEditorStore").getCachedCustomizationRulesSpec(a.id)));return a}function D(a,c){a=a.adset_id;b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor(b("adsPromotedObjectTypeSelector_LEGACY").getStores().map(function(a){return a.getDispatchToken()}));a=b("adsPromotedObjectTypeSelector_LEGACY")(a);c=b("AdsMobileAppObjectivesUtils").isMobileAppObjective(c,a);if(!c)return"";a=b("AdsUEditorSelectors").campaign.bulkByAccessor(b("AdsCampaignRecordAccessors").promoted_object.object_store_url.get)(b("AdsEditingAdgroupEditorContext"));return b("AdsBulkValueUtils").getUniformValueOrDefault(a,"")}function E(a,b){__p&&__p();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=b.getIn(e);if(f!==void 0)return b.removeIn(e)}return b}d={reduce:a,setLinkPostFormatWithExtraData_UNPURE:r,setLinkPostFormat_UNPURE:s};e.exports=d}),null);
__d("AdsUEditorAdgroupCreativePluginAdObjectsUtils",["AdsAdgroupCreativePluginResolver","AdsUEditorCampaignAdObjectsUtils","CatalogVertical"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsUEditorCampaignAdObjectsUtils").getCommonPivots,h=b("AdsUEditorCampaignAdObjectsUtils").getOfferStateType;function a(a,c){return b("AdsAdgroupCreativePluginResolver").resolve(i(a,c))}function i(a,c){return babelHelpers["extends"]({},g(a),{offerStateType:h(a),catalogVertical:c?c:b("CatalogVertical").NONE})}e.exports={getAdgroupCreativePlugin:a,getAdgroupCreativePluginPivots:i}}),null);
__d("AdsAdgroupPrefillerUtils",["invariant","AdsUEditorAdgroupCreativePluginAdObjectsUtils","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","flattenArray","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a,c,d){__p&&__p();var e=b("immutable").Set(c.map(function(a){return a.key}));e.size===c.length||g(0,4093);var f=b("flattenArray")(c.map(function(b){d.has(b.key)||g(0,4094,b.key);return b.genPaths(a,d.get(b.key))}));e=a.current.adgroup;var h=a.original.adgroup;return e.withMutations(function(a){f.forEach(function(b){a.setIn(b.current,h.getIn(b.original))})})}function c(a,c,d){d===void 0&&(d=[]);var e=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin(a.current),f=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin(a.original);e=c.getPath(a.current.adgroup,e);c=c.getPath(a.original.adgroup,f);a=e?[].concat(e,d):null;f=c?[].concat(c,d):null;return{current:a,original:f}}function d(a){return{current:b("AdsUEditorAdgroupCreativePluginAdObjectsUtils").getAdgroupCreativePlugin(a.current),original:b("AdsUEditorAdgroupCreativePluginAdObjectsUtils").getAdgroupCreativePlugin(a.original)}}function f(a,c){var d=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin(a.original);return c.getValue(a.original.adgroup,d)}e.exports={genAdgroupCreativePlugins:d,genOriginalUnifiedFieldValueFromContextData:f,genPathsForUnifiedField:c,prefillUsingPrefillers:a}}),null);
__d("AdsLeadGenAdGroupUtils",["AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";a={isLeadGenFormEnabled:function(a,c){a=b("AdsUnifiedCreativeAPIFields").callToActionValue.getValue(a,c);c=a?a.get("lead_gen_form_id"):null;return!!c}};e.exports=a}),null);
__d("adsCallToActionFilterTypesByAdgroupMediaFormat",["AdsAdgroupTypeUtils","AdsAPIObjectives","AdsCallToActionTypesCond"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){c===b("AdsAPIObjectives").REACH&&b("AdsAdgroupTypeUtils").isVideoAd(d)&&(a=a.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.SAVE.name}));c===b("AdsAPIObjectives").STORE_VISITS&&b("AdsAdgroupTypeUtils").isVideoAd(d)&&(a=a.filter(function(a){return![b("AdsCallToActionTypesCond").TYPES.SHOP_NOW.name,b("AdsCallToActionTypesCond").TYPES.ORDER_NOW.name].includes(a.name)}));return a}e.exports=a}),null);
__d("adsCallToActionFilterTypesByDynamicAdVoice",["AdsAPIObjectives","AdsCallToActionTypesCond"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e=new Set([b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE]);c.forEach(function(c,f){c===b("AdsAPIObjectives").STORE_VISITS&&d[f]==="DYNAMIC"&&(a=a.filter(function(a){return!e.has(a)}))});return a}e.exports=a}),null);
__d("adsCallToActionFilterTypesByOfferSupport",["AdsAPIObjectives","AdsCallToActionTypesCond"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){c.forEach(function(c,e){!d[e]?(a=a.filter(function(a){return a!==b("AdsCallToActionTypesCond").TYPES.GET_OFFER_VIEW}),c===b("AdsAPIObjectives").STORE_VISITS&&(a=a.filter(function(a){return a!==b("AdsCallToActionTypesCond").TYPES.GET_OFFER}))):a=a.filter(function(a){return a!==b("AdsCallToActionTypesCond").TYPES.GET_OFFER})});return a}e.exports=a}),null);
__d("adsDynamicCampaignHasUpsellDynamicAudience",["CatalogVertical"],(function(a,b,c,d,e,f){"use strict";function a(a){return a===b("CatalogVertical").FLIGHTS}e.exports=a}),null);
__d("AdsDynamicAudienceUtils",["fbt","invariant","AdsAPIObjectives","AdsDynamicAudienceDraft","AdsDynamicAudienceDraftBookingWindow","AdsDynamicAudienceDraftEvent","AdsDynamicAudienceDraftSaveState","AdsDynamicAudienceDraftUpsell","AdsDynamicAudienceEventRestriction","AdsDynamicTargetingCategories","AdsPixelConversionStandardEvents","AdsUEditorHostIDs","CatalogVertical","DateConsts","DynamicAdsContentTypes$FbtEnum","DynamicAdsContentTypesCapitalized$FbtEnum","DynamicAdsVerticalToContentType","DynamicContentTypeToCatalogVertical","SupportedEventsForContentType","adsDynamicCampaignHasUpsellDynamicAudience","immutable","intlList"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=180*b("DateConsts").SEC_PER_DAY,j=30,k=j*b("DateConsts").SEC_PER_DAY,l={getDefaultRetentionDays:function(){return j},getNewBookingWindow:function(){return new(b("AdsDynamicAudienceDraftBookingWindow"))({enabled:!1,min_seconds:0,max_seconds:k})},_getNewDraftBase:function(a,c,d,e,f){var g=l.getNewBookingWindow();return new(b("AdsDynamicAudienceDraft"))({booking_window:g,event_source_group_creation_in_progress:!1,event_source_group_id:null,event_sources:a,exclusions:c,inclusions:d,is_excluded_dynamic_audience:e,restrict_to_set_id:null,state:b("AdsDynamicAudienceDraftSaveState").UNPUBLISHED,preconfigured_options:{preset_type:f,upsell:l.getDefaultUpsell()}})},getBaseEvent:function(a){return new(b("AdsDynamicAudienceDraftEvent"))({content_type:l.getDefaultContentTypeForVertical(a),event_type:"Purchase",min_event_count:1,restriction_type:b("AdsDynamicAudienceEventRestriction").IN_THE_PAST,max_seconds:k,min_seconds:0})},getNewDraft:function(a,c){var d=l.getBaseEvent(a),e=l.getDefaultExclusions(a,d);d=l.getDefaultInclusions(a,d);return l._getNewDraftBase(c,e,d,!1,l.getDefaultPreset(a,b("AdsDynamicTargetingCategories").RETARGETING))},isTravelVertical:function(a){return a===b("CatalogVertical").FLIGHTS||a===b("CatalogVertical").HOTELS||a===b("CatalogVertical").DESTINATIONS},isAutoVertical:function(a){return a===b("CatalogVertical").VEHICLE_OFFERS||a===b("CatalogVertical").VEHICLES||a===b("CatalogVertical").AUTOMOTIVE_MODELS},getDefaultPreset:function(a,c,d,e){if(c===b("AdsDynamicTargetingCategories").PROSPECTING){if(d!==b("AdsAPIObjectives").PRODUCT_CATALOG_SALES||e!==b("AdsUEditorHostIDs").CREATION)return"EMPTY_AUDIENCE";if(l.isTravelVertical(a))return"PURCHASED_AUDIENCE";if(l.isAutoVertical(a))return"CUSTOM_AUDIENCE"}return"CUSTOM_AUDIENCE"},getNewExclusionDraft:function(a,c,d,e){var f=l.getBaseEvent(a);f=l.getDefaultExclusions(a,f);return l._getNewDraftBase(c,b("immutable").List(),f,!0,l.getDefaultPreset(a,b("AdsDynamicTargetingCategories").PROSPECTING,d,e))},getNewEmptyDraft:function(a){return l._getNewDraftBase(a,b("immutable").List(),b("immutable").List(),!0,"EMPTY_AUDIENCE")},getDefaultInclusions:function(a,c){switch(a){case b("CatalogVertical").VEHICLES:return b("immutable").List([c.set("event_type","Search"),c.set("event_type","ViewContent"),c.set("event_type","AddToWishlist")]);case b("CatalogVertical").DESTINATIONS:case b("CatalogVertical").FLIGHTS:case b("CatalogVertical").HOTELS:return b("immutable").List([c.set("event_type","Search"),c.set("event_type","ViewContent")]);default:return b("immutable").List()}},getRetargetingExclusions:function(a,c){switch(a){case b("CatalogVertical").MEDIA_TITLES:return b("immutable").List();case b("CatalogVertical").VEHICLES:case b("CatalogVertical").VEHICLE_OFFERS:return b("immutable").List([c.set("event_type","Lead")]);case b("CatalogVertical").DESTINATIONS:case b("CatalogVertical").FLIGHTS:case b("CatalogVertical").HOTELS:return b("immutable").List([c.set("event_type","Purchase"),c.set("event_type","ViewContent"),c.set("event_type","Search"),c.set("event_type","InitiateCheckout")]);default:return b("immutable").List()}},getDefaultExclusions:function(a,c){switch(a){case b("CatalogVertical").MEDIA_TITLES:return b("immutable").List();case b("CatalogVertical").VEHICLES:case b("CatalogVertical").VEHICLE_OFFERS:return b("immutable").List([c.set("event_type","Lead")]);case b("CatalogVertical").DESTINATIONS:case b("CatalogVertical").FLIGHTS:case b("CatalogVertical").HOTELS:return b("immutable").List([c.set("event_type","Purchase")]);default:return b("immutable").List()}},getDefaultUpsell:function(){return new(b("AdsDynamicAudienceDraftUpsell"))({enabled:!1,max_seconds:k})},getContentType:function(a){return b("DynamicAdsVerticalToContentType")[a]},getContentTypes:function(a){switch(a){case b("CatalogVertical").AUTOMOTIVE_MODELS:return["automotive_model"];case b("CatalogVertical").DESTINATIONS:case b("CatalogVertical").FLIGHTS:case b("CatalogVertical").HOTELS:return["hotel","flight","destination"];case b("CatalogVertical").HOME_LISTINGS:return["home_listing"];case b("CatalogVertical").VEHICLES:return["vehicle"];case b("CatalogVertical").VEHICLE_OFFERS:return["vehicle_offer"];case b("CatalogVertical").MEDIA_TITLES:return["media_title"];default:return[]}},getEventTypes:function(a){return b("SupportedEventsForContentType")[a]},getNextEventType:function(a,b){var c=l.getEventTypes(b),d=a.inclusions.concat(a.exclusions).filter(function(a){return a.content_type===b}).map(function(a){return a.event_type});a=c.filter(function(a){return!d.contains(a)});return a.length===0?c[0]:a[0]},getDefaultContentTypeForVertical:function(a){Object.prototype.hasOwnProperty.call(b("DynamicAdsVerticalToContentType"),a)||h(0,1471,a);return b("DynamicAdsVerticalToContentType")[a]},getVerticalForDynamicAdsContentType:function(a){return b("DynamicContentTypeToCatalogVertical")[a]},getNextEvent:function(a,c){a=l._getUnusedEventTuples(a,c);return a.length===0?null:new(b("AdsDynamicAudienceDraftEvent"))({content_type:a[0].contentType,event_type:a[0].eventType,min_event_count:1,restriction_type:b("AdsDynamicAudienceEventRestriction").IN_THE_PAST,max_seconds:k,min_seconds:0})},canAddEvent:function(a,b){return l._getUnusedEventTuples(a,b).length>0},_getUnusedEventTuples:function(a,b){__p&&__p();var c=[];b=l.getContentTypes(b);var d=function(){__p&&__p();if(f){if(g>=e.length)return"break";h=e[g++]}else{g=e.next();if(g.done)return"break";h=g.value}var b=h,d=a.filter(function(a){return a.content_type===b}).map(function(a){return a.event_type});l.getEventTypes(b).filter(function(a){return!d.includes(a)}).forEach(function(a){return c.push({contentType:b,eventType:a})})};for(var e=b,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;b=d();if(b==="break")break}return c},generateName:function(a,c){a=g._({"automotive_model":"Automotive Model events from event source {event source ids}","destination":"Destination events from event source {event source ids}","flight":"Flight events from event source {event source ids}","home_listing":"Home Listing events from event source {event source ids}","hotel":"Hotel events from event source {event source ids}","media_title":"Media Title events from event source {event source ids}","vehicle_offer":"Vehicle Offer events from event source {event source ids}","vehicle":"Vehicle events from event source {event source ids}"},[g._enum(a,b("DynamicAdsContentTypesCapitalized$FbtEnum")),g._param("event source ids",c)]);return a.toString()},generateDescription:function(a,c,d,e,f){e=b("intlList")(e.map(function(a){return b("AdsPixelConversionStandardEvents")[a.event_type].name}));f=b("intlList")(f.map(function(a){return b("AdsPixelConversionStandardEvents")[a.event_type].name}));var i=Math.round(a.min_seconds/b("DateConsts").SEC_PER_DAY),j=Math.round(a.max_seconds/b("DateConsts").SEC_PER_DAY),k;!f&&!a.enabled?k=g._({"automotive_model":"People with automotive model events from event source {event source ids} including {list of inclusion events}","destination":"People with destination events from event source {event source ids} including {list of inclusion events}","flight":"People with flight events from event source {event source ids} including {list of inclusion events}","home_listing":"People with home listing events from event source {event source ids} including {list of inclusion events}","hotel":"People with hotel events from event source {event source ids} including {list of inclusion events}","media_title":"People with media title events from event source {event source ids} including {list of inclusion events}","vehicle_offer":"People with vehicle offer events from event source {event source ids} including {list of inclusion events}","vehicle":"People with vehicle events from event source {event source ids} including {list of inclusion events}"},[g._enum(c,b("DynamicAdsContentTypes$FbtEnum")),g._param("event source ids",d),g._param("list of inclusion events",e)]):f&&!a.enabled?k=g._({"automotive_model":"People with automotive model events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}","destination":"People with destination events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}","flight":"People with flight events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}","home_listing":"People with home listing events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}","hotel":"People with hotel events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}","media_title":"People with media title events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}","vehicle_offer":"People with vehicle offer events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}","vehicle":"People with vehicle events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}"},[g._enum(c,b("DynamicAdsContentTypes$FbtEnum")),g._param("event source ids",d),g._param("list of inclusion events",e),g._param("list of exclusion events",f)]):!f&&a.enabled?k=g._({"automotive_model":"People with automotive model events from event source {event source ids} including {list of inclusion events}, in a booking window of {start day} to {end day} days","destination":"People with destination events from event source {event source ids} including {list of inclusion events}, in a booking window of {start day} to {end day} days","flight":"People with flight events from event source {event source ids} including {list of inclusion events}, in a booking window of {start day} to {end day} days","home_listing":"People with home listing events from event source {event source ids} including {list of inclusion events}, in a booking window of {start day} to {end day} days","hotel":"People with hotel events from event source {event source ids} including {list of inclusion events}, in a booking window of {start day} to {end day} days","media_title":"People with media title events from event source {event source ids} including {list of inclusion events}, in a booking window of {start day} to {end day} days","vehicle_offer":"People with vehicle offer events from event source {event source ids} including {list of inclusion events}, in a booking window of {start day} to {end day} days","vehicle":"People with vehicle events from event source {event source ids} including {list of inclusion events}, in a booking window of {start day} to {end day} days"},[g._enum(c,b("DynamicAdsContentTypes$FbtEnum")),g._param("event source ids",d),g._param("list of inclusion events",e),g._param("start day",i),g._param("end day",j)]):f&&a.enabled&&(k=g._({"automotive_model":"People with automotive model events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}, in a booking window of {start day} to {end day} days","destination":"People with destination events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}, in a booking window of {start day} to {end day} days","flight":"People with flight events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}, in a booking window of {start day} to {end day} days","home_listing":"People with home listing events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}, in a booking window of {start day} to {end day} days","hotel":"People with hotel events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}, in a booking window of {start day} to {end day} days","media_title":"People with media title events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}, in a booking window of {start day} to {end day} days","vehicle_offer":"People with vehicle offer events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}, in a booking window of {start day} to {end day} days","vehicle":"People with vehicle events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}, in a booking window of {start day} to {end day} days"},[g._enum(c,b("DynamicAdsContentTypes$FbtEnum")),g._param("event source ids",d),g._param("list of inclusion events",e),g._param("list of exclusion events",f),g._param("start day",i),g._param("end day",j)]));k||h(0,1472);return k.toString()},clipRetention:function(a){return Math.min(i,Math.max(0,a))},isValidDraft:function(a){if(!a.event_source_group_id&&(!a.event_sources||a.event_sources.isEmpty()))return!1;var b=function(a){return!l.getEventTypes(a.content_type).includes(a.event_type)};return a.inclusions.isEmpty()||a.inclusions.some(b)||a.exclusions.some(b)?!1:!0},requiresSetRestriction:function(a){return a===b("CatalogVertical").FLIGHTS},maybeTranformUpsellToPurchaseInclusion:function(a,c){if(!b("adsDynamicCampaignHasUpsellDynamicAudience")(c))return a;if(!a.preconfigured_options.upsell.enabled)return a;var d=a.preconfigured_options.upsell;return a.merge({exclusions:b("immutable").List(),inclusions:b("immutable").List([new(b("AdsDynamicAudienceDraftEvent"))({content_type:l.getDefaultContentTypeForVertical(c),event_type:"Purchase",min_event_count:1,restriction_type:b("AdsDynamicAudienceEventRestriction").IN_THE_PAST,max_seconds:d.max_seconds,min_seconds:0})])})},maybeTranformPurchaseInclusionToUpsell:function(a,c,d){return!d&&c.count()===0&&a.count()===1&&a.first().event_type==="Purchase"?new(b("AdsDynamicAudienceDraftUpsell"))({enabled:!0,max_seconds:a.first().max_seconds}):l.getDefaultUpsell()},creationParamsEligibleForPurchaseUpsell:function(a){__p&&__p();if(!a)return!1;a=JSON.parse(a);var b=a.inclusions;a=a.content_type;if(!b||a!=="flight")return!1;typeof b==="string"&&(b=JSON.parse(b));if(!Array.isArray(b))return!1;return!b.every(function(a){return a.event==="Purchase"})?!1:!0},mutateEach:function(a,b,c){return a.withMutations(function(a){return b.forEach(function(b){return a.update(b,c)})})},mutateEachInList:function(a,b,c,d,e){var f=d;return f==null?l.mutateEach(a,b,function(a){return!a?null:a.update(c?"inclusions":"exclusions",function(b){return b.map(function(b){return e(b,a)})})}):l.mutateEach(a,b,function(a){return!a?null:a.update(c?"inclusions":"exclusions",function(b){return b.update(f,function(b){return e(b,a)})})})},unpublishIfChanged:function(a,c,d){__p&&__p();return c===a?c:c.withMutations(function(d){__p&&__p();for(var e=a.keys(),f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;if(b("immutable").is(c.get(h),a.get(h)))continue;d.update(h,function(a){return!a?null:a.set("state",b("AdsDynamicAudienceDraftSaveState").UNPUBLISHED)})}})}};e.exports=l}),null);
__d("adsCallToActionFilterTypesForCatalogVertical",["AdsCallToActionTypesCond","AdsDynamicAudienceUtils"],(function(a,b,c,d,e,f){"use strict";function a(a,c){b("AdsDynamicAudienceUtils").isAutoVertical(c)||(a=a.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.BOOK_TEST_DRIVE.name&&a.name!==b("AdsCallToActionTypesCond").TYPES.CHECK_AVAILABILITY.name}));return a}e.exports=a}),null);
__d("adsCallToActionFilterTypesForConversionsObjective",["AdsCallToActionTypesCond"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return a.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.GET_DIRECTIONS.name})}e.exports=a}),null);
__d("adsCallToActionFilterTypesForInstantCheckout",["AdsAccountStore","AdsCallToActionTypesCond","adsAccountGK"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("adsAccountGK")._(b("AdsAccountStore").getSelectedAccount().getValue(),"2iQy7Bo2E")?a.filter(function(a){return a.name===b("AdsCallToActionTypesCond").TYPES.SHOP_NOW.name||a.name===b("AdsCallToActionTypesCond").TYPES.SUBSCRIBE.name}):a.filter(function(a){return a.name===b("AdsCallToActionTypesCond").TYPES.SHOP_NOW.name})}e.exports=a}),null);
__d("adsCallToActionFilterTypesForLeadFormAds",["AdsAPIObjectives","AdsCallToActionTypesUtils"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("AdsCallToActionTypesUtils").typesForObjective(b("AdsAPIObjectives").LEAD_GENERATION,null).map(function(a){return a.name});return a.filter(function(a){return c.includes(a.name)})}e.exports=a}),null);
__d("adsCallToActionFilterTypesForMessagesObjective",["AdsAccountUtils","AdsCallToActionTypesCond","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){__p&&__p();a=a;if(d===b("AdsPromotedObjectTypes").WHATSAPP)return a.filter(function(a){return a.name===b("AdsCallToActionTypesCond").TYPES.WHATSAPP_MESSAGE.name});if(d===b("AdsPromotedObjectTypes").INSTAGRAM)return a.filter(function(a){return a.name===b("AdsCallToActionTypesCond").TYPES.INSTAGRAM_MESSAGE.name});a=a.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.INSTAGRAM_MESSAGE.name});!b("AdsAccountUtils").hasCapabilityFromList(c,"CTM_ADS_PARTIAL_AUTOMATED_CREATION_BETA")&&!b("AdsAccountUtils").hasCapabilityFromList(c,"CTM_ADS_CALL_TO_ACTION_GET_OFFER")&&(a=a.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.GET_OFFER.name}));b("AdsAccountUtils").hasCapabilityFromList(c,"NEKO_PRE_REGISTRATION_CTA")||(a=a.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.PRE_REGISTER.name}));return a.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.WHATSAPP_MESSAGE.name})}e.exports=a}),null);
__d("adsCallToActionFilterTypesForMessengerDestinationAds",["AdsCallToActionTypesCond"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e=[(c=b("AdsCallToActionTypesCond")).TYPES.DOWNLOAD.name,c.TYPES.GET_SHOWTIMES.name,c.TYPES.LISTEN_NOW.name,c.TYPES.REQUEST_TIME.name,c.TYPES.SEE_MENU.name,c.TYPES.WATCH_MORE.name];return a.filter(function(a){return!e.includes(a.name)||a.name===d})}e.exports=a}),null);
__d("adsCallToActionFilterTypesForStoreVisitsObjective",["AdsCallToActionTypesCond","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){__p&&__p();a=a;if(d.isDynamicProductCarouselAd(c)){var e=[b("AdsCallToActionTypesCond").TYPES.CALL_NOW.name,b("AdsCallToActionTypesCond").TYPES.GET_DIRECTIONS.name,b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name];a=a.filter(function(a){return!e.includes(a.name)})}c=b("AdsUnifiedCreativeAPIFields").callToActionType.getValue(c,d);c!==b("AdsCallToActionTypesCond").TYPES.CALL_NOW.name&&(a=a.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.CALL_NOW.name}));c!==b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name&&(a=a.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name}));return a}e.exports=a}),null);
__d("adsCallToActionFilterTypesForVideoViewObjective",["AdsAccountUtils","AdsCallToActionTypesCond"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=b("AdsAccountUtils").hasCapabilityFromList(c,"CAN_USE_FB_MOVIE_INTERESTED_CTA_IN_ADS"),e=b("AdsAccountUtils").hasCapabilityFromList(c,"CTW_ADS_FOR_NON_MESSAGES_OBJECTIVE");return a.filter(function(a){return(a.name!==b("AdsCallToActionTypesCond").TYPES.INTERESTED.name||d)&&(a.name!==b("AdsCallToActionTypesCond").TYPES.WHATSAPP_MESSAGE.name||e)})}e.exports=a}),null);
__d("adsCallToActionFilterTypesIfAssetFeedAd",["AdsAssetFeedUtils","NonURLLinkCTATypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){if(b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(a)){var d=Object.keys(b("NonURLLinkCTATypes"));b("AdsAssetFeedUtils").hasPlacementCustomizationFromSpec(a)&&(d=d.filter(function(a){return a!=="MESSAGE_PAGE"}));c=c.filter(function(a){return a&&a.name&&!d.includes(a.name)})}return c}e.exports=a}),null);
__d("adsCallToActionGetAdgroupLinkURL",["AdsAPIAdAssetFeedLinkURLsFields","AdsAssetFeedFieldUtils","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("AdsAssetFeedFieldUtils").firstAsset_TALK_WITH_ACE_BEFORE_USE(b("AdsUnifiedCreativeAPIFields").linkURL.getValue(a,c),b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL)}e.exports=a}),null);
__d("adsCallToActionGetTypesForAdgroup",["AdsAccountStore","AdsAccountUtils","AdsAPIAdgroupRecordUtils","AdsAPIObjectives","AdsBuyingTypes","AdsCallToActionTypesCond","AdsCallToActionTypesUtils","AdsInstantCheckoutUtils","AdsLeadGenAdGroupUtils","AdsOfferState","AdsPromotedObjectTypes","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorCampaignAdObjectsUtils","AdsUEditorCampaignGroupAdObjectsUtils","AdsWebsiteAdUtils","adsAccountGK","adsCallToActionFilterTypesByAdgroupMediaFormat","adsCallToActionFilterTypesByDynamicAdVoice","adsCallToActionFilterTypesByOfferSupport","adsCallToActionFilterTypesForCatalogVertical","adsCallToActionFilterTypesForConversionsObjective","adsCallToActionFilterTypesForInstantCheckout","adsCallToActionFilterTypesForLeadFormAds","adsCallToActionFilterTypesForMessagesObjective","adsCallToActionFilterTypesForMessengerDestinationAds","adsCallToActionFilterTypesForStoreVisitsObjective","adsCallToActionFilterTypesForVideoViewObjective","adsCallToActionFilterTypesIfAssetFeedAd","adsCallToActionGetAdgroupLinkURL","adsCampaignGetOfferStateType","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f){__p&&__p();f===void 0&&(f=!1);var g=a.adgroup,h=a.campaign,i=a.campaignGroup,j=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin(a),k=b("AdsUEditorCampaignGroupAdObjectsUtils").getObjective(a);a=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType(a);var l=b("adsCallToActionGetAdgroupLinkURL")(g,j);l=b("AdsCallToActionTypesUtils").typesForObjective(k,a,l);b("AdsAccountUtils").hasCapabilityFromList(c,"DAA_NEW_CTAS")||(l=l.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.BOOK_TEST_DRIVE.name&&a.name!==b("AdsCallToActionTypesCond").TYPES.CHECK_AVAILABILITY.name}));l=b("adsCallToActionFilterTypesForCatalogVertical")(l,d);l=b("adsCallToActionFilterTypesByAdgroupMediaFormat")(l,k,g);k===b("AdsAPIObjectives").CONVERSIONS&&(l=b("adsCallToActionFilterTypesForConversionsObjective")(l,a));k===b("AdsAPIObjectives").MESSAGES&&(l=b("adsCallToActionFilterTypesForMessagesObjective")(l,c,a));k===b("AdsAPIObjectives").STORE_VISITS&&(l=b("adsCallToActionFilterTypesForStoreVisitsObjective")(l,g,j));k===b("AdsAPIObjectives").VIDEO_VIEWS&&(l=b("adsCallToActionFilterTypesForVideoViewObjective")(l,c));if(a===b("AdsPromotedObjectTypes").MESSENGER){d=b("AdsAPIAdgroupRecordUtils").getCallToActionType(g,j);l=b("adsCallToActionFilterTypesForMessengerDestinationAds")(l,c,d)}if(b("AdsWebsiteAdUtils").isWebsiteObjective(k,a)){d=b("AdsAPIAdgroupRecordUtils").getCallToActionType(g,j);d!==b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name&&(l=l.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name}))}(!b("AdsWebsiteAdUtils").isWebsiteConversionsObjective(k,a)||!b("AdsAccountUtils").hasCapabilityFromList(c,"CAN_CREATE_DONATE_CTA"))&&(l=l.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.DONATE.name}));k!==b("AdsAPIObjectives").LEAD_GENERATION&&b("AdsLeadGenAdGroupUtils").isLeadGenFormEnabled(g,j)&&(l=b("adsCallToActionFilterTypesForLeadFormAds")(l));f||(l=b("adsCallToActionFilterTypesIfAssetFeedAd")(g,l));b("AdsInstantCheckoutUtils").isInstantCheckoutEnabled(i,h)&&(l=b("adsCallToActionFilterTypesForInstantCheckout")(l));j=(d=g.creative)==null?void 0:d.dynamic_ad_voice;l=b("adsCallToActionFilterTypesByDynamicAdVoice")(l,[k],[j]);f=b("adsCampaignGetOfferStateType")(h)===b("AdsOfferState").HAS_OFFER;l=b("adsCallToActionFilterTypesByOfferSupport")(l,[k],[f]);if(b("AdsAccountUtils").hasCapabilityFromList(c,"CAN_USE_MOVIE_ADS")&&((i=g.creative)==null?void 0:(d=i.object_story_spec)==null?void 0:(j=d.video_data)==null?void 0:(h=j.call_to_action)==null?void 0:(f=h.value)==null?void 0:f.movie_id)!=null)switch(k){case b("AdsAPIObjectives").CONVERSIONS:case b("AdsAPIObjectives").LINK_CLICKS:l=l.filter(function(a){return a.name===b("AdsCallToActionTypesCond").TYPES.GET_SHOWTIMES.name});break;case b("AdsAPIObjectives").VIDEO_VIEWS:l=l.filter(function(a){return a.name===b("AdsCallToActionTypesCond").TYPES.GET_SHOWTIMES.name||a.name===b("AdsCallToActionTypesCond").TYPES.INTERESTED.name});break;default:break}var m=b("AdsAccountUtils").hasCapabilityFromList(c,"CAN_USE_DIAL_CODE_CTA"),n=b("AdsAccountUtils").hasCapabilityFromList(c,"CTW_ADS_FOR_NON_MESSAGES_OBJECTIVE");switch(k){case b("AdsAPIObjectives").POST_ENGAGEMENT:case b("AdsAPIObjectives").BRAND_AWARENESS:l=l.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.WHATSAPP_MESSAGE.name||n});break;case b("AdsAPIObjectives").REACH:l=l.filter(function(a){return(a.name!==b("AdsCallToActionTypesCond").TYPES.DIAL_CODE.name||m)&&(a.name!==b("AdsCallToActionTypesCond").TYPES.WHATSAPP_MESSAGE.name||n)});break;default:break}e===b("AdsBuyingTypes").RESERVED&&(l=l.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name&&a.name!==b("AdsCallToActionTypesCond").TYPES.WHATSAPP_MESSAGE.name}));a===b("AdsPromotedObjectTypes").PRODUCT_SET&&(!b("gkx")("910918")&&!b("adsAccountGK")._(b("AdsAccountStore").getSelectedAccount().getValue(),"4bkjBjLNd")&&(l=l.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name})));return l}e.exports=a}),null);
__d("AdsAdgroupCallToActionTypePrefiller",["AdsAccountStore","AdsAdgroupPrefillerUtils","AdsUnifiedCreativeAPIFields","adsCallToActionGetTypesForAdgroup","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateSelector")([b("AdsAccountStore").getSelectedAccount],function(a){return{accountCapabilities:(a=a.getValue())==null?void 0:a.capabilities}},{name:e.id+".selector"});c={key:"cta_type",genExtraDataSelector:a,genPaths:function(a,c){var d=b("AdsAdgroupPrefillerUtils").genPathsForUnifiedField(a,b("AdsUnifiedCreativeAPIFields").callToActionType),e=d.current;d=d.original;if(!e||!d)return[];c=c&&c.accountCapabilities!=null?c.accountCapabilities:[];c=b("adsCallToActionGetTypesForAdgroup")(a.current,c);var f=a.original.adgroup.getIn(d);return c.find(function(a){return a.name===f})?[{current:e,original:d}]:[]}};e.exports=c}),null);
__d("AdsAdgroupCallToActionValuePrefiller",["AdsAdgroupPrefillerUtils","AdsUnifiedCreativeAPIFields","CallToActionValueFields","compactArray","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Set(["app_destination"]),h=Object.keys(b("CallToActionValueFields")).map(function(a){return b("CallToActionValueFields")[a]}).filter(function(a){return!g.has(a)});a={key:"CTA_value",genPaths:function(a){return b("compactArray")(h.map(function(b){return i(a,b)}))}};function i(a,c){var d=b("AdsAdgroupPrefillerUtils").genPathsForUnifiedField(a,b("AdsUnifiedCreativeAPIFields").callToActionValue,[c]),e=d.current;d=d.original;if(!e||!d)return null;var f=b("AdsAdgroupPrefillerUtils").genAdgroupCreativePlugins(a);f=f.current.getSupportedCallToActiveValueFields();return a.original.adgroup.getIn(d)&&f.has(c)?{current:e,original:d}:null}e.exports=a}),null);
__d("AdsAdgroupChildAttachmentsPrefiller",["AdsAdgroupChildAttachmentsFields","AdsAdgroupPrefillerUtils","AdsAPIAdgroupRecordUtils","AdsAPIObjectives","AdsDestinationUtils","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","compactArray","flattenArray","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=Object.keys(a=b("AdsAdgroupChildAttachmentsFields")).map(function(a){return b("AdsAdgroupChildAttachmentsFields")[a]}),h=b("immutable").Set([a.callToActionValue,a.linkURL]),i=b("immutable").Set([a.callToActionValue,a.linkURL]);c={key:"childAttachments",genPaths:function(a){__p&&__p();var c=b("AdsAdgroupPrefillerUtils").genPathsForUnifiedField(a,b("AdsUnifiedCreativeAPIFields").childAttachments),d=c.current;c=c.original;if(!d||!c)return[];c=a.original.adgroup.getIn(c);d=a.current.adgroup.getIn(d);if(!c||!c.size||!d||!d.size)return[];c=Math.min(c.size,d.size);return b("compactArray")(b("flattenArray")(Array(c).fill().map(function(b,c){return j(a,c)})))}};function j(a,b){var c=g.filter(function(b){return k(b,a)}).filter(function(b){return l(b,a)});return c.map(function(c){c=m(a,c,b);var d=c.current;c=c.original;return d&&c&&a.original.adgroup.getIn(d)?{current:d,original:c}:null})}function k(a,c){if(b("AdsAPIAdgroupRecordUtils").isMessengerDestinationAd(c.original.adgroup)){if(!b("AdsDestinationUtils").isMessengerDestinationCapable(c.current.campaignGroup.objective,c.current.campaign))return!h.has(a)}else if(c.current.campaignGroup.objective===b("AdsAPIObjectives").MESSAGES)return!h.has(a);return!0}function l(a,c){return c.original.campaignGroup.objective===b("AdsAPIObjectives").LEAD_GENERATION&&c.current.campaignGroup.objective!==b("AdsAPIObjectives").LEAD_GENERATION?!i.has(a):!0}function m(a,c,d){var e=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin(a.current),f=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin(a.original);e=c.get(a.current.adgroup,e,d);c=c.get(a.original.adgroup,f,d);return{current:e.supported?e.path:null,original:c.supported?c.path:null}}e.exports=c}),null);
__d("AdsAdgroupDestinationPrefiller",["AdCampaignDestination","AdsAdgroupPrefillerUtils","AdsAPIObjectives","AdsDestinationUtils","AdsUnifiedCreativeAPIFields","compactArray"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={key:"destination",genPaths:function(a){var c=b("AdsAdgroupPrefillerUtils").genPathsForUnifiedField(a,b("AdsUnifiedCreativeAPIFields").linkURL);if(g(a))return[];var d=b("AdsAdgroupPrefillerUtils").genPathsForUnifiedField(a,b("AdsUnifiedCreativeAPIFields").callToActionValue,["app_destination"]),e=b("AdsAdgroupPrefillerUtils").genPathsForUnifiedField(a,b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage);if(i(a,d)||h(a))return i(a,d)&&b("AdsDestinationUtils").isMessengerDestinationCapable(a.current.campaignGroup.objective,a.current.campaign)?j([c,d,e]):[];else if(a.current.campaignGroup.objective===b("AdsAPIObjectives").MESSAGES)return[];return j([c])}};function g(a){a=b("AdsAdgroupPrefillerUtils").genAdgroupCreativePlugins(a);a=a.current;return a.supportsLandingView()}function h(a){return((a=a.original.campaign)==null?void 0:a.destination_type)===b("AdCampaignDestination").MESSENGER}function i(a,b){var c=b.current;b=b.original;return!!c&&!!b&&a.original.adgroup.getIn(b)==="MESSENGER"}function j(a){return b("compactArray")(a.map(function(a){var b=a.current;a=a.original;return b&&a?{current:b,original:a}:null}))}e.exports=a}),null);
__d("AdsImageSpecsForAdgroupUtils",["AdImageSpecsUtils","AdImageSpecsUtilsV2","AdsBrandAwarenessUtils","AdsPlacementAPISpecReaderUtils","adsGetCreativeTypeByCreativeFields"],(function(a,b,c,d,e,f){"use strict";a={getImageSpecsForAdgroup:function(a,c){var d;d=b("adsGetCreativeTypeByCreativeFields")((d=a.creative)==null?void 0:d.object_type);c=b("AdsPlacementAPISpecReaderUtils").convertCampaignRecordToPlacementSpec(c);c=b("AdImageSpecsUtilsV2").getCropImageSpecsForAdTypeV2(d,[c]);d=b("AdImageSpecsUtils").getDisabledCropImageSpecsForAdType(c,d,b("AdsBrandAwarenessUtils").isWebsiteLinkEnabled(a.toJS()));return{imageSpecs:c,disabledSpecs:d}}};e.exports=a}),null);
__d("AdsAdgroupImageCropsPrefiller",["AdsAdgroupPrefillerUtils","AdsImageSpecsForAdgroupUtils","AdsUnifiedCreativeAPIFields","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={key:"imageCrops",genPaths:function(a){__p&&__p();var c=b("AdsAdgroupPrefillerUtils").genPathsForUnifiedField(a,b("AdsUnifiedCreativeAPIFields").imageCrops),d=c.current;c=c.original;if(!d||!c)return[];var e=a.original.adgroup.getIn(c);a=b("AdsImageSpecsForAdgroupUtils").getImageSpecsForAdgroup(a.current.adgroup,a.current.campaign);var f=a.imageSpecs;a=a.disabledSpecs;var g=b("immutable").Set(f.map(function(a){return a.cropKey})),h=b("immutable").Set(a.map(function(a){return a.cropKey}));return e&&Array.from(e.keys()).every(function(a){return g.has(a)&&!h.has(a)})?[{current:d,original:c}]:[]}};e.exports=a}),null);
__d("AdsAdgroupOfferIDPrefiller",["AdsAdgroupPrefillerUtils","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={key:"offerID",genPaths:function(a){var c=b("AdsAdgroupPrefillerUtils").genPathsForUnifiedField(a,b("AdsUnifiedCreativeAPIFields").offerID),d=c.current;c=c.original;if(!d||!c)return[];var e=a.original.adgroup.getIn(c);a=(a=a.current.campaign.promoted_object)==null?void 0:a.offer_id;return e&&e===a?[{current:d,original:c}]:[]}};e.exports=a}),null);
__d("AdsAdgroupPageActorOverridePrefiller",["AdsAPIAdgroupPaths","AdsAPICampaignRecordUtils","AdsAppUtils"],(function(a,b,c,d,e,f){"use strict";a={key:"page_actor_override",genPaths:function(a){var c;if(!((c=a.original.adgroup.creative)==null?void 0:c.use_page_actor_override))return[];c=a.current.campaignGroup.objective;a=b("AdsAPICampaignRecordUtils").getPromotedObjectType(c,a.current.campaign);return b("AdsAppUtils").isAppObjective(c,a)?[{current:b("AdsAPIAdgroupPaths").CREATIVE.USE_PAGE_ACTOR_OVERRIDE,original:b("AdsAPIAdgroupPaths").CREATIVE.USE_PAGE_ACTOR_OVERRIDE}]:[]}};e.exports=a}),null);
__d("AdsAdgroupInstagramActorIDPrefillUtils",["AdsAdgroupPrefillerUtils","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAPIInstagramPosition","AdsPlacementAPISpecReaderUtils","AdsUnifiedCreativeAPIFields","objectValues"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("AdsAdgroupPrefillerUtils").genPathsForUnifiedField(a,b("AdsUnifiedCreativeAPIFields").instagramActorID),d=c.current;c=c.original;var e=b("AdsPlacementAPISpecReaderUtils").convertCampaignRecordToPlacementSpec(a.current.campaign),f=b("objectValues")(b("AdsAPIInstagramPosition"));return!d||!c||!f.some(function(a){return b("AdsPlacementAPISpecReaderUtils").isActiveInstagramPosition(e,a)})?[]:b("AdsAPIAdgroupRecordUtils").isExistingPostAd(a.original.adgroup)?[{current:b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_ACTOR_ID,original:b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_ACTOR_ID}]:[{current:d,original:c}]}e.exports={genPaths:a}}),null);
__d("AdsAdgroupPageIDAndInstagramActorIDPrefiller",["AdsAdgroupInstagramActorIDPrefillUtils","AdsAdgroupPrefillerUtils","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";a={key:"pageID_instagramActorID",genPaths:function(a){var c=b("AdsAdgroupPrefillerUtils").genPathsForUnifiedField(a,b("AdsUnifiedCreativeAPIFields").pageID),d=c.current;c=c.original;var e=d&&c?[{current:d,original:c}]:[];d=d&&c?a.original.adgroup.getIn(c):null;return d?[].concat(e,b("AdsAdgroupInstagramActorIDPrefillUtils").genPaths(a)):[].concat(e)}};e.exports=a}),null);
__d("AdsAdgroupPlatformCustomizationsPrefiller",["AdsAPIAdgroupPaths","AdsImageSpecsForAdgroupUtils","ApiAdPageTypeToPlatformMap","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={key:"platform",genPaths:function(a){var c=b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,d=a.original.adgroup.getIn(c);a=b("AdsImageSpecsForAdgroupUtils").getImageSpecsForAdgroup(a.current.adgroup,a.current.campaign);a=a.imageSpecs;a=b("immutable").Set(a.map(function(a){return a.placement}));var e=a.filter(Boolean).map(function(a){return b("ApiAdPageTypeToPlatformMap")[a]});return d&&Array.from(d.keys()).every(function(a){return e.has(a)})?[{current:c,original:c}]:[]}};e.exports=a}),null);
__d("AdsAdgroupProductSetFieldsPrefiller",["AdsAPIAdgroupPaths","isTruthy"],(function(a,b,c,d,e,f){"use strict";var g=[(a=b("AdsAPIAdgroupPaths")).CREATIVE.APPLINK_TREATMENT,a.CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.FORCE_SINGLE_LINK,a.CREATIVE.PRODUCT_SET_ID,a.CREATIVE.TEMPLATE_URL_SPEC.path].map(function(a){return{current:a,original:a}});c={key:"productSetID",genPaths:function(a){a=(a=a.current.campaign.promoted_object)==null?void 0:a.product_set_id;return b("isTruthy")(a)?g:[]}};e.exports=c}),null);
__d("AdsAdgroupTrackingSpecsUtils",["AdsAppUtils"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return!b("AdsAppUtils").isMobileAppObjective(a,c)}function c(a){var b;return[(b={},b["action.type"]=["offsite_conversion"],b.fb_pixel=[a],b)]}e.exports={getTrackingSpecFromPixelID:c,supportsMobileAppTracking:a}}),null);
__d("AdsAdgroupTrackingSpecsPrefiller",["AdsActionSpecUtils","AdsAdgroupTrackingSpecsUtils","AdsAPIAdgroupPaths","AdsAPICampaignRecordUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAPIAdgroupPaths").TRACKING_SPECS;a={key:"tracking_specs",genPaths:function(a){var b=a.original.adgroup.getIn(g);return!b?[]:[].concat(h(b),i(b,a.current.campaignGroup,a.current.campaign)).map(function(a){return{current:j(a),original:j(a)}})}};function h(a){return b("AdsActionSpecUtils").getPixelTrackingSpecIndices(a.toJS())}function i(a,c,d){c=c.objective;d=b("AdsAPICampaignRecordUtils").getPromotedObjectType(c,d);return!b("AdsAdgroupTrackingSpecsUtils").supportsMobileAppTracking(c,d)?[]:b("AdsActionSpecUtils").getMobileAppTrackingSpecIndices(a.toJS())}function j(a){return[].concat(g,[""+a])}e.exports=a}),null);
__d("AdsOfflineAdUtils",["AdsAPIObjectives","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return a===b("AdsAPIObjectives").CONVERSIONS&&c===b("AdsPromotedObjectTypes").OFFLINE_EVENT_SET}e.exports={isOfflineObjective:a}}),null);
__d("AdsAdgroupURLTagsUtils",["AdsAPIObjectives","AdsAppUtils","AdsOfflineAdUtils","AdsPromotedObjectTypes","AdsWebsiteAdUtils"],(function(a,b,c,d,e,f){"use strict";var g=new Set([(c=b("AdsAPIObjectives")).BRAND_AWARENESS,c.CANVAS_APP_ENGAGEMENT,c.CANVAS_APP_INSTALLS,c.LEAD_GENERATION,c.MESSAGES,c.POST_ENGAGEMENT,c.REACH,c.EVENT_RESPONSES,c.PRODUCT_CATALOG_SALES,c.VIDEO_VIEWS,c.STORE_VISITS]);function a(a,c){return g.has(a)||b("AdsWebsiteAdUtils").isWebsiteConversionsObjective(a,c)||b("AdsWebsiteAdUtils").isWebsiteClickObjective(a,c)||b("AdsWebsiteAdUtils").isWebsiteMessengerObjective(a,c)||b("AdsAppUtils").isCanvasAppInstall(a,c)||b("AdsAppUtils").isCanvasAppEngagement(a,c)||b("AdsOfflineAdUtils").isOfflineObjective(a,c)||c===b("AdsPromotedObjectTypes").PRODUCT_SET}e.exports={supportsURLTags:a}}),null);
__d("AdsAdgroupURLTagsPrefiller",["AdsAdgroupURLTagsUtils","AdsAPIAdgroupPaths","AdsAPICampaignRecordUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsAPIAdgroupPaths").CREATIVE.URL_TAGS;a={key:"trackings",genPaths:function(a){var c=a.current.campaignGroup.objective;a=b("AdsAPICampaignRecordUtils").getPromotedObjectType(c,a.current.campaign);return b("AdsAdgroupURLTagsUtils").supportsURLTags(c,a)?[{current:g,original:g}]:[]}};e.exports=a}),null);
__d("AdsPagePostBatchLoadErrorDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.setMultipleErrors(b.errors)}};e.exports=a}),null);
__d("AdsPagePostBatchLoadedDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.setMultipleValueOrError(b.posts)}};e.exports=a}),null);
__d("PACExisingPostDataManager",["AdsGraphAPI","FBLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(){}var c=a.prototype;c.convertPostToAssetFeedSpec=function(a,c,d){c=["asset_feed_spec_from_existing_post","object_story_id("+c+")","instagram_actor_id("+d+")"].join(".");return b("AdsGraphAPI").get(e.id).adaccount(a).get({fields:c}).then(function(a){return a.asset_feed_spec_from_existing_post},function(a){b("FBLogger")("ads").catching(a).mustfix("Fetching FB post to asset_feed_spec error");return a})};return a}();e.exports=new a()}),null);
__d("AdsAssetFeedSpecForPostProviderPlugin",["LoadObject","LoadObjectMap","PACExisingPostDataManager","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={initialState:function(a){return b("LoadObjectMap").createKeyed(function(c){c.forEach(function(c){b("promiseDone")(b("PACExisingPostDataManager").convertPostToAssetFeedSpec(c.accountID,c.objectStoryID,c.instagramActorID),function(d){a(function(a){return a.set(c,b("LoadObject").withValue(d))})},function(d){a(function(a){return a.set(c,b("LoadObject").withError(d))})}),a(function(a){return a.set(c,b("LoadObject").loading())})})},function(a){return[a.accountID,a.instagramActorID,a.objectStoryID].join(":")})}};e.exports=a}),null);
__d("AdsPlacementCustomizationClearAssetFeedStoreOnPostChangeTriggerReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.clear()}};e.exports=a}),null);
__d("AdsPagePostDataManager",["fbt","AdsBaseDataManager","AdsGraphAPI","AdsPagePostBatchLoadedDataAction","AdsPagePostBatchLoadErrorDataAction","AdsPostFields","adsPagePostResponseShaper","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="U";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.loadAll=function(a){var b=this;a.forEach(function(a){return b.load(a)})};d.load=function(a){var c=this;b("promiseDone")(b("AdsGraphAPI").get(e.id).object("page_post",a).batched().get({date_format:h,fields:b("AdsPostFields")}),function(d){d=b("adsPagePostResponseShaper")(d);return c.__handleSuccess(["load"],a,null,d)},this.__handleError.bind(this,["load"],a,null))};d.__onBatchLoaded=function(a,c){b("AdsPagePostBatchLoadedDataAction").dispatch({posts:a,versions:c},{line:"67",module:"AdsPagePostDataManager.js"})};d.__onBatchLoadError=function(a,c){var d=this,e=new Map();a.forEach(function(a,b){e.set(b,d.__getObjectError(b,a))});b("AdsPagePostBatchLoadErrorDataAction").dispatch({errors:e,versions:c},{line:"85",module:"AdsPagePostDataManager.js"})};d.__getObjectTypeLabel=function(){return g._("Page post")};return c}(b("AdsBaseDataManager"));c=new a();e.exports=c}),null);
__d("AdsPagePostProviderPlugin",["AdsPagePostDataManager","LoadObjectMap"],(function(a,b,c,d,e,f){"use strict";a={initialState:function(a){return b("LoadObjectMap").create(function(c){a(function(a){return a.setLoading(c)}),b("AdsPagePostDataManager").loadAll(Array.from(c))})}};e.exports=a}),null);
__d("AdsAdgroupUsingExistingPostPrefiller",["AdsAdgroupInstagramActorIDPrefillUtils","AdsAPIAdgroupPaths","AdsLoadStateUtils_LEGACY","AdsPagePostProvider","AdsPagePostUtils","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPagePostProvider").toFluxStore(),h=(a=b("AdsAPIAdgroupPaths")).CREATIVE.OBJECT_ID,i=a.CREATIVE.OBJECT_STORY_ID,j=a.CREATIVE.OBJECT_STORY_SPEC.path,k=a.CREATIVE.OBJECT_TYPE,l=a.CREATIVE.OBJECT_URL;c=b("adsCreateStoreSelector")([g],function(a){a=a.adgroup;a=(a=a.creative)==null?void 0:a.object_story_id;a=a!=null?b("AdsLoadStateUtils_LEGACY").fromLoadObjectTreatEmptyAsLoading(g.getState().get(a)):null;a=a!=null?b("AdsLoadStateUtils_LEGACY").toLoadObject(a):null;return{originalPagePostLoadObject:a}},{name:e.id+".selector"});d={key:"usingExistingPost",genExtraDataSelector:c,genPaths:function(a,c){var d=a.current.campaign.optimization_goal,e=a.current.campaignGroup.objective,f=a.current.campaign.destination_type;c=c&&c.originalPagePostLoadObject;c=c&&c.isDone()?c.getValueEnforcing():null;c=!!c&&b("AdsPagePostUtils").isVisible(c,e,d,null,null,null,f);return c?[{current:h,original:h},{current:i,original:i},{current:j,original:j},{current:k,original:k},{current:l,original:l}].concat(b("AdsAdgroupInstagramActorIDPrefillUtils").genPaths(a)):[]},isExtraDataReady:function(a){a=a&&a.originalPagePostLoadObject;return!a||a.isDone()}};e.exports=d}),null);
__d("AdsVideoImageHashObjectives",["AdsAPIObjectives","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Set([b("AdsAPIObjectives").LINK_CLICKS,b("AdsAPIObjectives").CONVERSIONS,b("AdsAPIObjectives").BRAND_AWARENESS]);e.exports=a}),null);
__d("AdsAdgroupVideoImageHashPrefiller",["AdsAPIAdgroupPaths","AdsVideoImageHashObjectives"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_HASH,h=[{current:g,original:g}],i=[];a={key:"videoImageHash",genPaths:function(a){var c=a.original.adgroup.getIn(g);a=a.current.campaignGroup.objective;a=b("AdsVideoImageHashObjectives").has(a);return c!=null&&a?h:i}};e.exports=a}),null);
__d("AdsViewTagsObjectives",["AdsAPIObjectives","immutable"],(function(a,b,c,d,e,f){"use strict";c=b("immutable").Set([(a=b("AdsAPIObjectives")).BRAND_AWARENESS,a.REACH,a.LEAD_GENERATION,a.PAGE_LIKES,a.POST_ENGAGEMENT,a.VIDEO_VIEWS,a.LINK_CLICKS,a.CONVERSIONS,a.STORE_VISITS]);e.exports=c}),null);
__d("AdsAdgroupViewTagsPrefiller",["AdsAPIAdgroupPaths","AdsViewTagsObjectives"],(function(a,b,c,d,e,f){"use strict";a={key:"viewTag",genPaths:function(a){var c=a.original.adgroup.view_tags;a=a.current.campaignGroup.objective;a=b("AdsViewTagsObjectives").has(a);return c&&a?[{current:b("AdsAPIAdgroupPaths").VIEW_TAGS,original:b("AdsAPIAdgroupPaths").VIEW_TAGS}]:[]}};e.exports=a}),null);
__d("AdsAdgroupPrefillers",["AdsAdgroupCallToActionTypePrefiller","AdsAdgroupCallToActionValuePrefiller","AdsAdgroupChildAttachmentsPrefiller","AdsAdgroupDestinationPrefiller","AdsAdgroupImageCropsPrefiller","AdsAdgroupOfferIDPrefiller","AdsAdgroupPageActorOverridePrefiller","AdsAdgroupPageIDAndInstagramActorIDPrefiller","AdsAdgroupPlatformCustomizationsPrefiller","AdsAdgroupProductSetFieldsPrefiller","AdsAdgroupTrackingSpecsPrefiller","AdsAdgroupURLTagsPrefiller","AdsAdgroupUsingExistingPostPrefiller","AdsAdgroupVideoImageHashPrefiller","AdsAdgroupViewTagsPrefiller"],(function(a,b,c,d,e,f){"use strict";a=[b("AdsAdgroupCallToActionTypePrefiller")];c=[b("AdsAdgroupChildAttachmentsPrefiller"),b("AdsAdgroupCallToActionValuePrefiller"),b("AdsAdgroupDestinationPrefiller"),b("AdsAdgroupImageCropsPrefiller"),b("AdsAdgroupOfferIDPrefiller"),b("AdsAdgroupPageActorOverridePrefiller"),b("AdsAdgroupPageIDAndInstagramActorIDPrefiller"),b("AdsAdgroupPlatformCustomizationsPrefiller"),b("AdsAdgroupProductSetFieldsPrefiller"),b("AdsAdgroupTrackingSpecsPrefiller"),b("AdsAdgroupURLTagsPrefiller"),b("AdsAdgroupUsingExistingPostPrefiller"),b("AdsAdgroupViewTagsPrefiller"),b("AdsAdgroupVideoImageHashPrefiller")];e.exports={orderedPrefillers:a,unorderedPrefillers:c}}),null);
__d("AdsAdgroupMediaMutators",["AdsAPIAdAssetFeedFields","AdsAPIAdAssetFeedImagesFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsUnifiedCreativeAPIFieldMappings","AdsUnifiedCreativeAPIFields","immutable","isFalsey","isTruthy","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){return a.withMutations(function(a){a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path),Object.keys(c).forEach(function(d){var e=c[d],f=e.imageCrops,g=e.imageHash;e=e.imageURL;d=[].concat(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,[d]);a.setIn([].concat(d,["image_hash"]),g).setIn([].concat(d,["image_crops"]),f).setIn([].concat(d,["image_url"]),e)})})}function a(a,c,d){__p&&__p();var e=d.imageCrops,f=d.imageHash,h=d.imageURL;d=d.platformCustomizations;var i=a;if(b("AdsAssetFeedUtils").isAdgroupUsingNonTextOnlyDofAssetFeedSpec(a)){a=b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(i,b("AdsAPIAdAssetFeedFields").IMAGES);i=b("AdsAssetFeedMutationUtils").setImageAssetAtIndex(i,c,a,f,h);return e?b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(i,c,b("AdsUnifiedCreativeAPIFields").imageHash,a,b("AdsAPIAdAssetFeedImagesFields").IMAGE_CROPS,b("immutable").fromJS(e)):b("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(i,c,b("AdsUnifiedCreativeAPIFields").imageHash,a,b("AdsAPIAdAssetFeedImagesFields").IMAGE_CROPS)}else{a=c.getUnifiedCreativeAPIFieldMapping(i);a.imageCrops&&(i=i.setIn(a.imageCrops,b("immutable").fromJS(e)));i=b("isTruthy")(f)?i.setIn(b("nullthrows")(a.imageHash),f).deleteIn(b("nullthrows")(a.imageURL)):i.setIn(b("nullthrows")(a.imageURL),h).deleteIn(b("nullthrows")(a.imageHash))}d?i=g(i,d):i=i.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path);return i}function h(a,c){return a.withMutations(function(a){a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path),Object.keys(c).forEach(function(d){var e=c[d];d=[].concat(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,[d]);var f=e.imageURL;e=e.videoID;a.setIn([].concat(d,["video_id"]),e);b("isTruthy")(f)&&a.setIn([].concat(d,["image_url"]),f)})})}function c(a,c,d,e,f,g){__p&&__p();e===void 0&&(e=null);f===void 0&&(f=null);if(b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(a))return b("AdsAssetFeedMutationUtils").setVideoAssetAtIndex(a,c,b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(a,b("AdsAPIAdAssetFeedFields").VIDEOS),d,e);c=c.getUnifiedCreativeAPIFieldMapping(a);a=a;if((g==null||g==={})&&b("isFalsey")(d)){a=a.setIn(b("nullthrows")(c.videoID),null);a=a.setIn(b("nullthrows")(c.videoThumbnailURL),null);a=a.setIn(b("nullthrows")(c.videoThumbnailSource),null);a=a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.INTERACTIVE_COMPONENTS_SPEC.path);a=i(a);return a}g&&Object.keys(g).length!==0?a=h(a,g):b("isTruthy")(d)&&(a=a.setIn(b("nullthrows")(c.videoID),d),b("isTruthy")(e)&&(a=i(a),a=a.setIn(b("nullthrows")(c.videoThumbnailURL),e)),f&&(a=a.setIn(b("nullthrows")(c.videoThumbnailSource),f)));return a}function i(a){var c;c=b("isTruthy")((c=a.creative)==null?void 0:(c=c.object_story_spec)==null?void 0:(c=c.video_data)==null?void 0:c.image_hash);return c?a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_HASH):a}function d(a){return a.withMutations(function(a){var c=a;Object.values(b("AdsUnifiedCreativeAPIFieldMappings")).forEach(function(a){a.imageURL&&c.deleteIn(a.imageURL),a.imageHash&&c.deleteIn(a.imageHash),a.imageCrops&&(c=c.deleteIn(a.imageCrops))});c.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path)})}function f(a){return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path)}e.exports={removeImage:d,removePlatformCustomizations:f,setImage:a,setPlatformCustomizations:g,setVideo:c}}),null);
__d("AdsPrefillAdgroupMutators",["AdsAdgroupMediaMutators","AdsAPIAdAssetFeedImagesFields","AdsAPIAdgroupRecordUtils","AdsAssetFeedFieldUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f){var h=a,i=b("AdsAPIAdgroupRecordUtils").getSingleMediaType(a);i==="IMAGE"?a=b("AdsAdgroupMediaMutators").removeImage(a):i==="CAROUSEL"&&f.some(function(a){return a.name===b("AdsUnifiedCreativeAPIFields").childAttachments.name})&&(h=j(h,c,d,e));f.forEach(function(a,b){h=g(h,c,d,e,a)});i==="IMAGE"&&(h=k(h,c));return h}function g(a,b,c,d,e){b=e.getPath(a,b);e=e.getValue(c,d);return b&&e?a.setIn(b,e):a}function h(a,b,c){return b.get(c)?a.set(c,b.get(c)):a}function i(a,b){__p&&__p();if(a&&b){var c=Math.min(a.size,b.size);for(var d=0;d<c;d+=1){var e=a.get(d),f=b.get(d);!f.get("video_id")?(e=e["delete"]("picture")["delete"]("image_hash")["delete"]("video_id"),e=h(e,f,"image_crops"),e=h(e,f,"image_hash")):(e=e["delete"]("image_crops")["delete"]("image_hash")["delete"]("picture"),e=h(e,f,"video_id"));e=h(e,f,"picture");a=a.set(d,e)}}return a}function j(a,c,d,e){var f=b("AdsUnifiedCreativeAPIFields").childAttachments.getValue(a,c);d=b("AdsUnifiedCreativeAPIFields").childAttachments.getValue(d,e);f=i(f,d);return a.setIn(b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(a,c),f)}function k(a,c){var d=b("AdsUnifiedCreativeAPIFields").imageHash.getValue(a,c);d=b("AdsAssetFeedFieldUtils").firstAsset_TALK_WITH_ACE_BEFORE_USE(d,b("AdsAPIAdAssetFeedImagesFields").HASH);var e=b("AdsUnifiedCreativeAPIFields").imageURL.getValue(a,c);e=b("AdsAssetFeedFieldUtils").firstAsset_TALK_WITH_ACE_BEFORE_USE(e,b("AdsAPIAdAssetFeedImagesFields").URL);d&&e&&(a=a.deleteIn(b("AdsUnifiedCreativeAPIFields").imageURL.getPathOrThrow(a,c)));return a}function c(a,c){var d=c.getUnifiedCreativeAPIFieldMapping(a);c=Object.keys(d.toJS()).filter(function(a){return!!d.get(a)});return c.map(function(a){return b("nullthrows")(b("AdsUnifiedCreativeAPIFields")[a])})}e.exports={getDefaultPrefillFields:c,mutateAdgroupByField:g,mutateAdgroupToPrefill:a}}),null);
__d("AdsUEditorAdgroupObjectiveMutators",["AdsAdgroupCreation","AdsAdgroupCreativePluginResolver","AdsAdgroupLinkPostFormatMutators","AdsAdgroupPrefillers","AdsAdgroupPrefillerUtils","AdsAdgroupSpecPathPluginResolver","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAPIAdgroupRecord","AdsAPIAdgroupRecordUtils","AdsAPICampaignPaths","AdsAPICampaignRecordUtils","AdsAPIObjectives","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsAudienceDirectConfig","AdsChildAttachmentsUtils","AdsDCOUtils","AdsMediaFormatMutators","AdsMutators","AdsPlacementAssetEligibilityUtils","AdsPlacementEligibilityInfoUtils","AdsPrefillAdgroupMutators","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorSetPostEditModeMutators","AdsUIMediaFormat","AdsUIMediaFormatUtils","AdsUnifiedCreativeAPIFields","ApiDynamicCreativeOptimizationTypes","CatalogVertical","adsCallToActionGetDefaultCallToActionType","adsCampaignGetOfferStateType","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAdgroupLinkPostFormatMutators").setLinkPostFormatWithExtraData_UNPURE,h=b("AdsMediaFormatMutators").setMediaFormat;function a(a,c,d,e){var f=a.adset_id,g=a.campaign_id;c=b("nullthrows")(c.get(g));g=b("nullthrows")(d.get(f));d=i(a,g,c);f=b("AdsAPIAdgroupRecordUtils").getPageID(a,d.adgroupSpecPathPlugin);g=f?e.get(f):null;return babelHelpers["extends"]({},d,{page:g})}function i(a,c,d){a=d.objective;var e=d.buying_type,f=b("AdsAPICampaignRecordUtils").getPromotedObjectType(a,c),g=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:b("AdsAudienceDirectConfig").accountType,objective:a,promotedObjectType:f}),h=b("AdsAdgroupCreativePluginResolver").resolve({accountType:b("AdsAudienceDirectConfig").accountType,objective:a,offerStateType:b("adsCampaignGetOfferStateType")(c),promotedObjectType:f,catalogVertical:b("CatalogVertical").NONE});return{adgroupCreativePlugin:h,adgroupSpecPathPlugin:g,campaign:c,campaignGroup:d,objective:a,buyingType:e,promotedObjectType:f}}function c(a,c,d){__p&&__p();if(b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a)){var e=d.newAdgroupExtraData,f=d.oldAdgroupExtraData;f=b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(b("AdsAPIAdgroupRecordUtils").getObjectType(a),a,f.objective);f=k(f,c,d);if(b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(a))if(b("AdsDCOUtils").isSupportedObjectiveForRegularDCO(e.buyingType,e.objective))return b("AdsDCOUtils").convertStorySpecAdToDCOAd(f,e.objective,{hostID:d.hostID});else return f;else if(t(a,f)&&b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a)&&j(d)){var g,h=b("AdsUEditorAdgroupAssetFeedMutators").convertToAssetFeedSpec(b("AdsAPIAdgroupRecordUtils").getObjectType(f),f,e.objective,b("ApiDynamicCreativeOptimizationTypes").PLACEMENT);h=h.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path,(g=a.creative)==null?void 0:g.asset_feed_spec);if(!b("AdsDCOUtils").isSupportedObjectiveForTextDOF(e.buyingType,e.objective)){h=b("AdsAssetFeedMutationUtils").removeDofOptionAssetsFromPACAssetFeed(h,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.BODIES);return b("AdsAssetFeedMutationUtils").removeDofOptionAssetsFromPACAssetFeed(h,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES)}return h}else return f}else return k(a,c,d)}function j(a){var c,d=a.account,e=a.accountBlockList;a=a.newAdgroupExtraData;c=(c=a.campaign.promoted_object)==null?void 0:c.object_store_url;d=b("AdsPlacementEligibilityInfoUtils").buildEligibilityInformationFromCampaignSpec(a.campaign,a.buyingType,d.capabilities,a.objective,e,c);return b("AdsPlacementAssetEligibilityUtils").isCampaignEligibleForPlacementAssetCustomizationPhase2(a.campaign,d)}function k(a,c,d){__p&&__p();var e=d.account,f=d.newAdgroupExtraData,g=d.oldAdgroupExtraData,h=d.prefillersExtraData;d=m(e,a,c,f,g).setIn(b("AdsAPIAdgroupPaths").NAME,a.name);if(b("AdsAPIAdgroupRecordUtils").isExistingPostAd(a))return v(d,a,f,g,h);return!o(e,a,d,f,g)?d:b("AdsMutators").chain(function(b){return r(b,a,f,g)},function(b){return s(b,a,f)},function(b){return u(b,a,f,g)},function(b){return x(b,a,f,g,h)},function(b){return w(b,a,f,g)})(d)}function l(a,b,c,d){return{current:{adgroup:a,campaign:c.campaign,campaignGroup:c.campaignGroup},original:{adgroup:b,campaign:d.campaign,campaignGroup:d.campaignGroup}}}function m(a,c,d,e,f){d=e.campaignGroup.toJS();var g=e.campaign.toJS();g=new(b("AdsAPIAdgroupRecord"))(b("AdsAdgroupCreation").getDefaults(g,d,a,null,null,null,f.page,e.promotedObjectType,null));return n(g,c)}function n(a,c){c=c.tracking_specs;return!c||!c.size?a.deleteIn(b("AdsAPIAdgroupPaths").TRACKING_SPECS):a.setIn(b("AdsAPIAdgroupPaths").TRACKING_SPECS,b("immutable").fromJS(Array(c.size).fill({})))}function o(a,b,c,d,e){b=q(b,e.adgroupSpecPathPlugin);e=p(a,c,d.campaign,d.campaignGroup,d.adgroupCreativePlugin);return e.has(b)}function p(a,c,d,e,f){f=f.getSupportedMediaFormats({account:a,adgroup:c,campaign:d});return b("AdsUIMediaFormatUtils").getSupportedUIMediaFormats(f,e,f.has("CAROUSEL"),!0,!1,!1)}function q(a,c){return b("AdsUIMediaFormatUtils").getUIFormat(a,c,!1)}function r(a,c,d,e){var f=b("AdsAPIAdgroupRecordUtils").getLinkPostFormat(a,d.adgroupSpecPathPlugin);c=b("AdsAPIAdgroupRecordUtils").getLinkPostFormat(c,e.adgroupSpecPathPlugin);if(f===c)return a;e=d.campaignGroup.objective;d=(f=d.campaignGroup.promoted_object)==null?void 0:f.page_id;return g(c,a,null,{objective:e,campaignGroupPromotedPageID:d})}function s(a,c,d){if(t(a,c))return a;c=b("AdsAPIAdgroupRecordUtils").getSingleMediaType(c);return h(c,a,d.adgroupSpecPathPlugin,d.objective)}function t(a,c){a=b("AdsAPIAdgroupRecordUtils").getSingleMediaType(a);c=b("AdsAPIAdgroupRecordUtils").getSingleMediaType(c);return a===c}function u(a,c,d,e){__p&&__p();if(!b("AdsChildAttachmentsUtils").isCarouselAd(a))return a;if(d.campaignGroup.objective===b("AdsAPIObjectives").MESSAGES||e.campaignGroup.objective===b("AdsAPIObjectives").MESSAGES)return a;var f=b("AdsUnifiedCreativeAPIFields").childAttachments;d=f.getPath(a,d.adgroupSpecPathPlugin);f=f.getPath(c,e.adgroupSpecPathPlugin);if(!d||!f)return a;e=c.getIn(f);return!e||!e.size?a.deleteIn(d):a.setIn(d,b("AdsChildAttachmentsUtils").getDefaultChildAttachments(e.size))}function v(a,c,d,e,f){if(!d.adgroupCreativePlugin.allowUsingExistingPost())return a;a=b("AdsUEditorSetPostEditModeMutators").setToUsingExistingPost({adgroup:a,cachedCreative:null,cachedPageID:null,defaultPagePost:null,specPathPlugin:d.adgroupSpecPathPlugin});return x(a,c,d,e,f)}function w(a,c,d,e){__p&&__p();if(d.objective===b("AdsAPIObjectives").EVENT_RESPONSES){var f=d.adgroupSpecPathPlugin.getUnifiedCreativeAPIFieldMapping(a).callToActionType,g=b("adsCallToActionGetDefaultCallToActionType")(d.objective,d.promotedObjectType);return a.setIn(b("nullthrows")(f),g)}f=(f=a.creative)==null?void 0:(g=f.object_story_spec)==null?void 0:g.video_data;if(f&&e.objective===b("AdsAPIObjectives").EVENT_RESPONSES)return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.EVENT_ID);g=q(c,e.adgroupSpecPathPlugin);if(d.objective===b("AdsAPIObjectives").PAGE_LIKES&&g===b("AdsUIMediaFormat").SINGLE_VIDEO){c=(f=e.page)==null?void 0:f.id;g=d.adgroupSpecPathPlugin.getUnifiedCreativeAPIFieldMapping(a).callToActionValue;if(g!=null&&c!=null)return a.setIn(g.concat("page"),c)}return a}function x(a,c,d,e,f){return b("AdsMutators").chain(function(a){return b("AdsAdgroupPrefillerUtils").prefillUsingPrefillers(l(a,c,d,e),b("AdsAdgroupPrefillers").orderedPrefillers,f)},function(a){return y(a,c,d,e)},function(a){return b("AdsAdgroupPrefillerUtils").prefillUsingPrefillers(l(a,c,d,e),b("AdsAdgroupPrefillers").unorderedPrefillers,f)})(a)}function y(a,c,d,e){var f,g=b("immutable").Set([(f=b("AdsUnifiedCreativeAPIFields")).callToAction,f.callToActionType,f.callToActionValue,f.childAttachments,f.imageCrops,f.instagramActorID,f.linkURL,f.offerID,f.pageID,f.pageWelcomeMessage,f.productSetID].map(function(a){return a.name}));f=b("AdsPrefillAdgroupMutators").getDefaultPrefillFields(a,d.adgroupSpecPathPlugin).filter(function(a){return!g.has(a.name)});return b("AdsPrefillAdgroupMutators").mutateAdgroupToPrefill(a,d.adgroupSpecPathPlugin,c,e.adgroupSpecPathPlugin,f)}function d(a){var c=a.tracking_specs;if(!c)return a;c=c.filter(function(a){return!a.isEmpty()});return c.isEmpty()?a.deleteIn(b("AdsAPIAdgroupPaths").TRACKING_SPECS):a.setIn(b("AdsAPIAdgroupPaths").TRACKING_SPECS,c)}f={getOldAdgroupExtraData:a,getAdgroupExtraData:i,removeEmptyTrackingSpec:d,convertAdgroup:c};e.exports=f}),null);
__d("AdsDofMutationUtils",["AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsDCODegreesOfFreedomUtils","AdsUEditorAdgroupAssetFeedMutators","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={setAssetFieldOrValueInAdgroup:function(a,c,d,e,f,g){__p&&__p();g===void 0&&(g=[]);if(!b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a))return a.setIn(d.getPathOrThrow(a,c),f);var h=a;for(var g=g,i=Array.isArray(g),j=0,g=i?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=g.length)break;k=g[j++]}else{j=g.next();if(j.done)break;k=j.value}k=k;h=h.deleteIn(k.getPathOrThrow(h,c))}if(b("AdsDCODegreesOfFreedomUtils").isDOFAdgroupWithUniqueDOFAssets(h)){k=b("AdsAssetFeedUtils").isDofWithImageAdgroupFromSpec(a);h=b("AdsUEditorAdgroupAssetFeedMutators").convertFromDOFAssetFeedSpec(h,k)}if(b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(h))return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(h,c,d,0,e,f);else return h.setIn(d.getPathOrThrow(h,c),f)}};e.exports=a}),null);
__d("AdsUEditorAdgroupOfferMutators",["AdsAPIAdAssetFeedTitlesFields","AdsAPIAdgroupPaths","AdsAPIChildAttachmentPaths","AdsAPIObjectives","AdsAssetFeedUtils","AdsCallToActionTypesCond","AdsDofMutationUtils","AdsMutators","AdsPromotedObjectTypes","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupMutators","AdsUEditorCampaignAdObjectsUtils","AdsUnifiedCreativeAPIFields","immutable","isTruthy","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){return b("AdsMutators").chain(function(a){var d=b("AdsUnifiedCreativeAPIFields").offerID.getPath(a,c);return d?a.deleteIn(d):a},function(a){var d=b("AdsUnifiedCreativeAPIFields").callToActionType.getPath(a,c);return d?a.setIn(d,c.getDefaultCallToActionType(a)):a},function(a){var d=b("AdsUnifiedCreativeAPIFields").message.getPath(a,c);return d?a.setIn(d,j(a,c)):a},function(a){return h(a,c,!1)})(a)}function h(a,c,d,e,f){__p&&__p();var g=b("AdsUnifiedCreativeAPIFields").childAttachments.getPath(a,c);if(!g)return a;g=a.getIn(g);if(!g)return a;d&&b("isTruthy")(e)&&b("isTruthy")(f)?g=g.map(function(a){return a.setIn(b("AdsAPIChildAttachmentPaths").LINK,e).setIn(b("AdsAPIChildAttachmentPaths").NAME,f).setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.TYPE,b("AdsCallToActionTypesCond").TYPES.GET_OFFER_VIEW.name)}):g=g.map(function(d){return d.setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.TYPE,c.getDefaultCallToActionType(a))});return a.setIn(b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(a,c),g)}function i(a,c,d,e,f){var g;d=a.setIn(b("AdsUnifiedCreativeAPIFields").offerID.getPathOrThrow(a,c),d);var h=b("AdsUnifiedCreativeAPIFields").headline.getValue(a,c),i=b("AdsUnifiedCreativeAPIFields").linkDescription.getValue(a,c);i=b("immutable").fromJS([(g={},g.link=f||"",g.static_card=!0,g.name=e||"",g.call_to_action=(e={},e.type=b("AdsCallToActionTypesCond").TYPES.GET_OFFER_VIEW.name,e),g),(e={},e.description=i,e.name=h,e.link=f||"",e.call_to_action=(g={},g.type=b("AdsCallToActionTypesCond").TYPES.SHOP_NOW.name,g),e)]);return d.deleteIn(b("AdsUnifiedCreativeAPIFields").headline.getPathOrThrow(a,c)).deleteIn(b("AdsUnifiedCreativeAPIFields").linkDescription.getPathOrThrow(a,c)).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.FORCE_SINGLE_LINK).setIn(b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(a,c),i)}function j(a,c){a=a.getIn(b("AdsUnifiedCreativeAPIFields").message.getPathOrThrow(a,c));return a||c.getDefaultMessage()}function k(a,c,d,e,f){var g=null;b("AdsAssetFeedUtils").isDofAdgroupFromSpec(a)?g=b("AdsDofMutationUtils").setAssetFieldOrValueInAdgroup(a,c,b("AdsUnifiedCreativeAPIFields").headline,b("AdsAPIAdAssetFeedTitlesFields").TEXT,e,[b("AdsUnifiedCreativeAPIFields").headline,b("AdsUnifiedCreativeAPIFields").linkDescription]):g=a.setIn(b("AdsUnifiedCreativeAPIFields").headline.getPathOrThrow(a,c),e);return g.setIn(b("AdsUnifiedCreativeAPIFields").offerID.getPathOrThrow(g,c),d).setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(g,c),f).setIn(b("AdsUnifiedCreativeAPIFields").callToActionType.getPathOrThrow(g,c),b("AdsCallToActionTypesCond").TYPES.GET_OFFER_VIEW.name).setIn(b("AdsUnifiedCreativeAPIFields").message.getPathOrThrow(g,c),j(g,c))}function a(a,c,d,e,f,g){a=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType(a);if(a===b("AdsPromotedObjectTypes").PRODUCT_SET)return i(c,d,e,f,g);a=k(c,d,e,f,g);return h(a,d,!0,g,f)}function c(a,c,d,e,f){__p&&__p();return b("AdsMutators").chain(function(a){return g(a,d)},function(c){return b("AdsUEditorAdgroupMutators").removeImagesAndVideos(a,c,d,f)},function(a){return b("AdsUEditorAdgroupAssetFeedMutators").removeAllMediaAssets(a,b("nullthrows")(d.pivots.objective),d)},function(a){var c=b("AdsUnifiedCreativeAPIFields").linkURL.getPath(a,d);return c?a.deleteIn(c):a},function(a){var c=b("AdsUnifiedCreativeAPIFields").headline.getPath(a,d);return c?a.deleteIn(c):a},function(a){var c=b("AdsUnifiedCreativeAPIFields").imageHash.getPath(a,d);return c?a.deleteIn(c):a},function(a){var c=b("AdsUnifiedCreativeAPIFields").childAttachments.getPath(a,d);if(!c)return a;var f=a.getIn(c);f=f&&f.map(function(a){return a.deleteIn(b("AdsAPIChildAttachmentPaths").LINK).deleteIn(b("AdsAPIChildAttachmentPaths").NAME)});return e===b("AdsAPIObjectives").PRODUCT_CATALOG_SALES?a.deleteIn(c):a.setIn(c,f)})(c)}d={getMessage:j,removeOfferIDState:g,setDynamicAdsDefaultState:i,updateChildAttachments:h,setAdgroupCreativeFields:k,setOfferInfo:a,removeOfferInfo:c};e.exports=d}),null);
__d("AdsUEditorMockupMutationUtils",["AdsAPIAdgroupPaths","AdsAPIObjectives","AdsAssetFeedUtils","FBLogger","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){if(b("AdsAssetFeedUtils").doesAdgroupHaveImages(a)){b("FBLogger")("ads").mustfix("Trying to set creative with images to single video. Adgroup: %s",a.id);return a}return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("immutable").List.of("SINGLE_VIDEO"))}function a(a,c){var d=a.adgroup;return c===b("AdsAPIObjectives").VIDEO_VIEWS&&b("AdsAssetFeedUtils").hasPACAutomaticFormat(d)?babelHelpers["extends"]({},a,{adgroup:g(d)}):a}c={prepareMockupAdObjects:a};e.exports=c}),null);
__d("AdsUEditorSetPostEditModeMutators",["AdsAPIAdgroupCreativeRecord","AdsAPIAdgroupLinkDataRecord","AdsAPIAdgroupObjectStorySpecRecord","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAssetFeedUtils","AdsCallToActionTypesCond","AdsDCOUtils","AdsInstagramActorIDUtils","AdsMessengerConstants","AdsMessengerVisualEditorUtils","AdsObjectTypeUtils","AdsPagePostUtils","AdsPromotedObjectTypes","AdsUEditorAdgroupObjectiveMutators","AdsUEditorMockupMutationUtils","AdsUnifiedCreativeAPIFields","Instant","gkx","isTruthy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();d=b("AdsAPIAdgroupLinkDataRecord").getSpec().call_to_action.getSpec().value;var g=b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name,h=new d({app_destination:"MESSENGER"}),i=new(b("AdsAPIAdgroupObjectStorySpecRecord"))(),j=new(b("AdsAPIAdgroupCreativeRecord"))(),k=86400;function l(a){__p&&__p();var c=a.adgroup,d=a.cachedCreative,e=a.cachedMetadata,f=a.objective,j=a.specPathPlugin;a=a.promotedObjectType;var k=b("AdsInstagramActorIDUtils").getInstagramActorID(c),l=b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(c),m=b("AdsAPIAdgroupRecordUtils").getPageID(c,j),n=c.removeIn(b("AdsAPIAdgroupPaths").CREATIVE.path).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.path,i),o;d&&(n=n.setIn(b("AdsAPIAdgroupPaths").CREATIVE.path,d),o=b("AdsObjectTypeUtils").getObjectTypeFromCreativeSpecType(n));e&&(n=n.setIn(b("AdsAPIAdgroupPaths").METADATA.path,e));n=n.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE,b("isTruthy")(o)?o:b("AdsObjectTypeUtils").getDefaultObjectType(f)).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.PAGE_ID,b("isTruthy")(m)?m:void 0).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.INSTAGRAM_ACTOR_ID,k);if(a===b("AdsPromotedObjectTypes").MESSENGER){d=b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage.getPathOrThrow(n,j);if(n.getIn(d)==null){k=(e=b("AdsUnifiedCreativeAPIFields")).callToActionType.getPathOrThrow(n,j);a=e.callToActionValue.getPathOrThrow(n,j);var p=e.headline.getPathOrThrow(n,j);e=e.linkURL.getPathOrThrow(n,j);j=JSON.stringify(b("AdsMessengerVisualEditorUtils").getStandardTemplateDefaultJSON(m));n=n.setIn(k,g).setIn(a,h).setIn(e,b("AdsMessengerConstants").EMPTY_MESSENGER_LINK).setIn(p,b("AdsMessengerConstants").DEFAULT_HEADLINE.toString()).setIn(d,j)}}m=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID);m!=null&&(n=n.setIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID,m));l&&(n=b("AdsDCOUtils").convertStorySpecAdToDCOAd(n,f));return n}function a(a){__p&&__p();var c,d=a.adgroup,e=a.cachedCreative,f=a.cachedPageID,g=a.defaultPagePost;a=a.specPathPlugin;var h=b("AdsInstagramActorIDUtils").getInstagramActorID(d);a=b("AdsAPIAdgroupRecordUtils").getPageID(d,a);var i=b("AdsAPIAdgroupRecordUtils").getPagePostID(d),l=b("AdsAPIAdgroupRecordUtils").getObjectType(d);d=d.setIn(b("AdsAPIAdgroupPaths").CREATIVE.path,j).setIn(b("AdsAPIAdgroupPaths").METADATA.CAROUSEL_STYLE,"others");if(e&&a===f)return d.setIn(b("AdsAPIAdgroupPaths").CREATIVE.path,e);f=b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(d);e=g==null?void 0:g.pagePost.id;c=g==null?void 0:(c=g.pagePost.from)==null?void 0:c.id;var m=g==null?void 0:g.pagePost.type;g=g==null?void 0:g.createdTime;g=g!=null&&b("Instant").now()-g<k;if(b("isTruthy")(i)&&!f)d=d.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID,i).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE,l);else if(g&&b("isTruthy")(c)&&b("isTruthy")(e)&&b("isTruthy")(m)&&a===c&&b("gkx")("1164264")){f=b("AdsPagePostUtils").convertTypeToCreativeObjectType(m);d=d.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID,e).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE,f)}else d=d.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_ID,b("isTruthy")(a)?a:void 0).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE,l);return d.removeIn(b("AdsAPIAdgroupPaths").CREATIVE.MOCKUP_ID).setIn(b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_ACTOR_ID,h)}function c(a){__p&&__p();var c=a.account,d=a.accountBlockLists,e=a.campaign,f=a.campaignGroup,g=a.hostID,h=a.mockupAdObjects,i=a.prefillersExtraData;a=babelHelpers.objectWithoutPropertiesLoose(a,["account","accountBlockLists","campaign","campaignGroup","hostID","mockupAdObjects","prefillersExtraData"]);var j=a.adgroup;if(h!=null){var k;h=b("AdsUEditorMockupMutationUtils").prepareMockupAdObjects(h,f.objective);var m=h.adgroup,n=h.campaign;h=h.campaignGroup;k=(k=m.creative)==null?void 0:k.mockup_id;n=b("AdsUEditorAdgroupObjectiveMutators").getAdgroupExtraData(m,n,h);h=b("AdsUEditorAdgroupObjectiveMutators").getAdgroupExtraData(m,e,f);e=b("AdsUEditorAdgroupObjectiveMutators").removeEmptyTrackingSpec(b("AdsUEditorAdgroupObjectiveMutators").convertAdgroup(m,j.id,{account:c,accountBlockList:d,hostID:g,newAdgroupExtraData:h,oldAdgroupExtraData:n,prefillersExtraData:i}));f=e.creative;m=e.metadata;return l(babelHelpers["extends"]({},a,{cachedCreative:f,cachedMetadata:m})).setIn(b("AdsAPIAdgroupPaths").CREATIVE.MOCKUP_ID,k)}c=(j=a.cachedCreative)==null?void 0:j.mockup_id;return c!=null?l(a).setIn(b("AdsAPIAdgroupPaths").CREATIVE.MOCKUP_ID,c):a.adgroup}e.exports={setToUsingExistingPost:a,setToUsingInlineCreation:l,setToUsingMockup:c}}),null);
__d("adsPlacementAssetMutationChangeFormatToAutomatic",["AdsAPIAdgroupPaths","AdsAssetFeedUtils","immutable"],(function(a,b,c,d,e,f){"use strict";function a(a){return!b("AdsAssetFeedUtils").hasPlacementCustomizationFromSpec(a)?a:a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("immutable").List.of("AUTOMATIC_FORMAT"))}e.exports=a}),null);
__d("adsPlacementAssetMutationConvertToVideoAssetFeedWithCampaignTargeting",["adsPlacementAssetMutationConvertToAssetFeedWithCampaignTargeting"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){f===void 0&&(f=!1);g===void 0&&(g=!1);return b("adsPlacementAssetMutationConvertToAssetFeedWithCampaignTargeting")(a,c,d,e,"video",f,g)}e.exports=a}),null);
__d("AdsUEditorAdgroupVideoMutators",["AdsAdgroupTypeUtils","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsLocalizedPlacementsMutators","AdsPACSpecMutationAsyncLog","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsUnifiedCreativeAPIFields","adsPlacementAssetMutationChangeFormatToAutomatic","adsPlacementAssetMutationConvertToImageAssetFeedWithCampaignTargeting","adsPlacementAssetMutationConvertToVideoAssetFeedWithCampaignTargeting","adsPlacementAssetMutationUpdateCustomizationVideo","immutable","isTruthy","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d,e,f,g,h,i,j,k){d=a;f!=null&&(d=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(d,c,b("AdsUnifiedCreativeAPIFields").videoID,e,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID,f));b("isTruthy")(g)&&(d=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(d,c,b("AdsUnifiedCreativeAPIFields").videoID,e,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL,g),d=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(d,c,b("AdsUnifiedCreativeAPIFields").videoID,e,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_SOURCE,i));k!=null&&k!==""&&(d=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(d,c,b("AdsUnifiedCreativeAPIFields").videoID,e,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_HASH,k));if(h!=null){d=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(d,c,b("AdsUnifiedCreativeAPIFields").videoID,e,b("AdsAPIAdAssetFeedVideosFields").PORTRAIT_CUSTOMIZATIONS,b("immutable").fromJS((a={},a.specifications=[(f={},f.background_color=h,f)],a)))}j!=null&&(d=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(d,c,b("AdsUnifiedCreativeAPIFields").videoID,e,b("AdsAPIAdAssetFeedVideosFields").INTERACTIVE_COMPONENTS_SPEC,j));return d}function a(a,c,d,e,f,i,j,k,l,m,n,o,p,q,r,s){__p&&__p();p===void 0&&(p=!1);q===void 0&&(q=!1);var t=b("AdsAssetFeedUtils").isPACAdgroupFromSpec(a);t&&b("AdsPACSpecMutationAsyncLog").log(a,"ADD_VIDEO_START",o);var u=b("AdsAdgroupTypeUtils").isVideoAd(a);if(!u&&!q)throw b("unrecoverableViolation")("This customization should be applied to video ad or to image ad given that ad account has pac automatic format capability","csol_pac");q=a;b("AdsAssetFeedUtils").isDLOAdgroupFromRecord(a)&&u?q=b("AdsLocalizedPlacementsMutators").convertDLOToLocalizedPlacementsAdgroup(a,d):b("AdsAssetFeedUtils").isPACAdgroupFromSpec(a)?(q=u?a:b("adsPlacementAssetMutationChangeFormatToAutomatic")(a),t&&b("AdsPACSpecMutationAsyncLog").log(q,"ADD_VIDEO_CONVERT_TO_PAC",o)):b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(a)||(q=u?b("adsPlacementAssetMutationConvertToVideoAssetFeedWithCampaignTargeting")(a,c,d,e,p,!1):b("adsPlacementAssetMutationConvertToImageAssetFeedWithCampaignTargeting")(a,c,d,e,p,!0));u=b("isTruthy")(f)&&b("AdsPlacementAssetUtils").doesVideoExistWithLabel(q,f);if(u)return b("adsPlacementAssetMutationUpdateCustomizationVideo")(q,i,b("nullthrows")(f),d,k,m,j,s);p=(a=q.creative)==null?void 0:(c=a.asset_feed_spec)==null?void 0:c.videos;u=p!=null?p.size:0;q=g(q,d,e,u,j,k,l,m,r,s);i=b("AdsPlacementAssetUtils").makeUniqueLabelNameForPlacementAsset();q=b("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(q,d,b("AdsUnifiedCreativeAPIFields").videoID,u,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,i);if(b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(q)){q=b("AdsLocalizedPlacementsMutators").addPlacementsToAssetCustomizationRules(q,b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL,i,n);q=h(q,d);t&&b("AdsPACSpecMutationAsyncLog").log(q,"ADD_VIDEO_END",o);return q}f=q.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES);a=b("AdsPlacementAssetTargetingRuleUtils").movePlacementsInTargetingRules(f||b("immutable").List(),b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL,i,n);c=a.labelsRemoved;p=a.updatedTargetingRules;q=q.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,p);for(var e=c,j=Array.isArray(e),k=0,e=j?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(j){if(k>=e.length)break;l=e[k++]}else{k=e.next();if(k.done)break;l=k.value}m=l;u=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((r=q.creative)==null?void 0:(s=r.asset_feed_spec)==null?void 0:s.videos,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,m,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID).index;q=u!=null?b("AdsAssetFeedMutationUtils").removeAssetAtIndex(q,d,b("AdsUnifiedCreativeAPIFields").videoID,u):q}q=h(q,d);t&&b("AdsPACSpecMutationAsyncLog").log(q,"ADD_VIDEO_END",o);return q}function h(a,c){return b("AdsAssetFeedMutationUtils").removeDuplicateAssets(a,c,b("AdsUnifiedCreativeAPIFields").videoID,b("AdsAPIAdAssetFeedVideosFields").ADLABELS)}function c(a,c,d,e){a=b("AdsAssetFeedMutationUtils").isolateAssetWithLabel(a,c,b("AdsUnifiedCreativeAPIFields").videoID,d,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,e);c=a.adgroupWithIsolatedAsset;d=a.isolatedAssetIndex;return{adgroupWithIsolatedVideoAsset:c,isolatedVideoAssetIndex:d}}d={updatePlacementCustomizationVideoAtIndex:g,addPlacementCustomizationVideo:a,isolateVideoAssetWithLabel:c,removeDuplicateVideoAssets:h};e.exports=d}),null);
__d("AdsPredictionBatchLoadErrorDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.setMultipleErrors(b.errors)}};e.exports=a}),null);
__d("AdsPredictionBatchLoadedDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.setMultipleValueOrError(b.predictions)}};e.exports=a}),null);
__d("AdsPredictionDataManager",["fbt","AdsBaseDataManager","AdsGraphAPI","AdsPredictionBatchLoadedDataAction","AdsPredictionBatchLoadErrorDataAction","AdsReachFrequencyPredictionFields","GraphAPIRetry","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="U",i=[{start_minute:0,end_minute:1440,days:[0,1,2,3,4,5,6]}],j=16;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.loadAll=function(a){var b=this;a.forEach(function(a){return b.load(a)})};d.load=function(a){b("promiseDone")(b("GraphAPIRetry").getWithCustomRetries(b("AdsGraphAPI").get(e.id).object("prediction",a).batched(),{date_format:h,fields:b("AdsReachFrequencyPredictionFields")},j,1e3,1.5),this.__handleSuccess.bind(this,["load"],a,null),this.__handleError.bind(this,["load"],a,null))};d.__onBatchLoaded=function(a){a=new Map(a);a.forEach(function(a){a.parsed_target_spec=a.target_spec,a.parsed_pause_periods=a.pause_periods?a.pause_periods:null,a.curve_budget_reach=a.curve_budget_reach||null,a.schedule=a.day_parting_schedule||i});b("AdsPredictionBatchLoadedDataAction").dispatch({predictions:a},{line:"69",module:"AdsPredictionDataManager.js"})};d.__onBatchLoadError=function(a){b("AdsPredictionBatchLoadErrorDataAction").dispatch({errors:a},{line:"75",module:"AdsPredictionDataManager.js"})};d.__getObjectTypeLabel=function(){return g._("Prediction")};return c}(b("AdsBaseDataManager"));c=new a();e.exports=c}),null);
__d("AdsPredictionProviderPlugin",["AdsPredictionDataManager","LoadObjectMap"],(function(a,b,c,d,e,f){"use strict";a={initialState:function(a){return b("LoadObjectMap").create(function(c){a(function(a){return a.setLoading(c)}),b("AdsPredictionDataManager").loadAll(Array.from(c))})}};e.exports=a}),null);
__d("AdsPredictionObjectStore",["AdsDataAtom","AdsPredictionBatchLoadedDataActionFlux","AdsPredictionBatchLoadErrorDataActionFlux","AdsPredictionDataManager","FluxLoadObjectStore","adsCreateStoreThunkSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getAllSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.getAll.bind(babelHelpers.assertThisInitialized(d))),d.getSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.get.bind(babelHelpers.assertThisInitialized(d))),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.__getActionTypes=function(){return[this.getActionTypeStartLoad(),b("AdsPredictionBatchLoadErrorDataActionFlux").actionType,b("AdsPredictionBatchLoadedDataActionFlux").actionType]};d.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsPredictionBatchLoadedDataActionFlux").actionType:return this.__handleMap(a,c.predictions);case b("AdsPredictionBatchLoadErrorDataActionFlux").actionType:return this.__handleMap(a,b("immutable").Map(c.errors));default:return a}};d.__load=function(a){b("AdsPredictionDataManager").load(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("adsACOConvertToACOAd",["AdsAPIAdgroupPaths","ApiDynamicCreativeOptimizationTypes","immutable"],(function(a,b,c,d,e,f){"use strict";function a(a){return a.setIn((a=b("AdsAPIAdgroupPaths")).CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.MULTI_SHARE_END_CARD,!1).deleteIn(a.CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.FORMAT_OPTION).deleteIn(a.CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.FORCE_SINGLE_LINK).deleteIn(a.CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.DESCRIPTION).deleteIn(a.CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.IMAGE_LAYER_SPECS).deleteIn(a.CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.IMAGE_OVERLAY_SPEC.path).setIn(a.CREATIVE.ASSET_FEED_SPEC.OPTIMIZATION_TYPE,b("ApiDynamicCreativeOptimizationTypes").FORMAT_AUTOMATION).setIn(a.CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("immutable").List(["CAROUSEL","COLLECTION"]))}e.exports=a}),null);
__d("adsCampaignGetID",["AdsCFNewCampaignFBID"],(function(a,b,c,d,e,f){"use strict";a=function(a){return!a.id?b("AdsCFNewCampaignFBID"):a.id};e.exports=a}),null);
__d("adsCFCampaignGetID",["AdsAPICampaignRecord","adsCampaignGetID"],(function(a,b,c,d,e,f){"use strict";a=function(a){return a instanceof b("AdsAPICampaignRecord")?b("adsCampaignGetID")(a):a.id};e.exports=a}),null);
__d("adsCFCampaignIsNewID",["AdsCFNewCampaignFBID","isFalsey"],(function(a,b,c,d,e,f){"use strict";a=function(a){return b("isFalsey")(a)||a.includes(b("AdsCFNewCampaignFBID"))};e.exports=a}),null);
__d("adsCFCampaignIsNew",["adsCFCampaignGetID","adsCFCampaignIsNewID"],(function(a,b,c,d,e,f){"use strict";a=function(a){a=b("adsCFCampaignGetID")(a);return b("adsCFCampaignIsNewID")(a)};e.exports=a}),null);
__d("AdsCFSpecGenerationAdgroups",["AdsAPIAdgroupPaths","AdsAPICampaignRecordUtils","AdsAPIObjectives","AdsAssetFeedUtils","AdsComparatorIsMessengerThreadSelected","AdsDCOUtils","AdsLoadState_LEGACY","AdsPlacementAPISpecReaderUtils","AdsPredictionObjectStore","AdsPromotedObjectTypes","AdsSplitTestUtils","adsACOConvertToACOAd","adsCFCampaignIsNew","immutable","isEmpty","isTruthy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("AdsPlacementAPISpecReaderUtils").convertCampaignRecordToPlacementSpec,i=b("immutable").Map(),j=function(a,c,d){var e=h(c);if(b("AdsComparatorIsMessengerThreadSelected").isMessengerThreadSelected(e)&&(a===b("AdsAPIObjectives").LINK_CLICKS||a===b("AdsAPIObjectives").CONVERSIONS)){a=(e=c.promoted_object)==null?void 0:e.page_id;if(b("isTruthy")(a))return d.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.PAGE_ID,a)}return d},k=function(a,c,d){var e;e=(e=c.creative)==null?void 0:(e=e.object_story_spec)==null?void 0:e.page_id;return b("isTruthy")(e)&&a!==b("AdsAPIObjectives").APP_INSTALLS?c.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.PAGE_ID,d):c};a=function(a,c,d,e){__p&&__p();e===void 0&&(e={});var f=a.objective;return d.map(function(h,l){__p&&__p();var m=h;m=m.removeIn(b("AdsAPIAdgroupPaths").ID);var n=c[0];if(!(g||(g=b("isEmpty")))(c)&&!b("adsCFCampaignIsNew")(n)){m=m.setIn(b("AdsAPIAdgroupPaths").ADSET_ID,n.id);m=j(f,n,m);var o=n.rf_prediction_id;if(o){o=b("AdsPredictionObjectStore").get(o);if(o.hasValue()){o=o.getValueEnforcing();o&&o.destination_id&&(m=k(f,m,o.destination_id))}}}o=b("AdsAPICampaignRecordUtils").getPromotedObjectType(f,n);o===b("AdsPromotedObjectTypes").WHATSAPP&&f===b("AdsAPIObjectives").MESSAGES&&(m=m.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.VALUE.APP_DESTINATION));o=(o=m.creative)==null?void 0:o.object_story_id;o!=null&&o.includes(b("AdsLoadState_LEGACY").LOADING)&&(m=m.removeIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID).removeIn(b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_ACTOR_ID));!(g||(g=b("isEmpty")))(c)&&b("AdsAssetFeedUtils").isRegularDCOCampaign(n)&&(m=b("AdsDCOUtils").convertStorySpecAdToDCOAd(m,f,e));o=e.isACODefaultOptInEligibleMap||i;n=o.get(h.id);n&&(m=b("adsACOConvertToACOAd")(m));o=m.name||"";m=m.setIn(b("AdsAPIAdgroupPaths").NAME,o.replace(/\n/g," "));h=b("AdsSplitTestUtils").hasSplitTest(a);d.length>1&&!h&&(m=m.setIn(b("AdsAPIAdgroupPaths").NAME,m.name+" - Image "+(l+1)));return m.toJS()})};e.exports={adsCFSpecDestinationIDGenerationAdgroups:k,adsCFSpecGenerationAdgroups:a,adsCFSpecPageIDGenerationAdgroups:j}}),null);
__d("CrStFormatUtils",["CrStFeatures","CrStFormatConstants"],(function(a,b,c,d,e,f){"use strict";a={isInstagramFormat:function(a){return b("CrStFormatConstants").instagramFormats.includes(a)},canPreviewOnMobile:function(a){return["INSTAGRAM_STORY","INSTAGRAM_STORY_CAROUSEL"].includes(a)?b("CrStFeatures").instagramStoryPreview:!0}};e.exports=a}),null);
__d("AdsInstagramValidationTitles",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={instagramVideoWrongDimensions:g._("This video is too small for Instagram ads"),instagramVideoWrongLength:g._("This video has a length that can't be used for Instagram ads"),instagramVideoWrongRatio:g._("This video uses the wrong aspect ratio for Instagram ads"),instagramVideoMultipleErrors:g._("This video can't be used for Instagram ads"),instagramVideoThumbnailWrongDimensions:g._("This video preview image is too small for Instagram ads"),instagramVideoThumbnailWrongRatio:g._("This custom image for the video preview can't be used for Instagram ads"),instagramVideoThumbnailMultipleErrors:g._("This video preview image can't be used for Instagram ads")};e.exports=a}),null);
__d("AdsInteractivePollRemoveSpecUtils",["AdsAPIAdAssetFeedVideosFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsUnifiedCreativeAPIFields","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){var d;a=a;d=(d=a)==null?void 0:(d=d.creative)==null?void 0:d.interactive_components_spec;d!=null&&(a=a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.INTERACTIVE_COMPONENTS_SPEC.path));d=(d=a)==null?void 0:(d=d.creative)==null?void 0:(d=d.asset_feed_spec)==null?void 0:d.videos;return d!=null?d.reduce(function(a,d,e){d=b("AdsAssetFeedFieldUtils").getAssetInteractivePollSpec(b("immutable").fromJS(d));return d!=null?b("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").videoID,e,b("AdsAPIAdAssetFeedVideosFields").INTERACTIVE_COMPONENTS_SPEC):a},a):a}e.exports={removeFbFeedVideoPollSpecFromAdgroupRecord:a}}),null);
__d("AdsInteractivePollUtils",["fbt","AdsAdAssetSelectorTypes","AdsAdgroupTypeUtils","AdsAPIDevicePlatform","AdsAssetFeedUtils","AdsInstagramApplicabilityUtils","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsLoadStateUtils_LEGACY","JSResource","isTruthy","lazyLoadComponent","AdsLoadState_LEGACY","AdsPlacementAPISpecReaderUtils","CenteredContainer.react","FDSSpinner.react","React","URI","WaitTimeArea.react","ads-lib-urllib","adsAccountGK","adsAccountQE","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat,j=b("lazyLoadComponent")(b("JSResource")("AdsInteractivePollPreviewExampleVideoSection.react").__setRef("AdsInteractivePollUtils")),k=b("AdsPlacementAPISpecReaderUtils").isActiveDevicePlatform;function l(a){return/^\s*$/.test(a)}function a(a){__p&&__p();if(a==null)return null;var c=a.get("option_a_text"),d=a.get("option_b_text");if(!c||l(String(c))||!d||l(String(d)))return{title:g._("Apply changes without saving poll?"),msg:g._("The poll you're creating is incomplete and will not be saved. Click {The label for the cancel button} to continue editing poll options.",[g._param("The label for the cancel button",b("React").jsx("strong",{children:"Cancel"}))])};c=a.get("option_a_call_to_action");d=a.get("option_b_call_to_action");if(c==null&&d==null)return null;a=b("immutable").fromJS(c).get("value").get("link");var e=b("immutable").fromJS(d).get("value").get("link");return c!=null&&(!b("ads-lib-urllib").isUrl(a)||!(h||(h=b("URI"))).isValidURI(b("ads-lib-urllib").normalize(a)))||d!=null&&(!b("ads-lib-urllib").isUrl(e)||!(h||(h=b("URI"))).isValidURI(b("ads-lib-urllib").normalize(e)))?{title:g._("Apply changes without saving poll?"),msg:g._("The poll you're creating is incomplete and will not be saved. Click {The label for the cancel button} to continue editing website URLs.",[g._param("The label for the cancel button",b("React").jsx("strong",{children:"Cancel"}))])}:null}function c(a,c,d,e){if(c==null||!k(d,b("AdsAPIDevicePlatform").MOBILE))return!1;d=e===i.video&&c.contains("FACEBOOK_FEED");e=c.size===1&&c.contains("FACEBOOK_STORY")&&m(a);c=c.size===1&&c.contains("INSTAGRAM_STORY")&&n(a);return d||e||c}function m(a){return b("isTruthy")(a)?a.is_tier_0!==!0&&b("adsAccountGK")._(a,"1WDyaUE6v"):!1}function n(a){return b("isTruthy")(a)?a.is_tier_0!==!0&&b("adsAccountGK")._(a,"23BSBIEDK"):!1}function o(a){return a.is_tier_0!==!0&&b("adsAccountGK")._(a,"25o1TcNgu")}function d(a){return p(a)&&b("adsAccountGK")._(a,"35ACVDILr")}function p(a){return a!=null&&a.is_tier_0!==!0}function f(a){return p(a)&&b("adsAccountGK")._(a,"1kaICtlic")}function q(a){return b("adsAccountGK")._(a,"ciXVBLYR4")}function r(a,c,d){if(b("AdsAssetFeedUtils").isDynamicCreativeAdgroup(c))return!1;if(b("AdsInstagramApplicabilityUtils").hasInstagramStoryPlacementOnly(a))return!0;return d!=null&&o(d)&&b("AdsInstagramApplicabilityUtils").hasInstagramStoryAndFBStoryPlacementOnly(a)&&b("AdsAdgroupTypeUtils").isVideoAd(c)?!0:!1}function s(a){var c,d=235,e=455;return(c=b("React")).jsx(c.Suspense,{fallback:c.jsx("div",{children:c.jsx(b("CenteredContainer.react"),{children:c.jsx(b("WaitTimeArea.react"),{name:"AdsInteractivePollPopoverCard",owner:"video_ads",children:c.jsx(b("FDSSpinner.react"),{})})})}),children:c.jsx(j,{playerHeight:e,playerWidth:d,videoID:a})})}function t(a){return a.isEnabled===!0||u(a)}function u(a){a=a.account;return b("adsAccountQE")._(a,"1KXyhZUtv:DCmlvoNXeh",{})||!1}function v(a){var c;b("AdsInterfacesLogger").log({eventName:a.eventName,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION,data:(c={},c.ad_account_id=a.adAccountID,c.adgroup_id=a.adgroupID,c.is_enabled=a.buttonEnabled,c.video_id=a.videoID,c.event_source=a.eventSource,c.current_action_time=a.duration,c)})}e.exports={isPollAvailableForAssetGroupsAndFormat:c,generateContentForEducationalContainer:s,passPlacementDropdownGK:q,passPollBetaGK:f,passPollGK:d,passStoryPollGK:m,validatePollSpec:a,isInstagramInteractiveStoryAdEnabled:r,shouldShowPollEntryButton:t,logPollEventToPEV2Table:v}}),null);
__d("AdsDynamicOverlayOptionsConfig",["fbt","CatalogVertical","immutable"],(function(a,b,c,d,e,f,g){"use strict";a={optionName:g._("Base Price"),templateTag:"{{hotel.base_price strip_zeros round}}",tooltip:g._("The base price for a hotel room as listed in the catalog. If you use dynamic (date-specific) pricing, the base price for the room type will appear.")};c={optionName:g._("Sale Price"),templateTag:"{{hotel.sale_price strip_zeros round}}",tooltip:g._("The sale price for a hotel room as listed in the catalog. If you use dynamic (date-specific) pricing, the average dynamic sale price per night will appear.")};d={optionName:g._("Total Price"),templateTag:"{{hotel.total_price strip_zeros round}}",tooltip:g._("Total price for an entire stay including taxes and fees. Only applicable for dynamic (date-specific) pricing.")};f={optionName:g._("Price"),templateTag:"{{hotel.price strip_zeros round}}",tooltip:g._("The average dynamic price per night with taxes and fees. Only applicable for dynamic (date-specific) pricing.")};d=b("immutable").Map((g={},g[b("CatalogVertical").HOTELS]=(b={},b.price=[{supportedOptions:[a,c,d,f],defaultOption:a}],b.from_price=[{supportedOptions:[a,c,d,f],defaultOption:a}],b.strikethrough_price=[{supportedOptions:[a,d,f],defaultOption:a},{supportedOptions:[a,c],defaultOption:c}],b.percentage_off=[{supportedOptions:[a,d,f],defaultOption:a},{supportedOptions:[a,c],defaultOption:c}],b),g));e.exports=d}),null);
__d("AdsAppPlatformCreativeFieldTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({ANDROID:null,IOS:null,IPHONE:null,IPAD:null,WINDOWS:null});e.exports=a}),null);
__d("AdsClipboardStatusTypes",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({INITIAL:"initial",SUCCESS:"success",WARNING:"warning",ERROR:"error",LARGE_DUPLICATION_BLOCKER:"large_duplication_blocker"});e.exports=a}),null);
__d("AdsDynamicAdCustomizationAddedLanguageFieldPaths",["immutable"],(function(a,b,c,d,e,f){"use strict";c=b("immutable").Map(Object.freeze((a={},a.name=["name"],a.message=["message"],a.description=["description"],a.link=["link"],a.template_url_spec=["template_url_spec"],a.caption=["caption"],a)));e.exports=c}),null);
__d("AdsDynamicAdCustomizationConstants",[],(function(a,b,c,d,e,f){"use strict";a={MAX_ADDITIONAL_LANGUAGES:48,CUSTOMIZATION_RULES_SPEC:"customization_rules_spec"};e.exports=a}),null);
__d("AdsDynamicAdCustomizationLinkDataPrimaryLanguageFieldPaths",["AdsAPIAdgroupPaths","immutable"],(function(a,b,c,d,e,f){"use strict";d=b("immutable").Map(Object.freeze((a={},a.name=(c=b("AdsAPIAdgroupPaths")).CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.NAME,a.message=c.CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MESSAGE,a.description=c.CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.DESCRIPTION,a.link=c.CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.LINK,a.caption=c.CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CAPTION,a.template_url_spec=c.CREATIVE.TEMPLATE_URL_SPEC,a)));e.exports=d}),null);
__d("AdsDynamicAdCustomizationPrimaryLanguageFieldPaths",["AdsAPIAdgroupPaths","immutable"],(function(a,b,c,d,e,f){"use strict";d=b("immutable").Map(Object.freeze((a={},a.name=(c=b("AdsAPIAdgroupPaths")).CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.NAME,a.message=c.CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.MESSAGE,a.description=c.CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.DESCRIPTION,a.link=c.CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.LINK,a.caption=c.CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.CAPTION,a.template_url_spec=c.CREATIVE.TEMPLATE_URL_SPEC,a)));e.exports=d}),null);
__d("AdsDynamicAdCustomizationVideoDataPrimaryLanguageFieldPaths",["AdsAPIAdgroupPaths","DynamicAdCustomizationRuleSpecField","immutable"],(function(a,b,c,d,e,f){"use strict";d=b("immutable").Map(Object.freeze((a={},a.name=(c=b("AdsAPIAdgroupPaths")).CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.TITLE,a.message=c.CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.MESSAGE,a.description=c.CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.DESCRIPTION,a.link=c.CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.LINK,a.template_url_spec=c.CREATIVE.TEMPLATE_URL_SPEC,a.call_to_action=c.CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.path,a)));e.exports=d}),null);
__d("AdsPlacementEditorEvents",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({AD_BUILDER_EXPANDED_VIEW:null,AD_BUILDER_L1:null,ASSET_LIST:null,ASSET_WARNING:null,PAC_DROPDOWN:null,PAC_PLACEMENT_GROUP_IN_DROPDOWN:null,PREVIEW:null,STORIFY_OVERRIDE_BUTTON:null});c=b("keyMirror")({PLACEMENT_EDITOR_BACKGROUND_COLOR_UPDATE:null,PLACEMENT_EDITOR_BACKGROUND_COLOR_COLOR_PICKER_SOLID:null,PLACEMENT_EDITOR_BACKGROUND_COLOR_COLOR_PICKER_GRADIENT:null,PLACEMENT_EDITOR_BACKGROUND_COLOR_SELECTION_AUTOMATIC:null,PLACEMENT_EDITOR_BACKGROUND_COLOR_SELECTION_SUGGESTED:null,PLACEMENT_EDITOR_BACKGROUND_COLOR_SELECTION_CUSTOMIZED:null,PLACEMENT_EDITOR_CLOSE:null,PLACEMENT_EDITOR_CHANGE_MEDIA:null,PLACEMENT_EDITOR_CHANGE_MEDIA_PICKER_FORMAT:null,PLACEMENT_EDITOR_CONFIRM_CHANGES:null,PLACEMENT_EDITOR_CONVERT_SPEC_TO_LATEST:null,PLACEMENT_EDITOR_CROP:null,PLACEMENT_EDITOR_HEADLINE_CUSTOMIZE:null,PLACEMENT_EDITOR_HEADLINE_REMOVE_CUSTOMIZATION:null,PLACEMENT_EDITOR_IMAGE_CUSTOMIZE:null,PLACEMENT_EDITOR_OPEN:null,PLACEMENT_EDITOR_SET_ACTIVE_TOOL:null,PLACEMENT_EDITOR_TEXT_ADD_MENTION:null,PLACEMENT_EDITOR_TEXT_CUSTOMIZE:null,PLACEMENT_EDITOR_TEXT_REMOVE_CUSTOMIZATION:null,PLACEMENT_EDITOR_TEXT_SHOW_MENTIONS:null,PLACEMENT_EDITOR_VIDEO_CAPTION_CUSTOMIZE:null,PLACEMENT_EDITOR_VIDEO_CROP_FAILED:null,PLACEMENT_EDITOR_VIDEO_CROP_SUCCESSFUL:null,PLACEMENT_EDITOR_VIDEO_CUSTOMIZE:null,PLACEMENT_EDITOR_VIDEO_THUMBNAIL_CUSTOMIZE:null});e.exports={PlacementEditorEntryPoints:a,PlacementEditorEvents:c}}),null);
__d("AFCPromotableObjectDataManager",["AdsAdgroupFetchAfcPromotableObjectsErrorDataAction","AdsAdgroupFetchAfcPromotableObjectsSuccessDataAction","AdsGraphAPI","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(){}var c=a.prototype;c.loadPromotableObjects=function(a){b("promiseDone")(b("AdsGraphAPI").get(e.id).adaccount(a).get({fields:["ad_account_promotable_objects"]}),function(c){b("AdsAdgroupFetchAfcPromotableObjectsSuccessDataAction").dispatch({accountID:a,promotableObjects:c.ad_account_promotable_objects},{line:"25",module:"AFCPromotableObjectDataManager.js"})},function(a){b("AdsAdgroupFetchAfcPromotableObjectsErrorDataAction").dispatch({error:a},{line:"31",module:"AFCPromotableObjectDataManager.js"})})};return a}();e.exports=new a()}),null);
__d("AdsConnectionObjectDataManager",["AdsBaseDataManager","AdsConnectionObjectBatchLoadedDataAction","AdsConnectionObjectBatchLoadErrorDataAction","AdsGraphAPI","GraphAPIPaging","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.loadAllFor=function(a,c){__p&&__p();var d=this;if(c.length===0)return;b("promiseDone")(b("AdsGraphAPI").get(e.id).adaccount(a).edge("connectionobjects").get({extra_fbids:c.join(","),extra_only:!0}).then(b("GraphAPIPaging").eachPage(function(a){return d.$AdsConnectionObjectDataManager1(a.data)})),function(a){return d.__processDataArrayResponse(a,c,function(a){return a.id},function(a){return d.__getObjectError(a,null)})},function(a){return c.forEach(function(b){return d.__handleError(["load"],b,null,a)})})};d.loadFor=function(a,b){this.loadAllFor(a,[b])};d.$AdsConnectionObjectDataManager1=function(a){var c=new Map();a.forEach(function(a){return c.set(a.id,a)});b("AdsConnectionObjectBatchLoadedDataAction").dispatch({connectionObjects:c},{line:"60",module:"AdsConnectionObjectDataManager.js"})};d.__onBatchLoaded=function(a){b("AdsConnectionObjectBatchLoadedDataAction").dispatch({connectionObjects:a},{line:"66",module:"AdsConnectionObjectDataManager.js"})};d.__onBatchLoadError=function(a){b("AdsConnectionObjectBatchLoadErrorDataAction").dispatch({errors:a},{line:"72",module:"AdsConnectionObjectDataManager.js"})};return c}(b("AdsBaseDataManager"));e.exports=new a()}),null);
__d("AdsInstagramUsernameDataManager",["AdsBaseDataManager","AdsGraphAPI","AdsInstagramAccountUsernameLoadedDataAction","AdsInstagramAccountUsernameLoadErrorDataAction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.loadAll=function(a){var b=this;a.forEach(function(a){return b.load(a)})};d.load=function(a){var c=this;b("promiseDone")(b("AdsGraphAPI").get(e.id).object("instagram_object",a).batched().get({fields:["has_profile_picture","id","id_v2","is_authorized_for_political_ads","is_private","is_published","profile_pic","username"]}),function(b){return c.__handleSuccess(["load"],a,null,b)},function(b){return c.__handleError(["load"],a,null,b)})};d.__onBatchLoaded=function(a){b("AdsInstagramAccountUsernameLoadedDataAction").dispatch({specs:a},{line:"48",module:"AdsInstagramUsernameDataManager.js"})};d.__onBatchLoadError=function(a){b("AdsInstagramAccountUsernameLoadErrorDataAction").dispatch({errors:a},{line:"52",module:"AdsInstagramUsernameDataManager.js"})};return c}(b("AdsBaseDataManager"));e.exports=new a()}),null);
__d("AdsLeadGenFormFormBatchLoadErrorReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.setMultipleErrors(b.errors)}};e.exports=a}),null);
__d("AdsLeadGenFormFormBatchLoadedReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.setMultipleValueOrError(b.pageLeadGenForms)}};e.exports=a}),null);
__d("AdsPageLeadGenFormDataManager",["AdsBaseDataManager","AdsGraphAPI","AdsLeadGenFormFormBatchLoadedAction","AdsLeadGenFormFormBatchLoadErrorAction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=["name","created_time","is_optimized_for_quality","questions","status"];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.loadAll=function(a){var b=this;a.forEach(function(a){return b.load(a)})};d.load=function(a){b("promiseDone")(b("AdsGraphAPI").get(e.id).object("leadgen_form",a).batched().get({fields:g}),this.__handleSuccess.bind(this,["load"],a,null),this.__handleError.bind(this,["load"],a,null))};d.__onBatchLoaded=function(a){b("AdsLeadGenFormFormBatchLoadedAction").dispatch({pageLeadGenForms:a},{line:"47",module:"AdsPageLeadGenFormDataManager.js"})};d.__onBatchLoadError=function(a){var c=this,d=new Map();a.forEach(function(a,b){d.set(b,c.__getObjectError(b,a))});b("AdsLeadGenFormFormBatchLoadErrorAction").dispatch({errors:d},{line:"58",module:"AdsPageLeadGenFormDataManager.js"})};return c}(b("AdsBaseDataManager"));e.exports=new a()}),null);
__d("AdsPageLeadGenFormProviderPlugin",["AdsPageLeadGenFormDataManager","LoadObjectMap"],(function(a,b,c,d,e,f){"use strict";a={initialState:function(a){return b("LoadObjectMap").create(function(c){a(function(a){return a.setLoading(c)}),b("AdsPageLeadGenFormDataManager").loadAll(Array.from(c))})}};e.exports=a}),null);
__d("AdsDataManagerApiUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=new Map();b.filter(function(b){return a[b]==null}).forEach(function(a){d.set(a,c||new Error("Object missing"))});return d}e.exports={extractErrors:a}}),null);
__d("AdsPromotableEventDataManager",["AdsBaseDataManager","AdsDataManagerApiUtils","AdsGraphAPI","AdsPromotableEventBatchLoadedDataAction","AdsPromotableEventBatchLoadErrorDataAction","AdsPromotableEventListBatchLoadErrorDataAction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=["picture","cover","description","has_ticket_onsale_for_viewer","id","is_viewer_admin","name","place","start_time","ticket_uri","owner"];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.loadAllFor=function(a,c){var d=this;b("promiseDone")(b("AdsGraphAPI").get(e.id).objects("promotable_events",c).get({fields:g}),function(e){d.__handleSuccess(["load"],a,null,e),b("AdsPromotableEventBatchLoadErrorDataAction").dispatch({accountID:a,errors:b("AdsDataManagerApiUtils").extractErrors(e,c)},{line:"48",module:"AdsPromotableEventDataManager.js"})},function(d){return b("AdsPromotableEventBatchLoadErrorDataAction").dispatch({accountID:a,errors:b("AdsDataManagerApiUtils").extractErrors({},c,d)},{line:"54",module:"AdsPromotableEventDataManager.js"})})};d.loadFor=function(a,b){this.loadAllFor(a,[b])};d.__onBatchLoaded=function(a){a.forEach(function(a,c){a=new Map(Object.entries(a));b("AdsPromotableEventBatchLoadedDataAction").dispatch({accountID:c,promotableEvents:a},{line:"71",module:"AdsPromotableEventDataManager.js"})})};d.__onBatchLoadError=function(a){b("AdsPromotableEventListBatchLoadErrorDataAction").dispatch({accountID:a},{line:"82",module:"AdsPromotableEventDataManager.js"})};return c}(b("AdsBaseDataManager"));e.exports=new a()}),null);
__d("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector",["AdsAPIObjectives","AdsCampaignGroupRecordAccessors","AdsUEditorHostIDs","AdsUEditorSelectors","adsCreateAdAccountGKSelector","adsCreateSelector","adsGetUniformValueSelector","adsUEditorHostIDSelector_ASK_AFEI_BEFORE_USING"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateAdAccountGKSelector")._("1UmjNdNdc");var g=[(c=b("AdsAPIObjectives")).APP_INSTALLS,c.BRAND_AWARENESS,c.CONVERSIONS,c.LINK_CLICKS,c.REACH,c.MESSAGES,c.WILDCARD_INTERNAL_ONLY];d=b("adsGetUniformValueSelector")(b("AdsUEditorSelectors").campaignGroup.bulkByAccessor(b("AdsCampaignGroupRecordAccessors").objective.get),null);f=b("adsCreateSelector")([d],function(a){return g.includes(a)},{name:e.id+".isObjectiveEnabledSelector"});c=b("adsCreateSelector")([a,f,b("adsUEditorHostIDSelector_ASK_AFEI_BEFORE_USING")],function(a,c,d){return c&&(d===b("AdsUEditorHostIDs").EDITING||d===b("AdsUEditorHostIDs").EDITING_CREATIVE_CONTAINER||a&&(d===b("AdsUEditorHostIDs").CREATION||d===b("AdsUEditorHostIDs").CREATION_CREATIVE_CONTAINER))},{name:e.id+".adsUEditorPlacementCustomizationCanUseMixedFormatsSelector"});e.exports=c}),null);
__d("AFCPromotableObjectStore",["AdsAdgroupFetchAfcPromotableObjectsErrorDataActionFlux","AdsAdgroupFetchAfcPromotableObjectsSuccessDataActionFlux","AdsDataAtom","AFCPromotableObjectDataManager","FluxLoadObjectStore","adsCreateStoreThunkSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("AdsDataAtom"))||this;c.getSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(c),c.get.bind(babelHelpers.assertThisInitialized(c)));return c}var d=c.prototype;d.__load=function(a){b("AFCPromotableObjectDataManager").loadPromotableObjects(a)};d.__getActionTypes=function(){return[this.getActionTypeStartLoad(),b("AdsAdgroupFetchAfcPromotableObjectsErrorDataActionFlux").actionType,b("AdsAdgroupFetchAfcPromotableObjectsSuccessDataActionFlux").actionType]};d.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsAdgroupFetchAfcPromotableObjectsSuccessDataActionFlux").actionType:return this.__handleOne(a,c.accountID,c.promotableObjects);case b("AdsAdgroupFetchAfcPromotableObjectsErrorDataActionFlux").actionType:return this.getInitialState();default:return a}};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("AdsBaseConnectionObjectStore",["invariant","AdsBaseDataStore","AdsConnectionObjectBatchLoadedDataActionFlux","AdsConnectionObjectBatchLoadErrorDataActionFlux","AdsConnectionObjectDataManager","AdsLoadState_LEGACY","abstractMethod","adsCreateStoreThunkSelector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.getFor.bind(babelHelpers.assertThisInitialized(d))),d.getAllSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.getAllFor.bind(babelHelpers.assertThisInitialized(d))),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getDataManager=function(){return b("AdsConnectionObjectDataManager")};d.get=function(a){g(0,2156)};d.getAll=function(a){g(0,2157)};d.getFor=function(a,b){return this.getAllFor(a,[b]).get(b)};d.getAllFor=function(a,b){return this.__getAllConnectionObjectsFor(a,b)};d.getAllCachedFor=function(a,b){return this.getAllCached(b)};d.__getAllConnectionObjectsFor=function(a,c){var d=this.__updateLoading(c);d.length>0&&b("AdsConnectionObjectDataManager").loadAllFor(a,d);return this.getAllCached(c)};d.__getActionTypes=function(){return[b("AdsConnectionObjectBatchLoadErrorDataActionFlux").actionType,b("AdsConnectionObjectBatchLoadedDataActionFlux").actionType]};d.__onDispatch=function(a){a=a.action;switch(a.type){case b("AdsConnectionObjectBatchLoadedDataActionFlux").actionType:this.__handleLoadedData(a.connectionObjects);break;case b("AdsConnectionObjectBatchLoadErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break}};d.__computeStorageKey=function(a,b){return a+"_"+b};d.__handleLoadedData=function(a){var c=this,d=new Map(),e=new Map();a.forEach(function(a,b){c.__filterConnectionObject(a)?d.set(b,a):e.set(b,a)});this.__handleData(d,b("AdsLoadState_LEGACY").LOADED);this.__handleData(e,b("AdsLoadState_LEGACY").ERROR)};d.__filterConnectionObject=function(a){return b("abstractMethod")("AdsBaseConnectionObjectStore","__filterConnectionObject")};return c}(b("AdsBaseDataStore"));e.exports=a}),null);
__d("AdsInstagramUsernameStore",["AdsBaseDataStore","AdsInstagramAccountBusinessBatchLoadedDataActionFlux","AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux","AdsInstagramAccountPageBatchLoadedDataActionFlux","AdsInstagramAccountUsernameLoadedDataActionFlux","AdsInstagramAccountUsernameLoadErrorDataActionFlux","AdsInstagramUsernameDataManager","AdsLoadState_LEGACY","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getDataManager=function(){return b("AdsInstagramUsernameDataManager")};d.__getActionTypes=function(){return[b("AdsInstagramAccountBusinessBatchLoadedDataActionFlux").actionType,b("AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux").actionType,b("AdsInstagramAccountPageBatchLoadedDataActionFlux").actionType,b("AdsInstagramAccountUsernameLoadErrorDataActionFlux").actionType,b("AdsInstagramAccountUsernameLoadedDataActionFlux").actionType]};d.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.type){case b("AdsInstagramAccountUsernameLoadedDataActionFlux").actionType:this.__handleData(a.specs,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsInstagramAccountUsernameLoadErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsInstagramAccountPageBatchLoadedDataActionFlux").actionType:this.$AdsInstagramUsernameStore1(a.specs);break;case b("AdsInstagramAccountBusinessBatchLoadedDataActionFlux").actionType:this.$AdsInstagramUsernameStore2(a.specs);break;case b("AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux").actionType:this.__invalidateAllErrors()&&this.__emitChange();break}};d.$AdsInstagramUsernameStore1=function(a){if(!a||a.size===0)return;var c=new Map();a.forEach(function(a,d){d=b("getByPath")(a,["page_backed_instagram_accounts","data"],[]).concat(b("getByPath")(a,["instagram_accounts","data"],[]));d.forEach(function(a){return c.set(a.id,a)})});this.__handleData(c,b("AdsLoadState_LEGACY").LOADED)};d.$AdsInstagramUsernameStore2=function(a){if(!a||a.size===0)return;var c=new Map();a.forEach(function(a,d){d=b("getByPath")(a,["data"],[]);d.forEach(function(a){return c.set(a.id,a)})});this.__handleData(c,b("AdsLoadState_LEGACY").LOADED)};return c}(b("AdsBaseDataStore"));e.exports=new a()}),null);
__d("AdsInterfacesScenarioLoggerStore",["AdsBaseScenarioLoggerStore","AdsInterfacesLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getStateData=function(){return{}};d.log=function(a,c){b("AdsInterfacesLogger").log({eventName:a,data:c},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)};return c}(b("AdsBaseScenarioLoggerStore"));e.exports=new a()}),null);
__d("AdsPromotableEventStore",["AdsAccountStore","AdsBaseConnectionObjectStore","AdsConnectionObjectUtils","AdsLoadState_LEGACY","AdsPromotableEventBatchLoadedDataActionFlux","AdsPromotableEventBatchLoadErrorDataActionFlux","AdsPromotableEventDataManager","AdsPromotableEventListBatchLoadedDataActionFlux","AdsPromotableEventsSearchCompletedDataActionFlux","adsCreateStoreThunkSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="https://www.facebook.com/events/";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getForSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.getFor.bind(babelHelpers.assertThisInitialized(d))),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getFor=function(a,b){return this.getAllFor(a,[b]).get(this.__computeStorageKey(a,b))};d.getAllFor=function(c,d){var e=this,f=[];d.forEach(function(a){f.push(e.__computeStorageKey(c,a))});var g=[];this.__updateLoading(f).forEach(function(a){g.push(a.split("_")[1])});g.length>0&&b("AdsPromotableEventDataManager").loadAllFor(c,g);return a.prototype.getAllCached.call(this,f)};d.getAllCachedFor=function(a,b){var c=this;return this.getAllCached(b.map(function(b){return c.__computeStorageKey(a,b)}))};d.__getActionTypes=function(){var c;return[].concat((c=a.prototype.__getActionTypes.call(this))!=null?c:[],[b("AdsPromotableEventBatchLoadErrorDataActionFlux").actionType,b("AdsPromotableEventBatchLoadedDataActionFlux").actionType,b("AdsPromotableEventListBatchLoadedDataActionFlux").actionType,b("AdsPromotableEventsSearchCompletedDataActionFlux").actionType])};d.__getDependencyStores=function(){var c;return[].concat((c=a.prototype.__getDependencyStores.call(this))!=null?c:[],[b("AdsAccountStore")])};d.__onDispatch=function(a){__p&&__p();var c=this,d=a.action;switch(d.type){case b("AdsPromotableEventBatchLoadedDataActionFlux").actionType:case b("AdsPromotableEventListBatchLoadedDataActionFlux").actionType:this.$AdsPromotableEventStoreClass1(d.accountID,d.promotableEvents);break;case b("AdsPromotableEventsSearchCompletedDataActionFlux").actionType:this.getDispatcher().waitFor(this.getDependencyDispatchTokens());this.$AdsPromotableEventStoreClass1(b("AdsAccountStore").getSelectedAccountIDX(),d.events);break;case b("AdsPromotableEventBatchLoadErrorDataActionFlux").actionType:var e=new Map();d.errors.forEach(function(a,b){b=c.__computeStorageKey(d.accountID,b);e.set(b,a)});this.__handleData(e,b("AdsLoadState_LEGACY").ERROR);break}};d.$AdsPromotableEventStoreClass2=function(a){a.url=g+a.id};d.__filterConnectionObject=function(a){return b("AdsConnectionObjectUtils").isEvent(a)};d.$AdsPromotableEventStoreClass1=function(a,c){var d=this,e=new Map();c.forEach(function(b){var c=d.__computeStorageKey(a,b.id);d.$AdsPromotableEventStoreClass2(b);e.set(c,b)});this.__handleData(e,b("AdsLoadState_LEGACY").LOADED)};return c}(b("AdsBaseConnectionObjectStore"));c=new a();e.exports=c}),null);
__d("AdsClipboardReducerUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=a.copiedIDs.filter(b);return babelHelpers["extends"]({},a,{copiedIDs:b,level:b.length>0?a.level:null})}e.exports={filterIDsAndMerge:a}}),null);
__d("adsACOIsValidDevicePlatform",["AdsAPIDevicePlatform"],(function(a,b,c,d,e,f){"use strict";function a(a){return a.includes(b("AdsAPIDevicePlatform").MOBILE)}e.exports=a}),null);
__d("adsACORemoveACOSpec",["AdsAPIAdgroupPaths","AdsMutators","AdsPromotedObjectTypes","AdsUEditorAdgroupDynamicMutators","AdsUEditorCampaignAdObjectsUtils"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e=a.objective,f=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:c,campaignGroup:a});return b("AdsMutators").chain(function(a){return f===b("AdsPromotedObjectTypes").PRODUCT_SET||f===b("AdsPromotedObjectTypes").NONE?a:b("AdsUEditorAdgroupDynamicMutators").transformAdgroupFromTemplateToSingleMediaLinkData(a,e)},function(a){return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.RECOMMENDER_SETTINGS.path)},function(a){return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path)})(d)}e.exports=a}),null);
__d("adsCollectionAdClearCanvasLinkURL",["AdsAPIAdAssetFeedLinkURLsFields","AdsAPIChildAttachmentPaths","AdsAPIObjectives","AdsAssetFeedFieldUtils","AdsChildAttachmentsUtils","AdsUEditorAdgroupMultiProductMutators","AdsUnifiedCreativeAPIFields","isAdsCanvasLink"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c,d,e){__p&&__p();if(d===b("AdsAPIObjectives").LEAD_GENERATION)return a;d=b("AdsAssetFeedFieldUtils").firstAsset_TALK_WITH_ACE_BEFORE_USE(b("AdsUnifiedCreativeAPIFields").linkURL.getValue(a,c),b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL);var f=a;b("isAdsCanvasLink")(d)&&(f=a.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,c),e),f=f.deleteIn(b("AdsUnifiedCreativeAPIFields").callToActionValue.getPathOrThrow(f,c).concat("lead_gen_form_id")),b("AdsChildAttachmentsUtils").isCarouselAd(f)&&(f=b("AdsUEditorAdgroupMultiProductMutators").setInEachChild(b("AdsAPIChildAttachmentPaths").LINK,e,f),f=b("AdsUEditorAdgroupMultiProductMutators").deleteInEachChild(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.LEAD_GEN_FORM_ID,a)));d=b("AdsUnifiedCreativeAPIFields").callToActionValue.getValue(f,c);if(d){a=d.getIn(["link"]);b("isAdsCanvasLink")(a)&&(f=f.setIn(b("AdsUnifiedCreativeAPIFields").callToActionValue.getPathOrThrow(f,c).concat("link"),e))}return f}e.exports=a}),null);
__d("adsCollectionAdRemoveCollectionRetailersItemIDs",["AdsAPIAdgroupPaths","AdsAPIObjectives","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){function a(a,c,d){var e=a;b("AdsUnifiedCreativeAPIFields").retailerItemIDs.isSupported(a,c)&&(e=e.deleteIn(b("AdsUnifiedCreativeAPIFields").retailerItemIDs.getPathOrThrow(e,c)),e=d===b("AdsAPIObjectives").APP_INSTALLS?e:e.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID));b("AdsUnifiedCreativeAPIFields").postClickItemDescription.isSupported(e,c)&&(e=e.deleteIn(b("AdsUnifiedCreativeAPIFields").postClickItemDescription.getPathOrThrow(e,c)));b("AdsUnifiedCreativeAPIFields").postClickItemHeadline.isSupported(e,c)&&(e=e.deleteIn(b("AdsUnifiedCreativeAPIFields").postClickItemHeadline.getPathOrThrow(e,c)));return e}e.exports=a}),null);
__d("adsCollectionAdRemoveCollectionThumbnails",["AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){function a(a,c){return b("AdsUnifiedCreativeAPIFields").collectionThumbnails.isSupported(a,c)?a.deleteIn(b("AdsUnifiedCreativeAPIFields").collectionThumbnails.getPathOrThrow(a,c)):a}e.exports=a}),null);
__d("AdsAPIAdgroupImageLayerRecords",["ApiAdCreativeImageLayerSpecFields","ApiAdCreativeImageTextOverlayContentFields","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;c=(a=b("ApiAdCreativeImageTextOverlayContentFields")).HIGH_PRICE;d=a.LOW_PRICE;f=a.PRICE;a=a.TYPE;var i=(h=b("ApiAdCreativeImageLayerSpecFields")).BLENDING_MODE,j=h.CONTENT,k=h.CROP_IMAGE,l=h.FLOAT_WITH_MARGIN,m=h.FRAME_IMAGE_HASH,n=h.FRAME_SOURCE,o=h.IMAGE_SOURCE,p=h.LAYER_TYPE,q=h.OPACITY,r=h.OVERLAY_POSITION,s=h.OVERLAY_SHAPE,t=h.PAD_IMAGE,u=h.SCALE,v=h.SHAPE_COLOR,w=h.TEXT_COLOR;h=h.TEXT_FONT;c=(b=b("immutable")).Record((g={},g[c]=void 0,g[d]=void 0,g[f]=void 0,g[a]="price",g));f=b.Record((d={},d[p]="image",d[o]="catalog",d[t]=void 0,d[k]=void 0,d));a="DF0005";g="FFFFFF";t=b.Record((o={},o[p]="text_overlay",o[j]=c(),o[l]=void 0,o[q]=100,o[r]="top_left",o[s]="rectangle",o[v]=a,o[w]=g,o[h]="open_sans_bold",o));d=b.Record((k={},k[p]="frame_overlay",k[i]="normal",k[m]=null,k[n]="custom",k[q]=100,k[r]="center",k[u]=100,k));j={makeImageLayerRecord:f,makeTextOverlayLayerContentRecord:c,makeTextOverlayLayerRecord:t,makeFrameOverlayLayerRecord:d,DEFAULT_SHAPE_COLOR:a,DEFAULT_TEXT_COLOR:g};e.exports=j}),null);
__d("AdsDynamicOverlayUtils",["invariant","AdsAPIAdgroupImageLayerRecords","AdsDynamicOverlayOptionsConfig","CatalogVertical","adsAccountGK","immutable","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsAPIAdgroupImageLayerRecords").makeFrameOverlayLayerRecord,i=b("AdsAPIAdgroupImageLayerRecords").makeImageLayerRecord,j=b("AdsAPIAdgroupImageLayerRecords").makeTextOverlayLayerRecord,k=(a=b("immutable")).Map((c={},c[(d=b("CatalogVertical")).NONE]=a.Set(),c[d.AUTOMOTIVE_MODELS]=a.Set(["price","from_price","disclaimer"]),c[d.COMMERCE]=a.Set(["price","strikethrough_price","percentage_off","free_shipping"]),c[d.DESTINATIONS]=a.Set(["price","from_price"]),c[d.FLIGHTS]=a.Set(["price","from_price"]),c[d.HOTELS]=a.Set(["price","from_price","strikethrough_price","percentage_off"]),c[d.MEDIA_TITLES]=a.Set(["price"]),c[d.VEHICLES]=a.Set(["price","strikethrough_price","percentage_off"]),c[d.VEHICLE_OFFERS]=a.Set(["disclaimer"]),c)),l={isVerticalSupported:function(a){return k.has(a)},getValidContents:function(a,c){var d=k.get(a);d=a===b("CatalogVertical").HOTELS&&b("adsAccountGK")._(c,"5NW06JroN")?d.concat(["guest_rating","star_rating"]):d;d!=null||g(0,763);return d},getTextOverlayLayer:function(a){a=a.get("text_overlay");return a instanceof j?a:null},getFrameOverlayLayer:function(a){a=a.get("frame_overlay");return a instanceof h?a:null},getImageLayer:function(a){a=a.get("image");return a instanceof i?a:null},getLayers:function(){return b("immutable").List(["image","frame_overlay","text_overlay"])},createLayer:function(a,b,c){var d=l.getLayers();return a.set(b,c).sortBy(function(b,a){return a},function(a,b){a=d.indexOf(a);b=d.indexOf(b);if(a<b)return-1;return a>b?1:0})},createTextOverlayReducer:function(a){return function(c,d){var e=l.getTextOverlayLayer(c.draftLayerRecordsMap);if(e==null){b("recoverableViolation")("text overlay layer is missing","dpa");return c}return babelHelpers["extends"]({},c,{draftLayerRecordsMap:c.draftLayerRecordsMap.set("text_overlay",a(e,d))})}},createFrameOverlayReducer:function(a){return function(c,d){var e=l.getFrameOverlayLayer(c.draftLayerRecordsMap);if(e==null){b("recoverableViolation")("frame overlay layer is missing","dpa");return c}return babelHelpers["extends"]({},c,{draftLayerRecordsMap:c.draftLayerRecordsMap.set("frame_overlay",a(e,d))})}},createImageLayerReducer:function(a){return function(c,d){var e=l.getImageLayer(c.draftLayerRecordsMap);if(e==null){b("recoverableViolation")("image layer is missing","dpa");return c}return babelHelpers["extends"]({},c,{draftLayerRecordsMap:c.draftLayerRecordsMap.set("image",a(e,d))})}},overlayHasNoCustomLayer:function(a){if(a.count()===0)return!0;var b=l.getImageLayer(a);return a.count()===1&&b!=null?b.get("pad_image")==null&&b.get("crop_image")==null:!1},getPriceOptions:function(a,c){return(c=b("AdsDynamicOverlayOptionsConfig").get(c))==null?void 0:c[a]},setTextOverlayContentPriceFields:function(a,b){if(b.length===1)return a.set("price",b[0].templateTag);else if(b.length===2)return a.set("high_price",b[0].templateTag).set("low_price",b[1].templateTag);return a},usingCreativeTools:function(a){var b;return(a==null?void 0:(b=a.creative)==null?void 0:(b=b.object_story_spec)==null?void 0:(b=b.template_data)==null?void 0:b.image_overlay_spec)!=null||(a==null?void 0:(b=a.creative)==null?void 0:(a=b.object_story_spec)==null?void 0:(b=a.template_data)==null?void 0:b.image_layer_specs)!=null}};e.exports=l}),null);
__d("adsPlacementAssetCopyCustomizationsToPlacement",["AdsAPIAdgroupPaths","AdsAssetFeedUtils","AdsPlacementAssetTargetingRuleUtils","immutable","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){__p&&__p();if(d==null||d.size==0||!b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a))return a;var e=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES);if(e==null)throw b("unrecoverableViolation")("[PAC] TargetingRules should exist","csol_pac");c=b("AdsPlacementAssetTargetingRuleUtils").getTargetingRuleHavingPlacementList(e,c);if(c==null)throw b("unrecoverableViolation")("[PAC] targeting rule with placementlist must exist, since this action will be fired only after an image / video has been customized for the same placement before","csol_pac");var f=c.rule;c=c.index;var g=f;d.forEach(function(a,b){g=g.set(b,a)});f=e.set(c,g);d=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,f);return d}e.exports=a}),null);
__d("AdsPlacementPlatformUtils",["AdsPageTypes","AdsPlacementAPIMigrationUtils","AdsPlacementAPISpecReaderUtils","AdsPlacementPluginList","adsPlacementAPISpecReaderIsActiveFacebookPosition","adsPlacementAPISpecReaderIsActivePublisherPlatform"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAPIMigrationUtils").deprecate,h=(a=b("AdsPlacementAPISpecReaderUtils")).convertCampaignToPlacementSpec,i=a.isActiveAudienceNetworkPosition,j=a.isActiveInstagramPosition,k=a.isOnlyActiveFacebookInstreamVideosPlacement,l=a.isOnlyActivePublisherPlatform;c={hasAnyFacebookPlacement_DEPRECATED:function(a){return a.some(function(a){return a===g(b("AdsPageTypes").DESKTOP_FEED)||a===g(b("AdsPageTypes").MOBILE_FEED)||a===g(b("AdsPageTypes").RIGHT_COLUMN)||a===g(b("AdsPageTypes").HOME)||a===g(b("AdsPageTypes").LOGOUT)})},hasAnyFacebookPlacement:function(a){return b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(a,"facebook")},hasAnyInstreamVideoPlacement:function(a){return b("adsPlacementAPISpecReaderIsActiveFacebookPosition")(a,"instream_video")},hasInstreamVideoPlacementOnly:function(a){return k(a)},hasAnyInstagramPlacement:function(a){return b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(a,"instagram")},hasInstagramIGTVPlacement:function(a){return j(a,"igtv")},hasInstagramStoriesPlacement:function(a){return j(a,"story")},hasAudienceNetworkInstreamVideoPlacement:function(a){return i(a,"instream_video")},hasAudienceNetworkPlacementOnly:function(a){return l(a,"audience_network")},hasAudienceNetworkRewardedVideoPlacement:function(a){return i(a,"rewarded_video")},campaignHasAnyFacebookPlacement:function(a){return b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(h(a),"facebook")},getPlatformPluginForPluginKey:function(a,c){return b("AdsPlacementPluginList").getAllPlatforms().find(function(b){if(c==="placements/platform")return b.key===a;else return b.positions.find(function(b){return b.key===a})})}};e.exports=c}),null);
__d("adsPlacementAssetMutationConvertPhase1ToPhase2",["AdsAdgroupTypeUtils","AdsAPIAdgroupPaths","AdsPlacementAPISpecReaderUtils","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetUtils","AdsPlacementPlatformUtils","AdsUEditorAdgroupImageMutators","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorAdgroupVideoMutators","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups,h=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin;function a(a,c,d,e){var f=h({campaignGroup:d,campaign:c}),g=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.INSTAGRAM.path);d=i(c);return d.reduce(function(a,d){var h=b("nullthrows")(b("AdsPlacementAssetUtils").getPlacementsFromAssetGroup(d));if(b("AdsAdgroupTypeUtils").isVideoAd(a)){var i=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_THUMBNAIL_SOURCE);return b("AdsUEditorAdgroupVideoMutators").addPlacementCustomizationVideo(a,c,f,e,null,!1,g.video_id,g.image_url,null,i,h,"CONVERT_PHASE1_TO_PHASE2")}else return b("AdsUEditorAdgroupImageMutators").addPlacementCustomizationImage({adgroup:a,sourceReducer:"CONVERT_PHASE1_TO_PHASE2",campaign:c,specPlugin:f,adAccount:e,assetGroup:d,imageHash:g.image_hash,imageURL:g.image_url,crops:g.image_crops,placementList:h})},a)}function i(a){a=b("AdsPlacementAPISpecReaderUtils").convertCampaignRecordToPlacementSpec(a);a=b("AdsPlacementPlatformUtils").hasInstagramStoriesPlacement(a);if(a)return[g.INSTAGRAM_STREAM,g.INSTAGRAM_STORY];else return[g.INSTAGRAM_STREAM]}e.exports=a}),null);
__d("adsPlacementAssetMutationConvertToPACSpecForAdditionalCustomizations",["AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdAssetFeedTitlesFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsBrandAwarenessUtils","AdsInterfacesLogger","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementEditorEvents","AdsUEditorAdgroupBodyMutators","AdsUEditorAdgroupHeadlineMutators","AdsUEditorAdgroupUrlMutators","AdsUnifiedCreativeAPIFields","adsPlacementAssetMutationSetAdlabelForDefaultPlacement","immutable","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementEditorEvents").PlacementEditorEvents;function h(a,c,d,e,f,g,h,i){__p&&__p();var j=b("AdsPlacementAssetUtils").hasCustomizationsInSpec(a,c,d,f);if(j)return{updatedAdgroup:a,addedCustomization:!1};var k=b("adsPlacementAssetMutationSetAdlabelForDefaultPlacement")(a,c,d,e,g,h),l=k.updatedAdgroup;j=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES);if(j==null||j.size<=0)throw b("unrecoverableViolation")("[PAC] customization rule should have atleast one rule","csol_pac");var m=b("nullthrows")(b("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements(j),"[PAC] default customization rule cannot be null");j=j.map(function(a){if(b("immutable").is(m,a)){var c;return a.set(f,b("immutable").Map((c={},c.name=k.newAdlabel,c)))}return a});l=l.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,j);j.forEach(function(a){b("immutable").is(a,m)||(l=i(l,c,b("AdsPlacementAssetTargetingRuleUtils").convertTargetingRuleToPlacementList(a)))});return{updatedAdgroup:l,addedCustomization:!0}}function a(a,c,d){__p&&__p();d=[];var e=h(a,c,b("AdsUnifiedCreativeAPIFields").message,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.BODIES,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL,b("AdsAPIAdAssetFeedBodiesFields").ADLABELS,[b("AdsAPIAdAssetFeedBodiesFields").TEXT],b("AdsUEditorAdgroupBodyMutators").copyDefaultPlacementBody),f=e.updatedAdgroup;e=e.addedCustomization;e&&d.push(b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL);var i=h(f,c,b("AdsUnifiedCreativeAPIFields").headline,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,[b("AdsAPIAdAssetFeedTitlesFields").TEXT],b("AdsUEditorAdgroupHeadlineMutators").copyDefaultPlacementHeadline);f=i.updatedAdgroup;e=i.addedCustomization;e&&d.push(b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL);if(b("AdsBrandAwarenessUtils").isWebsiteLinkEnabled(a)){i=h(f,c,b("AdsUnifiedCreativeAPIFields").linkURL,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS,b("AdsAPIAdAssetTargetRuleFields").LINK_URL_LABEL,b("AdsAPIAdAssetFeedLinkURLsFields").ADLABELS,[b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL,b("AdsAPIAdAssetFeedLinkURLsFields").DISPLAY_URL],b("AdsUEditorAdgroupUrlMutators").copyDefaultPlacementURL);f=i.updatedAdgroup;e=i.addedCustomization;e&&d.push(b("AdsAPIAdAssetTargetRuleFields").LINK_URL_LABEL)}if(d.length>0){b("AdsInterfacesLogger").log({eventName:g.PLACEMENT_EDITOR_CONVERT_SPEC_TO_LATEST,data:(c={},c.adgroup_id=a.id,c.event_source=d.concat(","),c)},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)}return f}e.exports=a}),null);
__d("adsPlacementAssetMutationCopyDefaultCustomizations",["AdsBrandAwarenessUtils","AdsUEditorAdgroupBodyMutators","AdsUEditorAdgroupHeadlineMutators","AdsUEditorAdgroupUrlMutators","adsAccountGK","adsPlacementAssetMutationConvertToPACSpecForAdditionalCustomizations","immutable"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){a=b("adsPlacementAssetMutationConvertToPACSpecForAdditionalCustomizations")(c,d,a);a=b("AdsUEditorAdgroupBodyMutators").copyDefaultPlacementBody(a,d,e);a=b("AdsUEditorAdgroupHeadlineMutators").copyDefaultPlacementHeadline(a,d,e);b("AdsBrandAwarenessUtils").isWebsiteLinkEnabled(c)&&(a=b("AdsUEditorAdgroupUrlMutators").copyDefaultPlacementURL(a,d,e));return a}e.exports=a}),null);
__d("adsPlacementAssetMutationRemoveTextAssetForTargetingRule",["AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsPlacementAssetCustomizationTypes","adsPlacementAssetCustomizableFields","immutable","isAdgroupAssetFeedRulesConsistentWithField"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationConsistency;function h(a,c,d,e,f,h,i){__p&&__p();a=a;d=b("isAdgroupAssetFeedRulesConsistentWithField")(a,d,e);if(d.status!==g.UNUSED_LABEL_IN_ASSET_LIST)return a;e=d.fieldTypeLabels;a=e.reduce(function(a,d){var e=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(a.getIn(f),i,d).index;if(e==null)return a;a=b("AdsAssetFeedMutationUtils").isolateAssetWithLabel(a,c,h,e,i,d);e=a.adgroupWithIsolatedAsset;d=a.isolatedAssetIndex;return b("AdsAssetFeedMutationUtils").removeAssetAtIndex(e,c,h,d)},a);return a}function a(a,c){a=a;a=b("adsPlacementAssetCustomizableFields").reduce(function(a,b){var d=b.assetFeedField,e=b.targetingRuleField,f=b.assetPath,g=b.specField;b=b.labelField;return h(a,c,d,e,f,g,b)},a);return a}e.exports=a}),null);
__d("adsPlacementCustomizationConvertToStaticAdWithExistingPost",["AdsAPIAdgroupRecordUtils"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.creative;return c==null||!b("AdsAPIAdgroupRecordUtils").isExistingPostAd(a)?a:a.set("creative",c["delete"]("asset_feed_spec"))}e.exports=a}),null);
__d("adsPlacementAssetMutationRemoveCustomizationAsset",["AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsMutators","AdsPlacementAssetTargetingRuleUtils","AdsTargetingRuleUtils","AdsUnifiedCreativeAPIFields","ApiDynamicCreativeOptimizationTypes","adsPlacementAssetMutationConvertFromAssetFeedSpec","adsPlacementAssetMutationRemoveTextAssetForTargetingRule","adsPlacementCustomizationConvertToStaticAdWithExistingPost","immutable","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsMutators").deleteIn;function h(a,c,d,e){var f;f=e==="image"?b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((f=a.creative)==null?void 0:(f=f.asset_feed_spec)==null?void 0:f.images,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,d,b("AdsAPIAdAssetFeedImagesFields").HASH).index:b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((f=a.creative)==null?void 0:(f=f.asset_feed_spec)==null?void 0:f.videos,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,d,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID).index;if(f==null)throw b("unrecoverableViolation")("asset with given label must exist in asset feed","csol_pac");return e==="image"?b("AdsAssetFeedMutationUtils").removeAssetAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,f):b("AdsAssetFeedMutationUtils").removeAssetAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").videoID,f)}function a(a,c,d,e,f,i){__p&&__p();var j,k,l=h(a,c,d,e);j=(j=l.creative)==null?void 0:(j=j.asset_feed_spec)==null?void 0:j.images;k=(k=l.creative)==null?void 0:(k=k.asset_feed_spec)==null?void 0:k.videos;var m=j?j.count():0,n=k?k.count():0,o=b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(l),p=b("AdsAssetFeedUtils").isDLOAdgroupFromRecord(l),q=m+n===1;j&&m===0&&(l=g(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES,l));k&&n===0&&(l=g(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS,l));if(q){n=m===0?"video":"image";q=m===0?k:j;m=b("AdsAssetFeedFieldUtils").getAssetLabelListAtIndex(q,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,0);k=b("AdsAssetFeedUtils").isPacAdgroupUsingTextDOF(a);if((m==null||m.size<=1)&&f&&!o)if(!k)return b("AdsAPIAdgroupRecordUtils").isExistingPostAd(a)?b("adsPlacementCustomizationConvertToStaticAdWithExistingPost")(a):b("adsPlacementAssetMutationConvertFromAssetFeedSpec")(n,l,b("nullthrows")(c.pivots.objective));else return b("AdsAssetFeedMutationUtils").convertPACDofToDofAssetFeedSpecAdgroup(a,n,c,i)}j=e==="image"?b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL:b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL;q=b("AdsTargetingRuleUtils").getTargetingRuleEntryForLabel(l.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),j,d).value;if(q==null)throw b("unrecoverableViolation")("asset with given label must exist in targeting rules","csol_pac");m=l.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES);f=b("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements(m);if(!f)throw b("unrecoverableViolation")("targetspec should have at least one rule.","csol_pac");k=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromAnyTargetingRuleMediaLabelField(f);if(k==null)return l;a=b("AdsAssetFeedUtils").getAssetMediaAdlabelCount(l);if(p&&a<=0){l=b("AdsAssetFeedMutationUtils").removeMediaLabelFromAssetCustomizationRules(l,j);return l}if(o){l=b("AdsAssetFeedMutationUtils").removeMediaByLabel(l,j,d);if(a===1){l=b("AdsAssetFeedUtils").setOptimizationType(l,b("ApiDynamicCreativeOptimizationTypes").LANGUAGE);e=(n=l.creative)==null?void 0:(i=n.asset_feed_spec)==null?void 0:i.images;o=(f=l.creative)==null?void 0:(p=f.asset_feed_spec)==null?void 0:p.videos;e!=null?l=l.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("immutable").List(["SINGLE_IMAGE"])):o!=null&&(l=l.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("immutable").List(["SINGLE_VIDEO"])))}return l}d=b("AdsPlacementAssetTargetingRuleUtils").movePlacementsInTargetingRules(m||b("immutable").List(),j,k,b("AdsPlacementAssetTargetingRuleUtils").convertTargetingRuleToPlacementList(q)).updatedTargetingRules;l=l.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,d);l=b("adsPlacementAssetMutationRemoveTextAssetForTargetingRule")(l,c);return l}e.exports=a}),null);
__d("adsPlacementAssetMutationRemoveCustomizationImage",["AdsAPIAdAssetFeedImagesFields","AdsAssetFeedFieldUtils","AdsPACSpecMutationAsyncLog","AdsUEditorAdgroupImageMutators","adsPlacementAssetMutationRemoveCustomizationAsset","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f,g){__p&&__p();var h;f===void 0&&(f=!0);g===void 0&&(g=!1);b("AdsPACSpecMutationAsyncLog").log(a,g?"REMOVE_IMAGE_START_DOF":"REMOVE_IMAGE_START",e);h=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((h=a.creative)==null?void 0:(h=h.asset_feed_spec)==null?void 0:h.images,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,d,b("AdsAPIAdAssetFeedImagesFields").HASH).index;if(h==null)throw b("unrecoverableViolation")("asset with given label must exist in asset feed","csol_pac");a=b("AdsUEditorAdgroupImageMutators").isolateImageAssetWithLabel(a,c,h,d);h=a.adgroupWithIsolatedImageAsset;a=b("adsPlacementAssetMutationRemoveCustomizationAsset")(h,c,d,"image",f,g);b("AdsPACSpecMutationAsyncLog").log(a,"REMOVE_IMAGE_END",e);return a}e.exports=a}),null);
__d("adsPlacementAssetMutationRemoveCustomizationVideo",["adsPlacementAssetMutationRemoveCustomizationAsset"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){e===void 0&&(e=!0);return b("adsPlacementAssetMutationRemoveCustomizationAsset")(a,c,d,"video",e,!1)}e.exports=a}),null);
__d("adsPlacementAssetMutationRemovePlacementFromCustomization",["AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsPlacementAssetTargetingRuleUtils","AdsTargetingRuleUtils","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupImageMutators","AdsUEditorAdgroupVideoMutators","AdsUnifiedCreativeAPIFields","ApiAdObjectTypes","adsContainsAssetCustomizationPlacement","immutable","isFalsey","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b){return a==null||a.size!==1?!1:a.some(function(a){return a.platform===b.platform&&a.position===b.position})}function a(a,c,d,e){__p&&__p();var f;e=g(e,d);var h=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),i=b("AdsPlacementAssetTargetingRuleUtils").targetingRulesToAnyMediaLabelsPlacementListsMap(h,!e),j=null;e?j=Array.from(i.keys()).find(function(a){a=i.get(a);return a.isEmpty()}):j=Array.from(i.keys()).find(function(a){return b("adsContainsAssetCustomizationPlacement")(i.get(a),d)});if(b("isFalsey")(j))return a;var k=b("AdsPlacementAssetTargetingRuleUtils").getMediaAssetTypeFromTargetRuleLabel(h,j);f=k==="image"?b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((f=a.creative)==null?void 0:(f=f.asset_feed_spec)==null?void 0:f.images,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,j,b("AdsAPIAdAssetFeedImagesFields").HASH).index:b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((f=a.creative)==null?void 0:(f=f.asset_feed_spec)==null?void 0:f.videos,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,j,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID).index;if(f==null)throw b("unrecoverableViolation")("asset with given label must exist in asset feed","csol_pac");if(i.get(j).size===1||e){if(k==="image"){var l=b("AdsUEditorAdgroupImageMutators").isolateImageAssetWithLabel(a,c,f,j),m=l.adgroupWithIsolatedImageAsset;l=l.isolatedImageAssetIndex;m=b("AdsAssetFeedMutationUtils").removeAssetAtIndex(m,c,b("AdsUnifiedCreativeAPIFields").imageHash,l)}else{l=b("AdsUEditorAdgroupVideoMutators").isolateVideoAssetWithLabel(a,c,f,j);f=l.adgroupWithIsolatedVideoAsset;l=l.isolatedVideoAssetIndex;m=b("AdsAssetFeedMutationUtils").removeAssetAtIndex(f,c,b("AdsUnifiedCreativeAPIFields").videoID,l)}f=b("AdsTargetingRuleUtils").getTargetingRuleEntryForLabel(h,k==="image"?b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL:b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL,j).index;if(f==null)throw b("unrecoverableViolation")("asset with given label must exist in targeting rules","csol_pac");l=h["delete"](f);m=m.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,l);f=m.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES)||b("immutable").List();var n=m.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS)||b("immutable").List();if(f.size+n.size===1){f=f.size===1?{assets:f,objectStorySpecType:b("ApiAdObjectTypes").SHARE}:{assets:n,objectStorySpecType:b("ApiAdObjectTypes").VIDEO};n=f.assets;f=f.objectStorySpecType;n=b("AdsAssetFeedFieldUtils").getAssetLabelListAtIndex(n,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,0);if(n==null||n.size<=1)return b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(f,m,b("nullthrows")(c.pivots.objective))}if(e){n=l.get(0);if(n!=null){f=n.set(b("AdsAPIAdAssetTargetRuleFields").CUSTOMIZATION_SPEC,b("immutable").Map());m=m.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,l.set(0,f))}}return m}else{var o=i.get(j).filter(function(a){return a.platform!==d.platform||a.position!==d.position});c=h.toArray().map(function(a){var c=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(a,k==="image"?b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL:b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL);return c===j?a.set(b("AdsAPIAdAssetTargetRuleFields").CUSTOMIZATION_SPEC,b("AdsPlacementAssetTargetingRuleUtils").convertPlacementListToTargeting(o.toArray())):a});return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,b("immutable").List(c))}}e.exports=a}),null);
__d("adsPlacementAssetMutationUpdateMediaAsset",["AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsPlacementAssetTargetingRuleUtils","AdsUEditorAdgroupImageMutators","AdsUEditorAdgroupVideoMutators","AdsUnifiedCreativeAPIFields","immutable","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRuleNullable;function h(a,c,d,e){__p&&__p();var f;f=e=="image"?(f=a.creative)==null?void 0:(f=f.asset_feed_spec)==null?void 0:f.images:(f=a.creative)==null?void 0:(f=f.asset_feed_spec)==null?void 0:f.videos;f=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(f,e=="image"?b("AdsAPIAdAssetFeedImagesFields").ADLABELS:b("AdsAPIAdAssetFeedVideosFields").ADLABELS,d);f=f.index;if(f==null)throw b("unrecoverableViolation")("asset with given label must exist in asset feed","csol_pac");if(e=="image"){e=b("AdsUEditorAdgroupImageMutators").isolateImageAssetWithLabel(a,c,f,d);var g=e.adgroupWithIsolatedImageAsset;e=e.isolatedImageAssetIndex;g=g;e=e}else{a=b("AdsUEditorAdgroupVideoMutators").isolateVideoAssetWithLabel(a,c,f,d);c=a.adgroupWithIsolatedVideoAsset;f=a.isolatedVideoAssetIndex;g=c;e=f}return{adgroupWithIsolatedAsset:g,isolatedAssetIndex:e}}function i(a,c,d,e){return e=="image"?b("AdsAssetFeedMutationUtils").removeAssetAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,d):b("AdsAssetFeedMutationUtils").removeAssetAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").videoID,d)}function j(a,c,d,e,f){__p&&__p();var h=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),i=(d=d)!=null?d:c;d=!1;h=h.map(function(a){var h=g(a,e);if(h===c){d=!0;h=a["delete"](e);return h.set(f,b("immutable").Map((h={},h.name=i,h)))}return a}).filter(Boolean).toArray();if(!d)throw b("unrecoverableViolation")("label must exist in targeting rule","csol_pac");return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,b("immutable").List(h))}function a(a,c,d,e,f,g){__p&&__p();if(!b("AdsAssetFeedUtils").hasPlacementCustomizationFromSpec(c)){b("recoverableViolation")("adsPlacementAssetMutationMediaConversion only support ad with placement customization","csol_pac");return c}var m=g.format,n=f=="image"?b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES:b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS,o=m=="image"?b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES:b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS,p=f=="image"?b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL:b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL,q=m=="image"?b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL:b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL;c=h(c,d,e,f);var r=c.adgroupWithIsolatedAsset;c=c.isolatedAssetIndex;var s;if(m!=f){r=r.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("immutable").List.of("AUTOMATIC_FORMAT"));s=b("AdsAssetFeedFieldUtils").getAssetBackgroundColor(r.getIn(n).get(c));r=i(r,d,c,f);r.getIn(n)!=null&&r.getIn(n).isEmpty()&&(r=r.deleteIn(n));r=j(r,e,null,p,q);n=r.getIn(o);c=n!=null?n.size:0}return g.format==="image"?l(r,d,c,g,f!==m?e:null,s):k(r,d,a,c,g,f!==m?e:null,s)}function k(a,c,d,e,f,g,h){a=b("AdsUEditorAdgroupVideoMutators").updatePlacementCustomizationVideoAtIndex(a,c,d,e,f.videoID,f.thumbnailURL,b("immutable").fromJS(h),f.thumbnailSource);g!=null&&(a=b("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").videoID,e,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,g));return b("AdsUEditorAdgroupVideoMutators").removeDuplicateVideoAssets(a,c)}function l(a,c,d,e,f,g){var h=a;f==null&&(h=b("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,d,b("AdsAPIAdAssetFeedImagesFields").IMAGE_CROPS));h=b("AdsUEditorAdgroupImageMutators").updateCustomizationImageAtIndex(h,c,d,e.hash!=null||e.url!=null,e.hash,e.url,b("immutable").fromJS(g),null);f!=null&&(h=b("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(h,c,b("AdsUnifiedCreativeAPIFields").imageHash,d,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,f));h=b("AdsUEditorAdgroupImageMutators").removeDuplicateImageAssets(h,c);return h}e.exports=a}),null);
__d("AdsRemoveCTAEventFieldsForPlacementCustomizedAds",["AdsAPIAdgroupPaths","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsPlacementAssetTargetingRuleUtils","AdsUEditorAdgroupBodyMutators","AdsUEditorAdgroupHeadlineMutators","AdsUEditorAdgroupUrlMutators","AdsUnifiedCreativeAPIFields","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").List([""]);function a(a,c){__p&&__p();if(!b("AdsAssetFeedUtils").hasPlacementCustomizationFromSpec(a))return a;var d=b("AdsUnifiedCreativeAPIFields").callToAction.getValue(a,c);if(typeof d==="string"||d==null)return a;var e=b("AdsAssetFeedMutationUtils").setAssetsArrayInField(a,c,b("AdsUnifiedCreativeAPIFields").callToAction,d.deleteIn([0,"value"]).toArray());d=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES);if(d==null)return e;d.forEach(function(a){a=b("AdsPlacementAssetTargetingRuleUtils").convertTargetingRuleToPlacementList(a);e=b("AdsUEditorAdgroupUrlMutators").addPlacementCustomizationUrl(e,c,a,{website_url:""},a.isEmpty());e=b("AdsUEditorAdgroupUrlMutators").addPlacementCustomizationUrl(e,c,a,{display_url:""},a.isEmpty());e=b("AdsUEditorAdgroupHeadlineMutators").addPlacementCustomizationHeadline(e,c,a,g,a.isEmpty());e=b("AdsUEditorAdgroupBodyMutators").addPlacementCustomizationBody(e,c,a,g,a.isEmpty())});return e}e.exports={removeCTAEventFieldsForPlacementCustomizedAds:a}}),null);
__d("AdsSetCTAEventFieldsForPlacementCustomizedAds",["AdsAPIAdgroupPaths","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsPlacementAssetTargetingRuleUtils","AdsUEditorAdgroupBodyMutators","AdsUEditorAdgroupHeadlineMutators","AdsUEditorAdgroupUrlMutators","AdsUnifiedCreativeAPIFields","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f,g){__p&&__p();if(!b("AdsAssetFeedUtils").hasPlacementCustomizationFromSpec(a))return a;var h=b("AdsUnifiedCreativeAPIFields").callToAction.getValue(a,c);if(typeof h==="string"||h==null)return a;var i=b("AdsAssetFeedMutationUtils").setAssetsArrayInField(a,c,b("AdsUnifiedCreativeAPIFields").callToAction,h.setIn([0,"value","event_id"],e).setIn([0,"value","link"],d).toArray());h=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES);if(h==null||f==null&&g==null)return i;h.forEach(function(a){a=b("AdsPlacementAssetTargetingRuleUtils").convertTargetingRuleToPlacementList(a);i=b("AdsUEditorAdgroupUrlMutators").addPlacementCustomizationUrl(i,c,a,{website_url:d},a.isEmpty());f!=null&&(i=b("AdsUEditorAdgroupHeadlineMutators").addPlacementCustomizationHeadline(i,c,a,b("immutable").List([f]),a.isEmpty()));g!=null&&(i=b("AdsUEditorAdgroupBodyMutators").addPlacementCustomizationBody(i,c,a,b("immutable").List([g]),a.isEmpty()))});return i}e.exports={setCTAEventFieldsForPlacementCustomizedAds:a}}),null);
__d("AdsCarteUtils",["invariant","AdsAPIAdAssetCustomizationRuleFields","AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetFeedDescriptionsFields","AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdAssetFeedTitlesFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetLinkURLFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsUnifiedCreativeAPIFields","guid","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={makeUniqueLabelName:function(){return"carte_asset_"+b("guid")()},isAdCampaignCarteEnabled:function(a){return a.is_dynamic_creative_asset_customization},addAssetIfNotExistAndUpdateCustomizationRule:function(a,c,d,e,f,g,i){c=b("AdsAssetFeedMutationUtils").addAssetIfNotExist(c,d,e,f,g,h.makeUniqueLabelName);d=c.adLabelName;e=c.mutatedAdgroup;f=a.setIn([i,"name"],d);return{mutatedCustomizationRule:f,mutatedAdgroup:e}},_isBlankString:function(a){return a!=null&&a.trim().length===0},_isEmptyObject:function(a){return a!=null&&Object.keys(a).length===0},resetCarteSegementPriorities:function(a){return a.map(function(a,c){return a.setIn([b("AdsAPIAdAssetCustomizationRuleFields").PRIORITY],c+1)})},normalizeCustomizationRules:function(a){a=((a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.asset_customization_rules)||b("immutable").List();a=a.sortBy(function(a,c,d){return a.getIn([b("AdsAPIAdAssetCustomizationRuleFields").PRIORITY])});return h.resetCarteSegementPriorities(a)},tryRemoveAssetIfReferenceChanges:function(a,c,d,e,f,g,h){var i=[f,"name"];g=g.getIn(i);var j=a;!!g&&g!==h.getIn(i)&&(j=b("AdsAssetFeedMutationUtils").removeAssetIfNotUsed(a,c,d,e,g,f));return j},removeUnusedAssets:function(a,c,d,e){e===void 0&&(e=b("immutable").Map());a=a;a=h.tryRemoveAssetIfReferenceChanges(a,c,b("AdsUnifiedCreativeAPIFields").headline,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").TITLE_LABEL,d,e);a=h.tryRemoveAssetIfReferenceChanges(a,c,b("AdsUnifiedCreativeAPIFields").linkDescription,b("AdsAPIAdAssetFeedDescriptionsFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").DESCRIPTION_LABEL,d,e);a=h.tryRemoveAssetIfReferenceChanges(a,c,b("AdsUnifiedCreativeAPIFields").message,b("AdsAPIAdAssetFeedBodiesFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").BODY_LABEL,d,e);a=h.tryRemoveAssetIfReferenceChanges(a,c,b("AdsUnifiedCreativeAPIFields").videoID,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").VIDEO_LABEL,d,e);a=h.tryRemoveAssetIfReferenceChanges(a,c,b("AdsUnifiedCreativeAPIFields").callToAction,"adlabels",b("AdsAPIAdAssetCustomizationRuleFields").CALL_TO_ACTION_LABEL,d,e);a=h.tryRemoveAssetIfReferenceChanges(a,c,b("AdsUnifiedCreativeAPIFields").linkURL,b("AdsAPIAdAssetLinkURLFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").LINK_URL_LABEL,d,e);return a},_updateCustomizaionRuleWithNewAssetField:function(a,c,d,e,f,i,j){__p&&__p();f=f.filter(function(a){return!!a});if(f.size===0)return{mutatedCustomizationRule:a,mutatedAdgroup:c};var k=a.getIn([j,"name"]);f=f;if(k!=null){typeof k==="string"||k instanceof String||g(0,953);var l=e.getValue(c,d);if(l!=null){l instanceof b("immutable").List||g(0,4847);l=b("AdsAssetFeedFieldUtils").getAssetMapForLabels(l,i,[k]).get(k);l!=null&&(f=l.remove(i).merge(f))}}return h.addAssetIfNotExistAndUpdateCustomizationRule(a,c,d,e,f,i,j)},_editTextAsset:function(a,c,d,e,f,g,i,j){if((j instanceof String||typeof j==="string")&&h._isBlankString(j))return{mutatedCustomizationRule:a["delete"](g),mutatedAdgroup:c};else if(j!=null)return h._updateCustomizaionRuleWithNewAssetField(a,c,d,e,b("immutable").Map([[i,j]]),f,g);return{mutatedCustomizationRule:a,mutatedAdgroup:c}},editCarteSegmentBody:function(a,c,d,e){__p&&__p();var f=h.normalizeCustomizationRules(a);d>=0&&d<f.size||g(0,4848);var i=f.get(d),j=i;a=a;e=h._editTextAsset(j,a,c,b("AdsUnifiedCreativeAPIFields").message,b("AdsAPIAdAssetFeedBodiesFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").BODY_LABEL,b("AdsAPIAdAssetFeedBodiesFields").TEXT,e);j=e.mutatedCustomizationRule;a=e.mutatedAdgroup;f=f.set(d,j);a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,f);return h.removeUnusedAssets(a,c,i,j)},editCarteSegmentWithSingleVideo:function(a,c,d,e,f,i,j,k,l){__p&&__p();var m=h.normalizeCustomizationRules(a);d>=0&&d<m.size||g(0,4848);var n=m.get(d),o=n;a=a;e!=null&&(o=o.setIn([b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC],e));h._isBlankString(f)?o=o["delete"](b("AdsAPIAdAssetCustomizationRuleFields").NAME):f!=null&&(o=o.setIn([b("AdsAPIAdAssetCustomizationRuleFields").NAME],f));e=h._editTextAsset(o,a,c,b("AdsUnifiedCreativeAPIFields").headline,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").TITLE_LABEL,b("AdsAPIAdAssetFeedTitlesFields").TEXT,i);o=e.mutatedCustomizationRule;a=e.mutatedAdgroup;f=h._editTextAsset(o,a,c,b("AdsUnifiedCreativeAPIFields").linkDescription,b("AdsAPIAdAssetFeedDescriptionsFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").DESCRIPTION_LABEL,b("AdsAPIAdAssetFeedDescriptionsFields").TEXT,l);o=f.mutatedCustomizationRule;a=f.mutatedAdgroup;if(h._isEmptyObject(j))o=o["delete"](b("AdsAPIAdAssetCustomizationRuleFields").VIDEO_LABEL);else if(j!=null){i=h._updateCustomizaionRuleWithNewAssetField(o,a,c,b("AdsUnifiedCreativeAPIFields").videoID,b("immutable").Map([[b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID,j.videoID],[b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL,j.thumbnailURL]]),b("AdsAPIAdAssetFeedVideosFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").VIDEO_LABEL);o=i.mutatedCustomizationRule;a=i.mutatedAdgroup}if(h._isEmptyObject(k)){o=o["delete"]((e=b("AdsAPIAdAssetCustomizationRuleFields")).CALL_TO_ACTION_LABEL);o=o["delete"](e.TITLE_LABEL);o=o["delete"](e.DESCRIPTION_LABEL);o=o["delete"](e.LINK_URL_LABEL)}else if(k!=null){if(k.type!=null){l=h._updateCustomizaionRuleWithNewAssetField(o,a,c,b("AdsUnifiedCreativeAPIFields").callToAction,b("immutable").Map([["type",k.type]]),"adlabels",b("AdsAPIAdAssetCustomizationRuleFields").CALL_TO_ACTION_LABEL);o=l.mutatedCustomizationRule;a=l.mutatedAdgroup}f=h._updateCustomizaionRuleWithNewAssetField(o,a,c,b("AdsUnifiedCreativeAPIFields").linkURL,b("immutable").Map([[b("AdsAPIAdAssetFeedLinkURLsFields").DISPLAY_URL,k.displayURL],[b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL,k.websiteURL]]),b("AdsAPIAdAssetLinkURLFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").LINK_URL_LABEL);o=f.mutatedCustomizationRule;a=f.mutatedAdgroup}m=m.set(d,o);a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,m);return h.removeUnusedAssets(a,c,n,o)},appendCarteSegment:function(a,c){c=h.normalizeCustomizationRules(a);var d=c.size===0?0:c.size-1,e=d+1;e=c.size===0?b("immutable").Map([[b("AdsAPIAdAssetCustomizationRuleFields").PRIORITY,e],[b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC,b("immutable").Map()]]):c.last();c=c.splice(d,0,e);c=h.resetCarteSegementPriorities(c);return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,c)},moveCarteSegment:function(a,c,d,e){if(e===0)return a;c=h.normalizeCustomizationRules(a);var f=c.get(d);e=e+d;e>=0&&e<c.size||g(0,4849);c=c.remove(d).splice(e,0,f);c=h.resetCarteSegementPriorities(c);return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,c)},deleteCarteSegment:function(a,c,d){var e=h.normalizeCustomizationRules(a);d>=0&&d<e.size||g(0,4850);var f=e.get(d);e=e["delete"](d);e=h.resetCarteSegementPriorities(e);d=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,e);return h.removeUnusedAssets(d,c,f)},editCarteSegmentationCategories:function(a,c,d){__p&&__p();c=h.normalizeCustomizationRules(a);var e=c.last();c=c.pop();c=c.map(function(a){var c=a.get(b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC)||b("immutable").Map();c instanceof b("immutable").Map||g(0,4851);c=c.filter(function(a,b){return d.includes(b)});return a.set(b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC,c)});c=c.push(e);return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,c)},enableCarteForAdgroup:function(a){return babelHelpers["extends"]({},a,{creative:{asset_feed_spec:{ad_formats:["SINGLE_VIDEO"],asset_customization_rules:[{priority:1,customization_spec:{}}],optimization_type:"ASSET_CUSTOMIZATION"}}})}};e.exports=h}),null);
__d("AdsDCOFunnelUtils",["FBLogger","WebFunnelLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="DynamicCreativeAdCreationFunnelDefinition";function h(a,c,d){var e=new(b("WebFunnelLogger"))(g).setAction(a).setSessionKey(c);d&&e.markEnd();e.log();b("FBLogger")("dynamic_creative_optimization").info("%s, ad set id: %s, mark end: %s",a,c,d)}a={logDCOTurnedOn:function(a,c){var d=c!==void 0?c:"MIXED";b("FBLogger")("dynamic_creative_optimization").info("%s, ad set id: %s, objective: %s, mark start: %s","dco_turned_on",a,c,!0);new(b("WebFunnelLogger"))(g).setAction("dco_turned_on").addFunnelPayload("objective",d).setSessionKey(a).markStart().log()},logDCOTurnedOff:function(a){h("dco_turned_off",a,!1)},logDCOCancelAtModal:function(a,b){b?h("cancelled_at_modal",a,!1):h("cancelled_turn_off",a,!1)},logDCOAcceptAtModal:function(a,b){b?h("accept_at_modal",a,!1):h("confirm_turn_off",a,!0)},logNoAdgroupBypassModal:function(a){h("bypass_modal",a,!1)},logConvertSpecToDCO:function(a){h("convert_spec_to_dco",a,!1)}};e.exports=a}),null);
__d("AdsProfilerMultiProfile",["performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=function(){__p&&__p();function a(a){this.$1=[],this.$2=a}var c=a.prototype;c.measureStart=function(){return(g||(g=b("performanceNow")))()};c.measureEnd=function(a,c){this.$1.push({name:a,start:c,end:(g||(g=b("performanceNow")))()})};c.finish=function(){this.$2(this.$1)};return a}();e.exports=a}),null);
__d("AdsProfilerMultiIntervalProducer",["AdsProfilerEntities","AdsProfilerMultiProfile"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsProfilerEntities").AdsProfilerProducer;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getProfile=function(a){var c=this.getPropagate();return!c?null:new(b("AdsProfilerMultiProfile"))(function(b){return c({entries:b,context:a})})};return c}(a);e.exports=c}),null);
__d("AdsProfilerValidationProducers",["AdsProfilerMultiIntervalProducer"],(function(a,b,c,d,e,f){"use strict";a=new(b("AdsProfilerMultiIntervalProducer"))("JS_VALIDATOR_EXEC");c=new(b("AdsProfilerMultiIntervalProducer"))("REASON_VALIDATOR_EXEC");d={jsValidatorExec:a,reasonValidatorExec:c};f={__reason__:d};e.exports=f}),null);
__d("AdsLeadGenFormPreviewConstants",["fbt","AdsLeadGenConstants","AdsLeadGenFormFeatureToCapability"],(function(a,b,c,d,e,f,g){"use strict";a={FACEBOOK:"Facebook",INSTAGRAM:"Instagram",DESKTOP:"Desktop"};f=(c={},c[b("AdsLeadGenConstants").DATE_OF_BIRTH_QUESTION_KEY]=g._("Date of Birth Question"),c[(d=b("AdsLeadGenFormFeatureToCapability")).LEAD_AD_WITH_CANVAS]=g._("Canvas Context Card Format"),c[d.LEAD_GEN_WITH_CONTEXT_CARD]=g._("Context Card"),c[d.LEAD_AD_WITH_CUSTOM_DISCLAIMER]=g._("Custom Disclaimer"),c[d.LEAD_AD_WITH_CUSTOM_DISCLAIMER_AND_OPTIONAL_CHECKBOX]=g._("Custom Disclaimer Optional Checkboxes"),c[d.LEAD_AD_WITH_CONTEXT_CARD_PHOTO]=g._("Context Card Image"),c[d.LEAD_AD_WITH_CUSTOMIZED_THANK_YOU_PAGE]=g._("Customized Thank You Page"),c[d.LEAD_AD_WITH_IMPROVED_AD_UNIT]=g._("Higher Intent Form Type"),c[d.LEAD_AD_WITH_STORE_LOOKUP]=g._("Store Lookup Question"),c[d.LEAD_AD_WITH_STORE_LOOKUP_TYPEAHEAD]=g._("Store Lookup Typeahead Question"),c[d.LEAD_AD_WITH_DATE_TIME_INPUT]=g._("Appointment Scheduling Question"),c);e.exports={PreviewEnum:a,capabilityToFeature:f}}),null);
__d("AdsLeadGenPlacementUtils",["errorCode","errorDesc","AdsAPIAdgroupPaths","AdsAPIDevicePlatform","AdsError","AdsLeadGenConstants","AdsLeadGenFormPreviewConstants","AdsPlacementAPISpecReaderUtils","adsPlacementAPISpecReaderIsActivePublisherPlatform"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsLeadGenFormPreviewConstants").PreviewEnum,j={isInstagramActive:function(a){return b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(a,"instagram")},isFacebookActive:function(a){return b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(a,"facebook")},isDesktopPlatformActive:function(a){return b("AdsPlacementAPISpecReaderUtils").isActiveDevicePlatform(a,b("AdsAPIDevicePlatform").DESKTOP)},isMobilePlatformActive:function(a){return b("AdsPlacementAPISpecReaderUtils").isActiveDevicePlatform(a,b("AdsAPIDevicePlatform").MOBILE)},hasCanvasError:function(a){return j.isInstagramActive(a)||j.isFacebookActive(a)&&j.isDesktopPlatformActive(a)},hasStoreLookupError:function(a){return j.isInstagramActive(a)},hasStoreLookupTypeaheadError:function(a){return j.isInstagramActive(a)||j.isFacebookActive(a)&&j.isDesktopPlatformActive(a)},hasAppointmentSchedulingError:function(a){return j.isInstagramActive(a)||j.isFacebookActive(a)&&j.isDesktopPlatformActive(a)},hasQualityBundlePlacementNotice:function(a){return j.isInstagramActive(a)||j.isFacebookActive(a)&&j.isDesktopPlatformActive(a)},hasQualityBundlePlacementErrors:function(a){var c=b("AdsPlacementAPISpecReaderUtils").isOnlyActivePublisherPlatform(a,"instagram");a=b("AdsPlacementAPISpecReaderUtils").isOnlyActiveDevicePlatform(a,b("AdsAPIDevicePlatform").DESKTOP);return c||a},hasNPCPlacementErrors:function(a){var c=b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(a,"facebook");a=b("AdsPlacementAPISpecReaderUtils").isActiveDevicePlatform(a,b("AdsAPIDevicePlatform").MOBILE);return!c||!a},getPreviewPlacements:function(a){var b=[];if(a&&a[0]){a=a[0];j.isFacebookActive(a)&&b.push(i.FACEBOOK);j.isInstagramActive(a)&&b.push(i.INSTAGRAM)}return b},hasDateofBirthQuestionError:function(a){return b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(a,"instagram")},getQualityBundlePlacementErrors:function(a){return j.hasQualityBundlePlacementErrors(a)?[new(b("AdsError"))(1892136,h._(function(a,b){return a._("The current selected placement is not supported for Forms using 'Higher Intent' Form Type. Please update the placement or select a Form using 'More Volume' Form Type.")},{}),{level:b("AdsError").Level.WARN,path:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.VALUE.LEAD_GEN_FORM_ID})]:[]},getNPCPlacementErrors:function(a){return j.hasQualityBundlePlacementErrors(a)?[new(b("AdsError"))(1892154,h._(function(a,b){return a._("The current selected placement is not supported for Instant Experience using a Form component. Please update the placement include Mobile Devices on Facebook Platform")},{}),{level:b("AdsError").Level.WARN,path:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.VALUE.LEAD_GEN_FORM_ID})]:[]},getDateofBirthQuestionError:function(a){return j.hasDateofBirthQuestionError(a)?h._(function(a,b){return a._("Date of birth is not a supported form question on Instagram")},{}):""},getQuestionErrorMsg:function(a,c){switch(a.value){case b("AdsLeadGenConstants").DATE_OF_BIRTH_QUESTION_ID:return j.getDateofBirthQuestionError(c)}return""},getQuestionErrorMsgByLabel:function(a,c){switch(a.id){case b("AdsLeadGenConstants").DATE_OF_BIRTH_QUESTION_ID:return j.getDateofBirthQuestionError(c)}return""}};e.exports=j}),null);
__d("AdsMessengerJSONUtils",["AdsMessengerJSONMediaFormatType","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={getFormat:function(a){return b("getByPath")(a,["media_type"])},getSurface:function(a){return b("getByPath")(a,["surface"])},getLandingScreenType:function(a){return b("getByPath")(a,["landing_screen_type"])},getTemplateID:function(a){return b("getByPath")(a,["template_id"])},getGenericElement:function(a){a=b("getByPath")(a,["image_format","message","attachment","payload","elements"]);return a&&a[0]},getImageHash:function(a){a=this.getGenericElement(a);return a&&a.image_hash},getGenericTitle:function(a){a=this.getGenericElement(a);return a&&a.title},getGenericSubtitle:function(a){a=g.getGenericElement(a);return a&&a.subtitle},getVideo:function(a){return b("getByPath")(a,["video_format","message","attachment","payload","attachment_id"])},getText:function(a){return this.isTextWithQR(a)&&this.getSurface(a)==="business_tools"?b("getByPath")(a,["text_format","message","text"]):this.isTextWithQR(a)?b("getByPath")(a,["text_format","message","second_text"]):b("getByPath")(a,["text_format","message","attachment","payload","text"])},getTextFormatCTA:function(a){return b("getByPath")(a,["text_format","message","attachment","payload","buttons"])},getTextFormatQR:function(a){return b("getByPath")(a,["text_format","message","quick_replies"])},getImageFormatQR:function(a){return b("getByPath")(a,["image_format","message","quick_replies"])},getImageFormatCTA:function(a){a=this.getGenericElement(a);return a&&a.buttons},getWelcomeMessageText:function(a,c){var d=this.getFormat(a);switch(d){case b("AdsMessengerJSONMediaFormatType").IMAGE:return b("getByPath")(a,["image_format","message","text"]);case b("AdsMessengerJSONMediaFormatType").VIDEO:return b("getByPath")(a,["video_format","message","text"]);case b("AdsMessengerJSONMediaFormatType").TEXT:return c&&!this.isTextWithQR(a)?b("getByPath")(a,["text_format","message","attachment","payload","text"]):b("getByPath")(a,["text_format","message","text"]);default:return null}},isTextWithQR:function(a){var c=this.getFormat(a),d=this.getSurface(a);return c===b("AdsMessengerJSONMediaFormatType").TEXT?d==="business_tools"?!!b("getByPath")(a,["text_format","message","quick_replies"]):!b("getByPath")(a,["text_format","message","attachment"]):!1},isImageWithQR:function(a){var c=this.getFormat(a);return c===b("AdsMessengerJSONMediaFormatType").IMAGE?!!b("getByPath")(a,["image_format","message","quick_replies"]):!1}};e.exports=g}),null);
__d("AdsMessengerLinkUtils",["AdsAPIAdgroupRecordUtils","AdsAPIObjectives","AdsCallToActionTypesCond","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){__p&&__p();var g="((([Hh]ttp[s]?:(\\/\\/))(www\\.)?)|www\\.|[^-\\da-z]|^)m\\.me(\\/|\\/\\/|\\/\\/\\/)[\\w\\d\\S]+",h="((([Hh]ttp[s]?:(\\/\\/))(www\\.)?)|www\\.|[^-\\da-z]|^)messenger\\.com(\\/|\\/\\/|\\/\\/\\/)t\\/[\\w\\d\\S]+",i="((([Hh]ttp[s]?:(\\/\\/))(www\\.)?)|www\\.|[^-\\da-z]|^)telegram\\.me(\\/|\\/\\/|\\/\\/\\/)[\\w\\d\\S]+",j="((([Hh]ttp[s]?:(\\/\\/))(www\\.)?)|www\\.|[^-\\da-z]|^)line\\.me(\\/|\\/\\/|\\/\\/\\/)[\\w\\d\\S]+",k="([^-\\da-z]|^)wechat([^-\\da-z])",l="whatsapp|wtsapp",m="([0-9][-.]?){5}",n="[\\w]+@[\\w]+\\.[\\w\\.]+",o="(((send)|(drop)|(leave)|(give)|(shoot))[\\s\\S]{0,10}((message)|(call)|(email)|(text)|(line))|((message)|(call)|(email)|(text)|(inbox)|(\\Wping)|(contact))[\\s]*((me)|(us)|(our)|([\\s\\S]{1,5}page)))",p={getMessagingRelatedLinkTypes:function(a,b){__p&&__p();if(!a)return[];a=a.toLowerCase();var c=[];a.match(new RegExp(g))&&c.push("mme_link");a.match(new RegExp(i))&&c.push("telegram_link");a.match(new RegExp(j))&&c.push("line_link");a.match(new RegExp(k))&&c.push("wechat_link");a.match(new RegExp(l))&&a.match(new RegExp(m))&&c.push("whatsapp_link");a.match(new RegExp(h))&&c.push("messenger_link");b&&(a.match(new RegExp(n))&&c.push("email_link"),a.match(new RegExp(o))&&c.push("messaging_keyword_text"));return c},hasMessagingRelatedLinkInText:function(a,b){return p.getMessagingRelatedLinkTypes(a,b).length>0},hasMessengerLinkInText:function(a){var b=g;b=new RegExp(b);return a?!!a.toLowerCase().match(b):!1},addMessageCTAForMessagingLinkInText:function(a,c,d,e){__p&&__p();var f=b("AdsAPIAdgroupRecordUtils").getCallToActionType(a,b("nullthrows")(d));if(f)return a;if(!p.hasMessagingRelatedLinkInText(c,!1)||e!==b("AdsAPIObjectives").VIDEO_VIEWS&&e!==b("AdsAPIObjectives").POST_ENGAGEMENT)return a;a=a.setIn(b("AdsUnifiedCreativeAPIFields").callToActionType.getPathOrThrow(a,b("nullthrows")(d)),b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name);if(e===b("AdsAPIObjectives").VIDEO_VIEWS){f=b("AdsAPIAdgroupRecordUtils").getPageID(a,b("nullthrows")(d));a=a.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,b("nullthrows")(d)),p.getShortMessengerLinkWithPageID(f))}return a},getShortMessengerLinkWithPageID:function(a){return"https://m.me/"+(a||"")}};e.exports=p}),null);
__d("adsAdgroupMessengerWelcomeMessageValidationGetEmptyImageError",["errorCode","errorDesc","AdsError"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return new(b("AdsError"))(1815638,h._(function(a,b){return a._("Please select an image for your message.")},{}),{level:b("AdsError").Level.WARN,path:a.concat("image_hash")})}e.exports=a}),null);
__d("adsAdgroupMessengerWelcomeMessageValidationGetEmptyTitleError",["errorCode","errorDesc","AdsError"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return new(b("AdsError"))(1815639,h._(function(a,b){return a._("Please enter a title for your message.")},{}),{level:b("AdsError").Level.WARN,path:a.concat("title")})}e.exports=a}),null);
__d("adsAdgroupMessengerWelcomeMessageValidationGetEmptyVideoError",["errorCode","errorDesc","AdsError"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return new(b("AdsError"))(1815640,h._(function(a,b){return a._("Please select a video for your message.")},{}),{level:b("AdsError").Level.WARN,path:a.concat("attachment_id")})}e.exports=a}),null);
__d("adsAdgroupMessengerWelcomeMessageValidationGetEmptyWelcomeMessageTextError",["errorCode","errorDesc","AdsError"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return new(b("AdsError"))(1815779,h._(function(a,b){return a._("Please enter a text for your welcome message.")},{}),{level:b("AdsError").Level.WARN,path:a.concat("welcome_message_text")})}e.exports=a}),null);
__d("adsAdgroupMessengerWelcomeMessageValidationGetInvalidCTATitleError",["errorCode","errorDesc","AdsError"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,c){return new(b("AdsError"))(1815642,h._(function(a,b){return a._("Please enter a label for your button.")},{}),{level:b("AdsError").Level.WARN,path:a.concat("button_title",c)})}e.exports=a}),null);
__d("adsAdgroupMessengerWelcomeMessageValidationGetInvalidCTAURLError",["errorCode","errorDesc","AdsError"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,c){return new(b("AdsError"))(1815647,h._(function(a,b){return a._("Please enter a valid URL for your button.")},{}),{level:b("AdsError").Level.WARN,path:a.concat("button_url",c)})}e.exports=a}),null);
__d("adsAdgroupMessengerWelcomeMessageValidationGetInvalidIceBreakersError",["errorCode","errorDesc","AdsError"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,c){return new(b("AdsError"))(1815879,h._(function(a,b){return a._("Please enter a valid Frequently Asked Question.")},{}),{level:b("AdsError").Level.WARN,path:a.concat("ice_breakers",c)})}e.exports=a}),null);
__d("adsAdgroupMessengerWelcomeMessageValidationGetInvalidOptimizationError",["errorCode","errorDesc","fbt","AdsError"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a,c){var d=i._("Generate Leads").toString(),e=i._("Start Conversations").toString(),f=i._("Leads").toString(),g=i._("Conversations").toString();return new(b("AdsError"))(2490163,h._(function(a,b){return a._("To continue using the {new_messenger_setup} setup, you can do one of the following: 1) If you're creating a new ad set, choose the {matching_optimization} optimization, or 2) If you're editing an existing ad set, create a new ad set and select the {same_matching_optimization} optimization.",[a._param("new_messenger_setup",b.new_messenger_setup),a._param("matching_optimization",b.matching_optimization),a._param("same_matching_optimization",b.same_matching_optimization)])},{new_messenger_setup:c?d:e,matching_optimization:c?f:g,same_matching_optimization:c?f:g}),{level:b("AdsError").Level.WARN,path:a.concat("payload")})}e.exports=a}),null);
__d("adsAdgroupMessengerWelcomeMessageValidationGetInvalidWelcomeMessageError",["errorCode","errorDesc","AdsError"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return new(b("AdsError"))(1815644,h._(function(a,b){return a._("Please set a valid message.")},{}),{level:b("AdsError").Level.WARN,path:a.concat("payload")})}e.exports=a}),null);
__d("adsAdgroupMessengerWelcomeMessageValidationValidateCTA",["errorCode","errorDesc","AdsError","URI","ads-lib-urllib","adsAdgroupMessengerWelcomeMessageValidationGetInvalidCTATitleError","adsAdgroupMessengerWelcomeMessageValidationGetInvalidCTAURLError"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;function a(a,c,d,e){__p&&__p();if(!a||!a.length){d.push(b("adsAdgroupMessengerWelcomeMessageValidationGetInvalidCTATitleError")(c,0));return d}a.forEach(function(a,f){(!a||!a.title)&&d.push(b("adsAdgroupMessengerWelcomeMessageValidationGetInvalidCTATitleError")(c,f));a&&a.type==="web_url"&&!a.url?d.push(b("adsAdgroupMessengerWelcomeMessageValidationGetInvalidCTAURLError")(c,f)):a&&a.type==="postback"&&!a.payload&&e==="business_tools"&&d.push(j(c,f));a=a&&a.url;a&&((!b("ads-lib-urllib").isUrl(a)||!(i||(i=b("URI"))).isValidURI(b("ads-lib-urllib").normalize(a)))&&d.push(b("adsAdgroupMessengerWelcomeMessageValidationGetInvalidCTAURLError")(c,f)))});return d}function j(a,c){return new(b("AdsError"))(1815644,h._(function(a,b){return a._("Please set a valid message.")},{}),{level:b("AdsError").Level.WARN,path:a.concat("payload",c)})}e.exports=a}),null);
__d("adsMessengerDataModelGetLandingScreenType",["AdsMessengerVisualEditorLandingScreenType"],(function(a,b,c,d,e,f){"use strict";function a(a){return a.landing_screen_type||b("AdsMessengerVisualEditorLandingScreenType").WELCOME_MESSAGE}e.exports=a}),null);
__d("adsMessengerDataModelGetTemplateIDForCTMLeadGen",["AdsMessengerJSONPaths","AdsMessengerVisualEditorLandingScreenType","adsMessengerDataModelGetLandingScreenType","getByPath"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null)return null;switch(b("adsMessengerDataModelGetLandingScreenType")(a)){case b("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN:return b("getByPath")(a,b("AdsMessengerJSONPaths").TEMPLATE_ID);case b("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW:case b("AdsMessengerVisualEditorLandingScreenType").FOLLOW_UP:return b("getByPath")(a,b("AdsMessengerJSONPaths").CTM_LEAD_GEN_TEMPLATE_ID);case b("AdsMessengerVisualEditorLandingScreenType").WELCOME_MESSAGE:case b("AdsMessengerVisualEditorLandingScreenType").GET_STARTED:default:return null}}e.exports=a}),null);
__d("adsAdgroupMessengerWelcomeMessageValidationValidateCTMLeadGen",["errorCode","errorDesc","AdsAPIOptimizationGoals","AdsError","adsAdgroupMessengerWelcomeMessageValidationGetInvalidOptimizationError","adsMessengerDataModelGetTemplateIDForCTMLeadGen"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a,c,d,e){a=b("adsMessengerDataModelGetTemplateIDForCTMLeadGen")(a);(a==null||a=="")&&d.push(i(c));e===b("AdsAPIOptimizationGoals").CONVERSATIONS&&d.push(b("adsAdgroupMessengerWelcomeMessageValidationGetInvalidOptimizationError")(c,!0));return d}function i(a){return new(b("AdsError"))(1815644,h._(function(a,b){return a._("Please set a valid message.")},{}),{level:b("AdsError").Level.WARN,path:a.concat("template_id")})}e.exports=a}),null);
__d("adsAdgroupMessengerWelcomeMessageValidationValidateImageFormat",["AdsMessengerJSONUtils","adsAdgroupMessengerWelcomeMessageValidationGetEmptyImageError","adsAdgroupMessengerWelcomeMessageValidationGetEmptyTitleError","adsAdgroupMessengerWelcomeMessageValidationValidateCTA"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f){__p&&__p();var g=b("AdsMessengerJSONUtils").getGenericTitle(a);if(f!=null&&f==!0){f=b("AdsMessengerJSONUtils").getGenericSubtitle(a);f!=null&&f!=""&&(g==null||g=="")&&d.push(b("adsAdgroupMessengerWelcomeMessageValidationGetEmptyTitleError")(c))}else(g==null||g=="")&&d.push(b("adsAdgroupMessengerWelcomeMessageValidationGetEmptyTitleError")(c));f=b("AdsMessengerJSONUtils").getImageHash(a);(f==null||f=="")&&d.push(b("adsAdgroupMessengerWelcomeMessageValidationGetEmptyImageError")(c));g=b("AdsMessengerJSONUtils").getImageFormatCTA(a);e!=="business_tools"&&(g=g&&g.filter(function(a){return a}));return g&&g.length?b("adsAdgroupMessengerWelcomeMessageValidationValidateCTA")(g,c,d,e):d}e.exports=a}),null);
__d("adsAdgroupMessengerWelcomeMessageValidationValidateTextFormat",["errorCode","errorDesc","AdsError","AdsMessengerJSONUtils","AdsMessengerVisualEditorCustomerActionType","adsAdgroupMessengerWelcomeMessageValidationGetInvalidIceBreakersError","adsAdgroupMessengerWelcomeMessageValidationValidateCTA","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a,c,d,e,f){__p&&__p();var g=b("AdsMessengerJSONUtils").getText(a);(g==null||g=="")&&(e==null||e==!1)&&d.push(j(c));if(!b("AdsMessengerJSONUtils").isTextWithQR(a)){g=b("AdsMessengerJSONUtils").getTextFormatCTA(a);return!g&&f==="business_tools"?d:b("adsAdgroupMessengerWelcomeMessageValidationValidateCTA")(g,c,d,f)}if(b("getByPath")(a,["text_format","customer_action_type"])===b("AdsMessengerVisualEditorCustomerActionType").ICE_BREAKERS){e=b("getByPath")(a,["text_format","message","ice_breakers"]);return i(e,c,d)}return d}function i(a,c,d){if(!a||!a.length){d.push(b("adsAdgroupMessengerWelcomeMessageValidationGetInvalidIceBreakersError")(c,0));return d}a.forEach(function(a,e){(a==null||a.title==null||a.title=="")&&d.push(b("adsAdgroupMessengerWelcomeMessageValidationGetInvalidIceBreakersError")(c,e))});return d}function j(a){return new(b("AdsError"))(1815641,h._(function(a,b){return a._("Please enter text for your message.")},{}),{level:b("AdsError").Level.WARN,path:a.concat("text")})}e.exports=a}),null);
__d("adsAdgroupMessengerWelcomeMessageValidationValidateVideoFormat",["AdsMessengerJSONUtils","adsAdgroupMessengerWelcomeMessageValidationGetEmptyVideoError"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){a=b("AdsMessengerJSONUtils").getVideo(a);(a==null||a==="")&&d.push(b("adsAdgroupMessengerWelcomeMessageValidationGetEmptyVideoError")(c));return d}e.exports=a}),null);
__d("adsAdgroupMessengerWelcomeMessageValidationValidateWelcomeMessageText",["AdsAPIOptimizationGoals","AdsMessengerJSONUtils","adsAdgroupMessengerWelcomeMessageValidationGetEmptyWelcomeMessageTextError","adsAdgroupMessengerWelcomeMessageValidationGetInvalidOptimizationError"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){a=b("AdsMessengerJSONUtils").getWelcomeMessageText(a,e);(a==null||a=="")&&d.push(b("adsAdgroupMessengerWelcomeMessageValidationGetEmptyWelcomeMessageTextError")(c));f===b("AdsAPIOptimizationGoals").LEAD_GENERATION&&d.push(b("adsAdgroupMessengerWelcomeMessageValidationGetInvalidOptimizationError")(c,!1));return d}e.exports=a}),null);
__d("adsMessengerValidationParseWelcomeMessage",[],(function(a,b,c,d,e,f){"use strict";function a(a){try{if(a!=null&&a!="")return JSON.parse(a)}catch(a){return null}return null}e.exports=a}),null);
__d("adsMessengerValidationGetWelcomeMessageErrors",["AdsAPIOptimizationGoals","AdsMessengerJSONMediaFormatType","AdsMessengerJSONUtils","AdsMessengerVisualEditorLandingScreenType","adsAdgroupMessengerWelcomeMessageValidationGetInvalidOptimizationError","adsAdgroupMessengerWelcomeMessageValidationGetInvalidWelcomeMessageError","adsAdgroupMessengerWelcomeMessageValidationValidateCTMLeadGen","adsAdgroupMessengerWelcomeMessageValidationValidateImageFormat","adsAdgroupMessengerWelcomeMessageValidationValidateTextFormat","adsAdgroupMessengerWelcomeMessageValidationValidateVideoFormat","adsAdgroupMessengerWelcomeMessageValidationValidateWelcomeMessageText","adsMessengerValidationParseWelcomeMessage"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f,g){__p&&__p();g===void 0&&(g=!1);if(!c||a==null||a=="")return[];var h=[];a=b("adsMessengerValidationParseWelcomeMessage")(a);if(!a){h.push(b("adsAdgroupMessengerWelcomeMessageValidationGetInvalidWelcomeMessageError")(c));return h}var i=b("AdsMessengerJSONUtils").getLandingScreenType(a);if(i===b("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN||i===b("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW){g&&f!==b("AdsAPIOptimizationGoals").LEAD_GENERATION?h.push(b("adsAdgroupMessengerWelcomeMessageValidationGetInvalidOptimizationError")(c,!0)):h=b("adsAdgroupMessengerWelcomeMessageValidationValidateCTMLeadGen")(a,c,h,f);return h}if(g&&f===b("AdsAPIOptimizationGoals").LEAD_GENERATION){h.push(b("adsAdgroupMessengerWelcomeMessageValidationGetInvalidOptimizationError")(c,!1));return h}i=b("AdsMessengerJSONUtils").getFormat(a);switch(i){case b("AdsMessengerJSONMediaFormatType").IMAGE:h=b("adsAdgroupMessengerWelcomeMessageValidationValidateImageFormat")(a,c,h,void 0,e);break;case b("AdsMessengerJSONMediaFormatType").VIDEO:h=b("adsAdgroupMessengerWelcomeMessageValidationValidateVideoFormat")(a,c,h);break;case b("AdsMessengerJSONMediaFormatType").TEXT:h=b("adsAdgroupMessengerWelcomeMessageValidationValidateTextFormat")(a,c,h,d);d===!0&&(h=b("adsAdgroupMessengerWelcomeMessageValidationValidateWelcomeMessageText")(a,c,h,d,f));break;default:break}h.length&&h.push(b("adsAdgroupMessengerWelcomeMessageValidationGetInvalidWelcomeMessageError")(c));return h}e.exports=a}),null);
__d("adsMessengerValidationHasMessengerDestination",["AdsAPIAdgroupRecordUtils","AdsAssetFeedUtils","AdsDestinationUtils","AdsUnifiedCreativeAPIFields","ApiAdObjectTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){var d=b("AdsAPIAdgroupRecordUtils").getObjectType(a);if(d!==b("ApiAdObjectTypes").SHARE&&d!==b("ApiAdObjectTypes").VIDEO)return!1;if(b("AdsAssetFeedUtils").hasPlacementCustomizationFromSpec(a))return b("AdsDestinationUtils").getAppDestinationForAdgroupSpec(a)==="MESSENGER";d=b("AdsUnifiedCreativeAPIFields").callToActionValue.getValue(a,c);a=d&&d.get("app_destination");return a==="MESSENGER"}e.exports=a}),null);
__d("adsMessengerValidationIsMessengerDestinationEnabled",["AdsPromotedObjectAppUtils","AdsPromotedObjectTypes","AdsWebsiteAdUtils"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=!!c&&b("AdsPromotedObjectAppUtils").isAppType(c);return!d&&(b("AdsWebsiteAdUtils").isWebsiteClickObjective(a)||b("AdsWebsiteAdUtils").isWebsiteConversionsObjective(a))||c===b("AdsPromotedObjectTypes").MESSENGER}e.exports=a}),null);
__d("adsMessengerValidationIsMessengerDestinationPlacementCompatible",["AdsPlacementAPISpecReaderUtils","adsPlacementAPISpecReaderIsActiveFacebookPosition","adsPlacementAPISpecReaderIsActivePublisherPlatform"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAPISpecReaderUtils").isActiveMessengerPosition;function a(a){__p&&__p();var c=h();if(c.some(function(c){return b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(a,c)}))return!1;c=i();if(c.some(function(c){return b("adsPlacementAPISpecReaderIsActiveFacebookPosition")(a,c)}))return!1;c=j();return c.some(function(b){return g(a,b)})?!1:!0}function h(){return["audience_network"]}function i(){return["right_hand_column","instant_article","instream_video","group"]}function j(){return["sponsored_messages"]}e.exports=a}),null);
__d("adsMessengerValidationShouldValidateWelcomeMessage",["AdsMessengerVisualEditorLandingScreenType","adsMessengerValidationParseWelcomeMessage"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){if(a==null||a=="")return!1;a=b("adsMessengerValidationParseWelcomeMessage")(a);if(a==null)return!1;var c=a.landing_screen_type===b("AdsMessengerVisualEditorLandingScreenType").GET_STARTED;return a.type==="VISUAL_EDITOR"&&!c}e.exports=a}),null);
__d("AdsDynamicAdCustomizationCustomizationSpecUtils",["invariant","AdsAPIAdgroupPaths","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={getCustomizationSpecPathFromAdgroup:function(a){a=(a=a.creative)==null?void 0:a.object_story_spec;if((a==null?void 0:a.link_data)!=null)return b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CUSTOMIZATION_RULES_SPEC;return(a==null?void 0:a.video_data)!=null?b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CUSTOMIZATION_RULES_SPEC:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.CUSTOMIZATION_RULES_SPEC},getCustomizationRuleIndexForLanguage:function(a,b){return a.findIndex(function(a){a=a.get("customization_spec");return a!=null&&typeof a!=="string"&&a.get("language")===b})},getCustomizationSpecFromAdgroup:function(a){var c=h.getCustomizationSpecPathFromAdgroup(a);return a.getIn(c)||b("immutable").List()},isPrimaryRule:function(a){return a.count()===1&&h.getLanguageFromRule(a)!==void 0},getLanguageFromRule:function(a){a=(a||b("immutable").Map()).get("customization_spec");typeof a!=="string"||g(0,1025);return(a||b("immutable").Map()).get("language")}};e.exports=h}),null);
__d("AdsDynamicAdCustomizationLanguageUtils",["AdsDynamicAdCustomizationCustomizationSpecUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={getAddedLanguageCount:function(a){var c=b("AdsDynamicAdCustomizationCustomizationSpecUtils").getCustomizationSpecPathFromAdgroup(a);a=a.getIn(c);return!a?0:a.count(function(a){return!b("AdsDynamicAdCustomizationCustomizationSpecUtils").isPrimaryRule(a)})},getAdditionalLanguagesFromAdgroup:function(a){var c=b("AdsDynamicAdCustomizationCustomizationSpecUtils").getCustomizationSpecFromAdgroup(a),d=g.getPrimaryLanguageFromAdgroup(a);return c.reduce(function(a,c){c=b("AdsDynamicAdCustomizationCustomizationSpecUtils").getLanguageFromRule(c);return c==null||c===d?a:a.push(c)},b("immutable").List())},getPrimaryLanguageFromAdgroup:function(a){a=b("AdsDynamicAdCustomizationCustomizationSpecUtils").getCustomizationSpecFromAdgroup(a);a=a.find(b("AdsDynamicAdCustomizationCustomizationSpecUtils").isPrimaryRule);return b("AdsDynamicAdCustomizationCustomizationSpecUtils").getLanguageFromRule(a)}};e.exports=g}),null);
__d("AdsDynamicAdCustomizationCreativeUtils",["AdsAPIAdgroupPaths","AdsCanvasConstants","AdsCreativeSpecTypes","AdsDynamicAdCustomizationCustomizationSpecUtils","AdsDynamicAdCustomizationFieldUtils","AdsDynamicAdCustomizationLanguageUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={getCreativeSpecType:function(a){a=(a=a.creative)==null?void 0:a.object_story_spec;if((a==null?void 0:a.link_data)!=null)return b("AdsCreativeSpecTypes").LINK_DATA;if((a==null?void 0:a.video_data)!=null)return b("AdsCreativeSpecTypes").VIDEO_DATA;return(a==null?void 0:a.template_data)!=null?b("AdsCreativeSpecTypes").TEMPLATE_DATA:null},getCreativeSpecPath:function(a){a=g.getCreativeSpecType(a);switch(a){case b("AdsCreativeSpecTypes").LINK_DATA:return b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.path;case b("AdsCreativeSpecTypes").VIDEO_DATA:return b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.path;case b("AdsCreativeSpecTypes").TEMPLATE_DATA:return b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.path;default:return null}},getCreativeSpecData:function(a){var c=g.getCreativeSpecPath(a);return c==null?b("immutable").Map():a.getIn(c)||b("immutable").Map()},isCreativeSpecTypeMutable:function(a,c){var d=b("AdsDynamicAdCustomizationCustomizationSpecUtils").getCustomizationSpecFromAdgroup(a);if(d.isEmpty())return!0;var e=b("AdsDynamicAdCustomizationLanguageUtils").getPrimaryLanguageFromAdgroup(a),f=b("AdsDynamicAdCustomizationFieldUtils").getDefaultCanvasLink(a)!==b("AdsCanvasConstants").EMPTY_CANVAS_LINK,g=function(a){return a===c&&a!=null||c==null&&a===e};return!d.some(function(a){var c=b("AdsDynamicAdCustomizationCustomizationSpecUtils").getLanguageFromRule(a);return!g(c)&&(c===e&&f||a.get("link")!=null)})}};e.exports=g}),null);
__d("AdsDynamicAdCustomizationFieldUtils",["invariant","AdsAPIAdgroupPaths","AdsCanvasConstants","AdsCollectionsAdUtils","AdsCreativeSpecTypes","AdsDynamicAdCustomizationCreativeUtils","AdsDynamicAdCustomizationCustomizationSpecUtils","AdsDynamicAdCustomizationLinkDataPrimaryLanguageFieldPaths","AdsDynamicAdCustomizationPrimaryLanguageFieldPaths","AdsDynamicAdCustomizationUtils","AdsDynamicAdCustomizationVideoDataPrimaryLanguageFieldPaths","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={FIELDS_IN_CHILD_ATTACHMENTS:["name","description"],getDefaultCanvasLinkPath:function(a){a=b("AdsDynamicAdCustomizationCreativeUtils").getCreativeSpecType(a);switch(a){case b("AdsCreativeSpecTypes").LINK_DATA:return b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.LINK;case b("AdsCreativeSpecTypes").VIDEO_DATA:return b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.LINK;case b("AdsCreativeSpecTypes").TEMPLATE_DATA:return b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.LINK;default:return null}},getDefaultCanvasLink:function(a){var b=h.getDefaultCanvasLinkPath(a);return b!=null?a.getIn(b):null},getPrimaryLanguageField:function(a,b,c){__p&&__p();c===void 0&&(c=void 0);var d=h.getPrimaryLanguageFieldPaths(a);d.isEmpty()&&g(0,19702);c||b!=="template_url_spec"||g(0,1027);d=d.get(b);Array.isArray(d)||(d=d.path);d=a.getIn(d);d==null&&(d=h._getValueFromChildAttachments(a,b));if(d==null)return void 0;if(typeof d!=="string"){if(b==="template_url_spec"){c||g(0,1028);return c(d)}return void 0}return d},_getValueFromChildAttachments:function(a,b){if(!h.FIELDS_IN_CHILD_ATTACHMENTS.includes(b))return null;a=(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.template_data)==null?void 0:a.child_attachments;if(a!=null){a=a.find(function(a){return!a.get("static_card")});return a.get(b)}return null},getPrimaryLanguageFieldPaths:function(a){a=b("AdsDynamicAdCustomizationCreativeUtils").getCreativeSpecType(a);switch(a){case b("AdsCreativeSpecTypes").LINK_DATA:return b("AdsDynamicAdCustomizationLinkDataPrimaryLanguageFieldPaths");case b("AdsCreativeSpecTypes").VIDEO_DATA:return b("AdsDynamicAdCustomizationVideoDataPrimaryLanguageFieldPaths");case b("AdsCreativeSpecTypes").TEMPLATE_DATA:return b("AdsDynamicAdCustomizationPrimaryLanguageFieldPaths");default:return b("immutable").Map()}},hasCanvasLinkUrl:function(a){if(!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative))return!1;var c=h.getDefaultCanvasLink(a);if(c!==b("AdsCanvasConstants").EMPTY_CANVAS_LINK)return!0;c=b("AdsDynamicAdCustomizationCustomizationSpecUtils").getCustomizationSpecFromAdgroup(a);return c.some(function(a){a=b("AdsDynamicAdCustomizationUtils")._getCanvasLinkUrlFromRule(a);return a!=null&&a!==b("AdsCanvasConstants").EMPTY_CANVAS_LINK})}};e.exports=h}),null);
__d("AdsDynamicAdCustomizationUtils",["invariant","AdsCanvasConstants","AdsCollectionsAdUtils","AdsDynamicAdCustomizationAddedLanguageFieldPaths","AdsDynamicAdCustomizationCustomizationSpecUtils","AdsDynamicAdCustomizationFieldUtils","CatalogVertical","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={multiLanguageAdsSupportedForCatalog:function(a){var c;return[(c=b("CatalogVertical")).COMMERCE,c.DESTINATIONS,c.FLIGHTS,c.HOME_LISTINGS,c.HOTELS,c.MEDIA_TITLES,c.VEHICLES].includes(a)},getAddedLanguageField:function(a,c,d,e){__p&&__p();e===void 0&&(e=void 0);e||d!=="template_url_spec"||g(0,1027);a=b("AdsDynamicAdCustomizationCustomizationSpecUtils").getCustomizationSpecFromAdgroup(a);c=b("AdsDynamicAdCustomizationCustomizationSpecUtils").getCustomizationRuleIndexForLanguage(a,c);if(c===-1)return void 0;a=a.get(c);b("AdsDynamicAdCustomizationAddedLanguageFieldPaths").has(d)||g(0,1029);c=b("AdsDynamicAdCustomizationAddedLanguageFieldPaths").get(d);a=a.getIn(c);if(!a)return void 0;if(d==="template_url_spec"){e||g(0,1028);return e(a)}return a},_getCanvasLinkUrlFromRule:function(a){a=a.get("link");return typeof a==="string"?a:null},getCanvasLinkUrl:function(a,c,d){if(a==null||c==null||!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative))return null;if(d)return b("AdsDynamicAdCustomizationFieldUtils").getDefaultCanvasLink(a);d=b("AdsDynamicAdCustomizationCustomizationSpecUtils").getCustomizationSpecFromAdgroup(a);a=d.find(function(a){return b("AdsDynamicAdCustomizationCustomizationSpecUtils").getLanguageFromRule(a)===c});return a==null?null:h._getCanvasLinkUrlFromRule(a)}};e.exports=h}),null);
__d("AdsDynamicAdCustomizationMutators",["AdsCanvasConstants","AdsCollectionsAdUtils","AdsDynamicAdCustomizationCreativeUtils","AdsDynamicAdCustomizationCustomizationSpecUtils","AdsDynamicAdCustomizationFieldUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={removeAllCanvasLink:function(a){__p&&__p();if(!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative))return a;var c=b("AdsDynamicAdCustomizationCustomizationSpecUtils").getCustomizationSpecFromAdgroup(a),d=b("AdsDynamicAdCustomizationCreativeUtils").getCreativeSpecData(a),e=b("AdsDynamicAdCustomizationCreativeUtils").getCreativeSpecPath(a),f=b("AdsDynamicAdCustomizationFieldUtils").getDefaultCanvasLinkPath(a);if(d==null||e==null||f==null)return a;d=a.setIn(f,b("AdsCanvasConstants").EMPTY_CANVAS_LINK);if(c==null)return d;e=c.reduce(function(a,c){if(b("AdsDynamicAdCustomizationCustomizationSpecUtils").isPrimaryRule(c))return a.push(c);c=c["delete"]("link");return c.count()===1?a:a.push(c)},b("immutable").List());return e.size===1?d.deleteIn(b("AdsDynamicAdCustomizationCustomizationSpecUtils").getCustomizationSpecPathFromAdgroup(a)):d.setIn(b("AdsDynamicAdCustomizationCustomizationSpecUtils").getCustomizationSpecPathFromAdgroup(a),e)}};e.exports=a}),null);
__d("AdsConvergenceAdgroupPluginType",[],(function(a,b,c,d,e,f){"use strict";e.exports={order:["objective"]}}),null);
__d("AdsConvergenceAdgroupUtils",["AdmgrUserSettingsData","AdsAPIAdgroupPaths","AdsAPIAdgroupRecord","AdsAPIChildAttachmentPaths","AdsUnifiedCreativeAPIFields","ApiAdObjectTypes","immutable","isTruthy","setByPath"],(function(a,b,c,d,e,f){__p&&__p();var g,h,i,j=Object.freeze({DEFAULT_CAROUSEL_ADS_CHILD_NUM:3,MAX_CAROUSEL_ADS:10,MIN_CAROUSEL_ADS_CHILD_NUM:2});g=new(b("AdsAPIAdgroupRecord"))((f={},f.creative=(g={},g.object_story_spec={},g),f));h=new(b("AdsAPIAdgroupRecord"))((f={},f.creative=(h={},h.object_story_id=null,h),f));var k=g.setIn((f=b("AdsAPIAdgroupPaths")).CREATIVE.OBJECT_TYPE,(i=b("ApiAdObjectTypes")).SHARE),l=g.setIn(f.CREATIVE.OBJECT_TYPE,i.VIDEO),m=g.setIn(f.CREATIVE.OBJECT_TYPE,i.PHOTO);h=h.setIn(f.CREATIVE.OBJECT_TYPE,i.PHOTO);function a(a,c,d,e,f,g,h,i,k,l,m){__p&&__p();k===void 0&&(k=!0);l===void 0&&(l=!0);m===void 0&&(m=j.DEFAULT_CAROUSEL_ADS_CHILD_NUM);c=c;var n=[];for(var o=0;o<m;o++){var p=b("isTruthy")(g)?{call_to_action:{type:g}}:{};p=babelHelpers["extends"]({},p,{link:d,description:"",name:e,picture:f});b("isTruthy")(g)&&(b("isTruthy")(h)&&b("setByPath")(p,b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.LINK,h),b("isTruthy")(i)&&b("setByPath")(p,b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.EVENT_ID,i));n.push(p)}b("isTruthy")(e)&&(n[0].name=e);b("isTruthy")(f)&&(n[0].picture=f);l!==null&&(c=c.setIn(b("AdsUnifiedCreativeAPIFields").multiShareOptimized.getPathOrThrow(c,a),l));k!==null&&(c=c.setIn(b("AdsUnifiedCreativeAPIFields").multiShareEndCard.getPathOrThrow(c,a),k));return c.setIn(b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(c,a),b("immutable").fromJS(n))}function c(){var a=b("AdmgrUserSettingsData");return a.last_used_post_format==="MULTIPLE"}function d(a,c){return!c?a:a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.AUTHORIZATION_CATEGORY,"POLITICAL").deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.DEGREES_OF_FREEDOM_SPEC.path)}e.exports={EMPTY_ADGROUP_WITH_OBJECT_STORY_SPEC:g,EMPTY_SHARE_ADGROUP_RECORD:k,EMPTY_VIDEO_ADGROUP_RECORD:l,EMPTY_PHOTO_ADGROUP_RECORD:m,EMPTY_PHOTO_ADGROUP_RECORD_FOR_EXISTING_POST:h,appendCarouselChildAttachments:a,isCarouselLastUsedFormat:c,AdsCarouselConstants:j,maySetPoliticalAd:d}}),null);
__d("AdsConvergenceAppInstallsAdgroupPlugin",["AdsAPIObjectives","AdsConvergenceAdgroupUtils"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("AdsConvergenceAdgroupUtils")).EMPTY_ADGROUP_WITH_OBJECT_STORY_SPEC,h=a.EMPTY_SHARE_ADGROUP_RECORD,i=a.appendCarouselChildAttachments,j=a.isCarouselLastUsedFormat,k=a.maySetPoliticalAd;function l(a){return i(a,h,null,null,null,null,null,null)}c={type:"convergenceAdgroup",key:"adgroup/app-installs",pivots:{objective:b("AdsAPIObjectives").APP_INSTALLS},generateDefaultAdgroupSpec:function(a,b,c){b=b.getSupportedMediaFormats({account:a.account,adgroup:g,campaign:a.campaign});b.has("CAROUSEL")&&j()?b=l(c):b=h;return k(b,a.isAuthorizedPage)}};e.exports=c}),null);
__d("getDefaultImageURL",[],(function(a,b,c,d,e,f){"use strict";a=function(a){if(!a)return null;a=a.images;return!a||!a.length?null:a[0]};e.exports=a}),null);
__d("adsConvergenceDefaultAdgroupImage",["AdsAdgroupMediaMutators","getDefaultImageURL","isFalsey"],(function(a,b,c,d,e,f){"use strict";a=function(a,c,d){if(d==null)return a;d=b("getDefaultImageURL")(d);return b("isFalsey")(d)?a:b("AdsAdgroupMediaMutators").setImage(a,c,{imageURL:d})};e.exports=a}),null);
__d("AdsConvergenceBrandAwarenessAdgroupPlugin",["AdsAPIAdgroupPaths","AdsAPIObjectives","AdsConvergenceAdgroupUtils","adsConvergenceDefaultAdgroupImage","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("AdsConvergenceAdgroupUtils")).EMPTY_ADGROUP_WITH_OBJECT_STORY_SPEC,h=a.EMPTY_PHOTO_ADGROUP_RECORD,i=a.EMPTY_SHARE_ADGROUP_RECORD,j=a.appendCarouselChildAttachments,k=a.isCarouselLastUsedFormat,l=a.maySetPoliticalAd,m="Default Link";function n(a,c,d){c=c.getUnifiedCreativeAPIFieldMapping(a);return a.setIn(b("nullthrows")(c.pageID),d.pageID)}function o(a,c){var d=i.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.LINK,m);return j(a,n(d,a,c),null,null,null,null,null,null)}c={type:"convergenceAdgroup",key:"adgroup/brand-awareness",pivots:{objective:b("AdsAPIObjectives").BRAND_AWARENESS},generateDefaultAdgroupSpec:function(a,c,d){c=c.getSupportedMediaFormats({account:a.account,adgroup:g,campaign:a.campaign});c.has("CAROUSEL")&&k()?c=o(d,a):c=b("adsConvergenceDefaultAdgroupImage")(n(h,d,a),d,a.pageDestination);return l(c,a.isAuthorizedPage)}};e.exports=c}),null);
__d("AdsConvergenceWebsiteAdgroupCommon",["AdsCallToActionTypesCond","AdsConvergenceAdgroupUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("AdsConvergenceAdgroupUtils")).EMPTY_ADGROUP_WITH_OBJECT_STORY_SPEC,h=a.EMPTY_SHARE_ADGROUP_RECORD,i=a.EMPTY_VIDEO_ADGROUP_RECORD,j=a.appendCarouselChildAttachments,k=a.isCarouselLastUsedFormat,l=a.maySetPoliticalAd,m=b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name;function n(a,b){var c=h;a=a.getUnifiedCreativeAPIFieldMapping(c);return c.setIn(a.callToActionType,m).setIn(a.pageID,b.pageID)}function o(a,b){return n(a,b)}function p(a,b){return j(a,n(a,b),null,null,null,m,null,null)}c={generateDefaultAdgroupSpec:function(a,b,c){b=b.getSupportedMediaFormats({account:a.account,adgroup:g,campaign:a.campaign});var d;b.has("CAROUSEL")&&k()?d=p(c,a):!b.has("IMAGE")?d=l(i,a.isAuthorizedPage):d=o(c,a);return l(d,a.isAuthorizedPage)}};e.exports=c}),null);
__d("AdsConvergenceConversionsAdgroupPlugin",["AdsAPIObjectives","AdsConvergenceWebsiteAdgroupCommon"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsConvergenceWebsiteAdgroupCommon"),{type:"convergenceAdgroup",key:"adgroup/conversions",pivots:{objective:b("AdsAPIObjectives").CONVERSIONS}});e.exports=a}),null);
__d("AdsConvergenceEventResponsesAdgroupPlugin",["AdsAPIObjectives","AdsConvergenceAdgroupUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsConvergenceAdgroupUtils").EMPTY_SHARE_ADGROUP_RECORD,h=b("AdsConvergenceAdgroupUtils").maySetPoliticalAd;a={type:"convergenceAdgroup",key:"adgroup/event-responses",pivots:{objective:b("AdsAPIObjectives").EVENT_RESPONSES},generateDefaultAdgroupSpec:function(a,b,c){b=g;c=c.getUnifiedCreativeAPIFieldMapping(b);b=b.setIn(c.callToActionType,"EVENT_RSVP");return h(b,a.isAuthorizedPage)}};e.exports=a}),null);
__d("AdsConvergenceLeadGenerationAdgroupPlugin",["AdsAPIObjectives","AdsCallToActionTypesCond","AdsConvergenceAdgroupUtils","adsConvergenceDefaultAdgroupImage"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("AdsConvergenceAdgroupUtils")).EMPTY_ADGROUP_WITH_OBJECT_STORY_SPEC,h=a.EMPTY_SHARE_ADGROUP_RECORD,i=a.appendCarouselChildAttachments,j=a.isCarouselLastUsedFormat,k=a.maySetPoliticalAd,l=b("AdsCallToActionTypesCond").TYPES.SIGN_UP.name;function m(a,b){var c=h;a=a.getUnifiedCreativeAPIFieldMapping(c);return c.setIn(a.callToActionType,l).setIn(a.linkURL,"http://fb.me").setIn(a.pageID,b.pageID)}function n(a,b){return i(a,m(a,b),"http://fb.me",null,null,l,null,null)}function o(a,c){var d=m(a,c);return b("adsConvergenceDefaultAdgroupImage")(d,a,c.pageDestination)}c={type:"convergenceAdgroup",key:"adgroup/leadgen",pivots:{objective:b("AdsAPIObjectives").LEAD_GENERATION},generateDefaultAdgroupSpec:function(a,b,c){b=b.getSupportedMediaFormats({account:a.account,adgroup:g,campaign:a.campaign});b.has("CAROUSEL")&&j()?b=n(c,a):b=o(c,a);return k(b,a.isAuthorizedPage)}};e.exports=c}),null);
__d("AdsConvergenceLinkClicksAdgroupPlugin",["AdsAPIObjectives","AdsConvergenceWebsiteAdgroupCommon"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsConvergenceWebsiteAdgroupCommon"),{type:"convergenceAdgroup",key:"adgroup/link-clicks",pivots:{objective:b("AdsAPIObjectives").LINK_CLICKS}});e.exports=a}),null);
__d("AdsConvergenceMessagesAdgroupPlugin",["AdsAPIAdgroupLinkDataRecord","AdsAPIObjectives","AdsCallToActionTypesCond","AdsConvergenceAdgroupUtils","AdsMessengerConstants","AdsMessengerVisualEditorUtils","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsConvergenceAdgroupUtils").EMPTY_SHARE_ADGROUP_RECORD,h=b("AdsConvergenceAdgroupUtils").maySetPoliticalAd;a=b("AdsAPIAdgroupLinkDataRecord").getSpec().call_to_action.getSpec().value;var i=b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name,j=new a({app_destination:"MESSENGER"});c={type:"convergenceAdgroup",key:"adgroup/messages",pivots:{objective:b("AdsAPIObjectives").MESSAGES},generateDefaultAdgroupSpec:function(a,c,d){c=g;var e=d.getUnifiedCreativeAPIFieldMapping(c),f=a.pageID,k=JSON.stringify(b("AdsMessengerVisualEditorUtils").getStandardTemplateDefaultJSON(f));d=b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage.getPath(c,d);c=c.setIn(e.callToActionType,i).setIn(e.callToActionValue,j).setIn(e.linkURL,b("AdsMessengerConstants").EMPTY_MESSENGER_LINK).setIn(e.headline,b("AdsMessengerConstants").DEFAULT_HEADLINE.toString()).setIn(e.pageID,f).setIn(d,k);return h(c,a.isAuthorizedPage)}};e.exports=c}),null);
__d("AdsConvergencePageLikesAdgroupPlugin",["AdsAPIObjectives","AdsConvergenceAdgroupUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsConvergenceAdgroupUtils").EMPTY_SHARE_ADGROUP_RECORD,h=b("AdsConvergenceAdgroupUtils").maySetPoliticalAd;a={type:"convergenceAdgroup",key:"adgroup/page-likes",pivots:{objective:b("AdsAPIObjectives").PAGE_LIKES},generateDefaultAdgroupSpec:function(a,b,c){b=g;c=c.getUnifiedCreativeAPIFieldMapping(b);b=b.setIn(c.callToActionType,"LIKE_PAGE");return h(b,a.isAuthorizedPage)}};e.exports=a}),null);
__d("AdsConvergencePostEngagementAdgroupPlugin",["AdsAPIAdgroupPaths","AdsAPIObjectives","AdsConvergenceAdgroupUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsConvergenceAdgroupUtils").EMPTY_PHOTO_ADGROUP_RECORD_FOR_EXISTING_POST,h=b("AdsConvergenceAdgroupUtils").maySetPoliticalAd;a={type:"convergenceAdgroup",key:"adgroup/post-engagement",pivots:{objective:b("AdsAPIObjectives").POST_ENGAGEMENT},generateDefaultAdgroupSpec:function(a,c,d){c=g.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_ID,a.pageID);return h(c,a.isAuthorizedPage)}};e.exports=a}),null);
__d("AdsConvergenceProductCatalogSalesAdgroupPlugin",["AdCampaignDestination","AdsAPIAdgroupPaths","AdsAPIObjectives","AdsCallToActionTypesCond","AdsConvergenceAdgroupUtils","CatalogSegmentLightWeightUtils","CatalogVertical","CPASURLTagsLoggingClient","adsAccountGK","productCatalogHasMarketplaceCapability"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsConvergenceAdgroupUtils").EMPTY_ADGROUP_WITH_OBJECT_STORY_SPEC,h=b("AdsConvergenceAdgroupUtils").EMPTY_SHARE_ADGROUP_RECORD,i=b("AdsConvergenceAdgroupUtils").maySetPoliticalAd,j=b("CPASURLTagsLoggingClient").CPASURLTagsLoggingClient,k=b("CPASURLTagsLoggingClient").CPASURLTagsLoggingComponent;a={type:"convergenceAdgroup",key:"adgroup/product-catalog-sales",pivots:{objective:b("AdsAPIObjectives").PRODUCT_CATALOG_SALES},generateDefaultAdgroupSpec:function(a,c,d){__p&&__p();var e;c=a.catalogSalesData;var f=c==null?void 0:c.templatePlugin,l=c==null?void 0:c.catalog,m=a.account;d=d.getUnifiedCreativeAPIFieldMapping(g);e=h.setIn(d.multiShareEndCard,!1).setIn(d.callToActionType,b("AdsCallToActionTypesCond").TYPES.SHOP_NOW.name).setIn(d.catalogAssetFormatOption,"carousel_images_multi_items").setIn(d.pageID,a.pageID).setIn(d.productSetID,c==null?void 0:(e=c.productSet)==null?void 0:e.id);f!=null&&(e=e.setIn(d.headline,f.getDefaultName()).setIn(d.linkDescription,f.getDefaultDescription()));if(l!=null&&b("adsAccountGK")._(m,"9dicoTfZW")&&(l==null?void 0:l.vertical)===b("CatalogVertical").VEHICLES&&b("productCatalogHasMarketplaceCapability")(m,l)){f=a.campaign;f.destination_type===b("AdCampaignDestination").FACEBOOK?e.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.CALL_TO_ACTION.VALUE.APP_DESTINATION,"MARKETPLACE"):e.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.CALL_TO_ACTION.VALUE.APP_DESTINATION)==="MARKETPLACE"&&e.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.CALL_TO_ACTION.VALUE.APP_DESTINATION)}if(b("CatalogSegmentLightWeightUtils").isCatalogSegment(l)){e.setIn(d.multiShareEndCard,!1).setIn(d.linkURL,"");f=c==null?void 0:c.cpasCatalog;if(f!=null){l=b("CatalogSegmentLightWeightUtils").getMerchantPredefinedUTMs(f==null?void 0:f.ad_account_to_collaborative_ads_share_settings);if(l==null)return i(e,a.isAuthorizedPage);e.setIn(b("AdsAPIAdgroupPaths").CREATIVE.URL_TAGS,l);j.log({advertiserAccountID:m.account_id,catalogSegmentID:f.id,component:k.ADS_CF_DYNAMIC_ADGROUP_PLUGIN_COMMON,event:"producer_ads_creation_flow",newURLTags:l})}return i(e,a.isAuthorizedPage)}return i(e,a.isAuthorizedPage)}};e.exports=a}),null);
__d("AdsConvergenceReachAdgroupPlugin",["AdsAPIObjectives","AdsConvergenceAdgroupUtils","adsConvergenceDefaultAdgroupImage","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("AdsConvergenceAdgroupUtils")).EMPTY_ADGROUP_WITH_OBJECT_STORY_SPEC,h=a.EMPTY_PHOTO_ADGROUP_RECORD,i=a.EMPTY_SHARE_ADGROUP_RECORD,j=a.EMPTY_VIDEO_ADGROUP_RECORD,k=a.appendCarouselChildAttachments,l=a.isCarouselLastUsedFormat,m=a.maySetPoliticalAd;function n(a,c,d){c=c.getUnifiedCreativeAPIFieldMapping(a);return a.setIn(b("nullthrows")(c.pageID),d.pageID)}function o(a,b){return k(a,n(i,a,b),null,null,null,null,null,null)}c={type:"convergenceAdgroup",key:"adgroup/reach",pivots:{objective:b("AdsAPIObjectives").REACH},generateDefaultAdgroupSpec:function(a,c,d){c=c.getSupportedMediaFormats({account:a.account,adgroup:g,campaign:a.campaign});var e;c.has("CAROUSEL")&&l()?e=o(d,a):!c.has("IMAGE")?e=n(j,d,a):e=b("adsConvergenceDefaultAdgroupImage")(n(h,d,a),d,a.pageDestination);return m(e,a.isAuthorizedPage)}};e.exports=c}),null);
__d("AdsPlaceDataUtils",["AdsAccountUtils","AdsAPICampaignGroupRecordUtils","AdsAPIObjectives","AdsAssetFeedUtils","AdsCallToActionGeoUtils","AdsChildAttachmentsUtils","AdsEmptyValue","AdsInstagramApplicabilityUtils","AdsLeadGenAdGroupUtils","AdsLocalUtils","AdsMixedValue","AdsMultiProductConstants","AdsPageUtils","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorCampaignAdObjectsUtils","AdsUniformValue","AdsWebsiteAdUtils","GeoCoordinates","GeoPlace","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin,h=new(b("AdsMixedValue"))([]);c=1;function a(a,c,d){if(a instanceof b("AdsUniformValue")&&c instanceof b("AdsUniformValue")&&d instanceof b("AdsUniformValue")){c=c.getValue();d=d.getValue();if(c==null||d==null)return b("AdsEmptyValue").instance();c=new(b("GeoPlace"))(new(b("GeoCoordinates"))(c,d),a.getValue());return new(b("AdsUniformValue"))(b("AdsCallToActionGeoUtils").makeGeoLink(c))}return h}var i={DEFAULT_POSITION_OF_MAP_CARD:c,getGeoLink:a,canAddMapCardToCarousel:function(a,c,d){a=a<b("AdsMultiProductConstants").MAX_PRODUCTS;return a||c>=0||d===b("AdsAPIObjectives").PRODUCT_CATALOG_SALES},getSupportedPlaceDataType:function(a,c,d,e,f){__p&&__p();var g=b("AdsWebsiteAdUtils").isWebsiteObjective(c,d);d=b("AdsWebsiteAdUtils").isWebsiteConversionsOfflineObjective(c,d)&&b("AdsAccountUtils").hasCapability(a,"CAN_SEE_MAP_CARD_FOR_OFFLINE_CONVERSION_OPT");a=e.every(function(a){return b("AdsPageUtils").hasLocation(a)});e=e.every(function(a){return b("AdsPageUtils").hasLocation(a)||b("AdsPageUtils").hasLocations(a)});if(g||c===b("AdsAPIObjectives").PRODUCT_CATALOG_SALES||d)return e?"REALTIME":null;else if(c===b("AdsAPIObjectives").REACH){if(e&&!a)return"REALTIME";else if(a)return"SINGLE";return null}return b("AdsLocalUtils").isLocalObjective(c)?f?"REALTIME":"DYNAMIC":null},initDefaultPlaceData:function(a,c){__p&&__p();var d;switch(c){case"DYNAMIC":return b("immutable").fromJS((c={},c.name=a.name,c.link=a.link,c.place_data=b("immutable").Map((d={},d.type="DYNAMIC",d)),c));case"REALTIME":d=b("AdsPageUtils").hasLocations(a);c=b("AdsPageUtils").hasLocation(a);if(d||c){return b("immutable").fromJS((d={},d.name=a.name,d.link=a.link,d.place_data=b("immutable").Map((c={},c.type="REALTIME",c.location_source_id=a.id,c)),d))}return null;case"SINGLE":c=a.location;if(c&&c.latitude&&c.longitude){var e,f;d=c.latitude;var g=c.longitude,h=a.link,i=a.name;if(!i)return null;a.single_line_address?a=a.single_line_address:a=d+","+g;return b("immutable").fromJS((f={},f.place_data=b("immutable").Map((e={},e.type="SINGLE",e.address_string=a,e.label=i,e.latitude=d,e.longitude=g,e)),f.name=c.street||i,f.link=h,f))}}return null},getPlaceDataPosition:function(a){a=b("AdsChildAttachmentsUtils").getChildAttachments(a);return!a?-1:a.findIndex(function(a){return a.place_data})},supportsAddPlaceDataField:function(a,c,d){var e=b("AdsAPICampaignGroupRecordUtils").getObjective(a.campaignGroup),f=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType(a),h=g(a),j=b("AdsChildAttachmentsUtils").getChildAttachmentCount(a.adgroup,h).withDefault(0),k=b("AdsChildAttachmentsUtils").getPlaceDataIndex(a.adgroup,h);c=i.getSupportedPlaceDataType(c,e,f,[d],b("AdsChildAttachmentsUtils").isStaticAndDynamicCarouselAd(a.adgroup));f=i.canAddMapCardToCarousel(j,k,e);d=b("AdsInstagramApplicabilityUtils").hasInstagramStoryPlacementOnly(a.campaign);j=b("AdsAssetFeedUtils").isRegularDCOAdgroupFromSpec(a.adgroup);k=b("AdsLeadGenAdGroupUtils").isLeadGenFormEnabled(a.adgroup,h);return!!c&&f&&!d&&!j&&!k}};e.exports=i}),null);
__d("AdsConvergenceStoreTrafficAdgroupPlugin",["AdsAPIAdgroupPaths","AdsAPIObjectives","AdsConvergenceAdgroupUtils","AdsPlaceDataUtils","adsCallToActionGetDefaultCallToActionType","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("AdsConvergenceAdgroupUtils")).AdsCarouselConstants,h=a.EMPTY_SHARE_ADGROUP_RECORD,i=a.appendCarouselChildAttachments,j=a.isCarouselLastUsedFormat,k=a.maySetPoliticalAd;c=b("AdsAPIObjectives").STORE_VISITS;var l=b("adsCallToActionGetDefaultCallToActionType")(c);function m(a,c){var d=h;a=a.getUnifiedCreativeAPIFieldMapping(d);c=c.locationPage;return d.setIn(a.callToActionType,l).setIn(a.pageID,c!=null&&c.id!=null&&c.id!=""?c.id:"").setIn(b("AdsAPIAdgroupPaths").CREATIVE.DYNAMIC_AD_VOICE,"STORY_OWNER")}function n(a,c){return m(a,c).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.FORCE_SINGLE_LINK,!0)}function o(a,c){__p&&__p();var d=n(a,c);d=d.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.FORCE_SINGLE_LINK);c=c.locationPage;if(c!=null){d=i(a,d,null,null,null,l,null,null,!0,null,1);c=b("AdsPlaceDataUtils").initDefaultPlaceData(c,"DYNAMIC");var e=a.getUnifiedCreativeAPIFieldMapping(d);c=d.getIn(b("nullthrows")(e.childAttachments)).push(c);return d.setIn(b("nullthrows")(e.childAttachments),c)}return i(a,d,null,null,null,l,null,null,!0,null,g.MIN_CAROUSEL_ADS_CHILD_NUM)}d={type:"convergenceAdgroup",key:"adgroup/store-traffic",pivots:{objective:c},generateDefaultAdgroupSpec:function(a,b,c){b=b.getSupportedMediaFormats({account:a.account,adgroup:h,campaign:a.campaign});b.has("CAROUSEL")&&j()?b=o(c,a):b=n(c,a);return k(b,a.isAuthorizedPage)}};e.exports=d}),null);
__d("AdsConvergenceVideoViewsAdgroupPlugin",["AdsAPIObjectives","AdsConvergenceAdgroupUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsConvergenceAdgroupUtils").EMPTY_VIDEO_ADGROUP_RECORD,h=b("AdsConvergenceAdgroupUtils").maySetPoliticalAd;a={type:"convergenceAdgroup",key:"adgroup/video-views",pivots:{objective:b("AdsAPIObjectives").VIDEO_VIEWS},generateDefaultAdgroupSpec:function(a,b,c){b=c.getUnifiedCreativeAPIFieldMapping(g);c=g.setIn(b.pageID,a.pageID);return h(c,a.isAuthorizedPage)}};e.exports=a}),null);
__d("AdsConvergenceAdgroupPluginResolver",["AdsConvergenceAdgroupPluginType","adsPluginResolverFactory","AdsConvergenceAdgroupPlugins"],(function(a,b,c,d,e,f){"use strict";a=b("AdsConvergenceAdgroupPluginType").order;c=b("adsPluginResolverFactory")(function(){return b("AdsConvergenceAdgroupPlugins").getArray()},a);e.exports=c}),null);
__d("AdsUEditorDLOLoggingEvents",[],(function(a,b,c,d,e,f){"use strict";a={DLO_UI_ADD_LANGUAGE_BUTTON_CLICKED:"DLO_UI_ADD_LANGUAGE_BUTTON_CLICKED",DLO_UI_ADD_PRIMARY_LANGUAGE_BUTTON_CLICKED:"DLO_UI_ADD_PRIMARY_LANGUAGE_BUTTON_CLICKED",DLO_UI_AUTOTRANSLATE_AUTOTRANSLATION_COMPLETE:"DLO_UI_AUTOTRANSLATE_AUTOTRANSLATION_COMPLETE",DLO_UI_AUTOTRANSLATE_AUTOTRANSLATION_ERROR:"DLO_UI_AUTOTRANSLATE_AUTOTRANSLATION_ERROR",DLO_UI_AUTOTRANSLATE_PRIMARY_FIELD_EDITED:"DLO_UI_AUTOTRANSLATE_PRIMARY_FIELD_EDITED",DLO_UI_AUTOTRANSLATE_PRIMARY_FIELD_EDITED_OUTSIDE_DLO_DIALOG:"DLO_UI_AUTOTRANSLATE_PRIMARY_FIELD_EDITED_OUTSIDE_DLO_DIALOG",DLO_UI_AUTOTRANSLATE_RETRY_AUTOTRANSLATION_REQUEST_BUTTON_CLICKED:"DLO_UI_AUTOTRANSLATE_RETRY_AUTOTRANSLATION_REQUEST_BUTTON_CLICKED",DLO_UI_AUTOTRANSLATE_REVERTED_BUTTON_CLICKED:"DLO_UI_AUTOTRANSLATE_REVERTED_BUTTON_CLICKED",DLO_UI_AUTOTRANSLATE_UPDATE_ALL_TRANSLATIONS_BUTTON_CLICKED:"DLO_UI_AUTOTRANSLATE_UPDATE_ALL_TRANSLATIONS_BUTTON_CLICKED",DLO_UI_AUTOTRANSLATE_ADD_LANGUAGE_WITH_UNAVAILABLE_AUTOTRANSLATE:"DLO_UI_AUTOTRANSLATE_ADD_LANGUAGE_WITH_UNAVAILABLE_AUTOTRANSLATE",DLO_UI_BLOCKER_HOVER_CARD_CLICK:"DLO_UI_BLOCKER_HOVER_CARD_CLICK",DLO_UI_BLOCKER_HOVER_CARD_SHOW:"DLO_UI_BLOCKER_HOVER_CARD_SHOW",DLO_UI_CONVERT_PAC_TO_LPA:"DLO_UI_CONVERT_PAC_TO_LPA",DLO_UI_CREATE_SLIDESHOW_BUTTON_CLICKED:"DLO_UI_CREATE_SLIDESHOW_BUTTON_CLICKED",DLO_UI_DIALOG_ADD_ADDITIONAL_CREATIVE:"DLO_UI_DIALOG_ADD_ADDITIONAL_CREATIVE",DLO_UI_DIALOG_ADD_LANGUAGE:"DLO_UI_DIALOG_ADD_LANGUAGE",DLO_UI_DIALOG_CHANGE_LANGUAGE:"DLO_UI_DIALOG_CHANGE_LANGUAGE",DLO_UI_DIALOG_DISABLE_ADD_LANGUAGE_BUTTON_FOR_LPA:"DLO_UI_DIALOG_DISABLE_ADD_LANGUAGE_BUTTON_FOR_LPA",DLO_UI_DIALOG_DISMISS_NO_CHANGES:"DLO_UI_DIALOG_DISMISS_NO_CHANGES",DLO_UI_DIALOG_DISMISS_UNSAVED_CHANGES:"DLO_UI_DIALOG_DISMISS_UNSAVED_CHANGES",DLO_UI_DIALOG_MAX_LANGUAGES_ADDED:"DLO_UI_DIALOG_MAX_LANGUAGES_ADDED",DLO_UI_DIALOG_OPEN:"DLO_UI_DIALOG_OPEN",DLO_UI_DIALOG_OPEN_WITH_OUTDATED_AUTOTRANSLATION:"DLO_UI_DIALOG_OPEN_WITH_OUTDATED_AUTOTRANSLATION",DLO_UI_DIALOG_REMOVE_LANGUAGE:"DLO_UI_DIALOG_REMOVE_LANGUAGE",DLO_UI_DIALOG_SAVED:"DLO_UI_DIALOG_SAVED",DLO_UI_DIALOG_SAVE_ERRORS:"DLO_UI_DIALOG_SAVE_ERRORS",DLO_UI_DIALOG_SAVE_WITH_OUTDATED_TRANSLATION:"DLO_UI_DIALOG_SAVE_WITH_OUTDATED_TRANSLATION",DLO_UI_DIALOG_SAVE_WITH_ALTERED_TRANSLATION:"DLO_UI_DIALOG_SAVE_WITH_ALTERED_TRANSLATION",DLO_UI_DIALOG_SAVE_WITH_TRANSLATION:"DLO_UI_DIALOG_SAVE_WITH_TRANSLATION",DLO_UI_DIALOG_SELECT_LANGUAGE:"DLO_UI_DIALOG_SELECT_LANGUAGE",DLO_UI_DISABLE_LINKS:"DLO_UI_DISABLE_LINKS",DLO_UI_EDIT_AUTOTRANSLATION_TEXT:"DLO_UI_EDIT_AUTOTRANSLATION_TEXT",DLO_UI_ENABLE_LINKS:"DLO_UI_ENABLE_LINKS",DLO_UI_ENTRYPOINT_LOADED:"DLO_UI_ENTRYPOINT_LOADED",DLO_UI_HIDE_DEFAULT_LANGUAGE_BUTTON_CLICKED:"DLO_UI_HIDE_DEFAULT_LANGUAGE_BUTTON_CLICKED",DLO_UI_LANGUAGE_TYPEAHEAD_ERROR:"DLO_UI_LANGUAGE_TYPEAHEAD_ERROR",DLO_UI_PLACEMENT_CUSTOMIZATIONS_REMOVED:"DLO_UI_PLACEMENT_CUSTOMIZATIONS_REMOVED",DLO_UI_REMOVE_DLO_FROM_LPA:"DLO_UI_REMOVE_DLO_FROM_LPA",DLO_UI_SHOW_DEFAULT_LANGUAGE_BUTTON_CLICKED:"DLO_UI_SHOW_DEFAULT_LANGUAGE_BUTTON_CLICKED",DLO_UI_SLIDESHOW_START_UPLOADING:"DLO_UI_SLIDESHOW_START_UPLOADING",DLO_UI_SLIDESHOW_FINISH_UPLOADING:"DLO_UI_SLIDESHOW_FINISH_UPLOADING",DLO_UI_TYPEAHEAD_OTHER_LANGUAGE_SELECTED:"DLO_UI_TYPEAHEAD_OTHER_LANGUAGE_SELECTED",DLO_UI_TYPEAHEAD_RECOMMENDED_LANGUAGE_SELECTED:"DLO_UI_TYPEAHEAD_RECOMMENDED_LANGUAGE_SELECTED",DLO_UI_UNSUPPORTED_PLACEMENTS_REMOVED:"DLO_UI_UNSUPPORTED_PLACEMENTS_REMOVED",DLO_UI_UNSUPPORTED_PLACEMENTS_WARNING_SHOWN:"DLO_UI_UNSUPPORTED_PLACEMENTS_WARNING_SHOWN",DLO_UI_UNSUPPORTED_PLACEMENTS_WARNING_AUTO_ACKNOWLEDGED:"DLO_UI_UNSUPPORTED_PLACEMENTS_WARNING_AUTO_ACKNOWLEDGED",DLO_UI_USE_VIDEO_TEMPLATE_BUTTON_CLICKED:"DLO_UI_USE_VIDEO_TEMPLATE_BUTTON_CLICKED",DLO_UI_VIDEO_TEMPLATE_START_UPLOADING:"DLO_UI_VIDEO_TEMPLATE_START_UPLOADING",DLO_UI_VIDEO_TEMPLATE_FINISH_UPLOADING:"DLO_UI_VIDEO_TEMPLATE_FINISH_UPLOADING"};e.exports=a}),null);
__d("DLOEventSource",[],(function(a,b,c,d,e,f){"use strict";a={REMOVE_PLACEMENT_CUSTOMIZATIONS:"dlo_remove_placement_customizations",REMOVE_UNSUPPORTED_PLACEMENTS:"dlo_remove_unsupported_placements",REMOVE_UNSUPPORTED_PLACEMENTS_WHEN_CHANGES_SAVED:"dlo_remove_unsupported_placements_when_changes_saved"};e.exports=a}),null);
__d("AdsCampaignPlacementSetLoggerPlugin",["AdsInterfacesLogger","AdsUEditorDLOLoggingEvents","DLOEventSource"],(function(a,b,c,d,e,f){"use strict";a={log:function(a){a.eventSource===b("DLOEventSource").REMOVE_UNSUPPORTED_PLACEMENTS&&b("AdsInterfacesLogger").log({eventName:b("AdsUEditorDLOLoggingEvents").DLO_UI_UNSUPPORTED_PLACEMENTS_REMOVED},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)}};e.exports=a}),null);
__d("AdsAuthorizationInPagesLoadedReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.merge(b.pagesInAuthorizations)}};e.exports=a}),null);
__d("AdsAuthorizationCategoryDataProviderPlugin",["AdsAccountDataLoader","AdsAuthorizationInPagesLoadedAction","LoadObjectMap","promiseDone","promiseLoadObjectsFromKeys"],(function(a,b,c,d,e,f){"use strict";a={initialState:b("LoadObjectMap").create(function(a){b("promiseDone")(b("promiseLoadObjectsFromKeys")(a,b("AdsAccountDataLoader").fetchPagesInAuthorizations),function(a){b("AdsAuthorizationInPagesLoadedAction").dispatch({pagesInAuthorizations:a},{line:"31",module:"AdsAuthorizationCategoryDataProviderPlugin.js"})})})};e.exports=a}),null);
__d("AdsInstagramMediaQueryProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{query:null}};e.exports=a}),null);
__d("AdsTemplateUrlSpecProviderPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a=function(){return b("immutable").Map()};c={initialState:a()};e.exports=c}),null);
__d("AdsDynamicAdCustomizationDialogDataProviderPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a={initialState:{campaign:void 0,campaignGroup:void 0,carouselSelectedIndex:0,isDialogShown:!1,hasUnsavedChanges:!1,draftAdgroup:void 0,selectedLanguage:void 0,primaryLanguage:void 0,showUnsavedChangesWarning:!1,addedLanguages:b("immutable").List(),showError:!1,initialUnsupportedPlacementAcknowledgement:!1,acknowledgeUnsupportedPlacementsWarning:!1,canvasTemplateName:void 0}};e.exports=a}),null);
__d("AdsClipboardDataProviderPlugin",["AdsClipboardStatusTypes"],(function(a,b,c,d,e,f){"use strict";a={initialState:{copiedIDs:[],event:null,level:null,showClipboard:!1,status:b("AdsClipboardStatusTypes").INITIAL,toastInfo:null}};e.exports=a}),null);
__d("AdsLazyContainerPreloaderProviderPlugin",["immutable","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({clipboardDialog:null});c={initialState:b("immutable").Map(a).map(function(a){return!1})};e.exports=c}),null);
__d("AdsPEModalStatusProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{isDeleting:!1,isReverting:!1,isNESDuplicationInProgress:!1}};e.exports=a}),null);
__d("AdsSplitTestToggleOnProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{isCreating:!1}};e.exports=a}),null);
__d("AdsAdgroupSetHasCustomTemplateUrlSpecFieldsDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:function(a,b){__p&&__p();var c=b.initValueObjects;return a.withMutations(function(a){__p&&__p();for(var b=c,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;a.has(f.id)||a.set(f.id,f.hasInitValue)}return a})}};e.exports=a}),null);
__d("AdsInstagramMediaSourceSetAccountOnAccountChangeReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){if(b.instagramAccountID==null)return{query:null};b=a.query?a.query.set("accountID",b.instagramAccountID):null;return babelHelpers["extends"]({},a,{query:b})}};e.exports=a}),null);
__d("AdsUEditorAdgroupReducerUtils",["adsCreateStructuredSelector","ifRequired"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={createReducer:function(a,c,d){__p&&__p();var f=b("adsCreateStructuredSelector")(a,e.id+".structuredSelector");a=function(a,d){var e=a;b("ifRequired")("AdsCFAdgroupDataReducerUtils",function(b){e=b.callReduce(c,a,d,f)});return e};var g=function(a,e){if(Array.isArray(d)?!d.includes(e.actionType):d!=null&&d!==e.actionType)return a;var g=a;b("ifRequired")("AdsEditingAdgroupDataReducerUtils",function(b){g=b.callReduce(c,a,e,f)});return g};a=Object.assign(a,{editingReducer:g,reduceFn:c});g=function(a,e){if(Array.isArray(d)?!d.includes(e.actionType):d!=null&&d!==e.actionType)return a;var g=a;b("ifRequired")("AdsCreativeContainerAdgroupDataReducerUtils",function(b){g=b.callReduce(c,a,e,f)});return g};return Object.assign(a,{creativeContainerReducer:g})}};e.exports=a}),null);
__d("AdsUEditorAdgroupApplyNamingTemplateReducerPlugin",["AdsAutoNamingV2ReducerUtils","AdsMutators","AdsUEditorAdgroupApplyNamingTemplateActionFlux","AdsUEditorAdgroupReducerUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsAutoNamingV2ReducerUtils").applyTemplateToAdgroup(a,c.template)})},[b("AdsUEditorAdgroupApplyNamingTemplateActionFlux").actionType])};e.exports=a}),null);
__d("AdsUEditorAdgroupSelectors",["codedError","AdsAPICampaignRecordUtils","AdsChildAttachmentsUtils","AdsCustomCarouselTabUtils","AdsPlacementEligibilityInfoUtils","AdsPromotedObjectTypeUIProvider","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","Result","adsCreateSelector","adsMemoizeByReference","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorBlockListAccountListSelector","adsUEditorSelectedAdgroupIDsSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin;c=(a=b("adsCreateSelector"))([b("adsUEditorSelectedAdgroupIDsSelector")],function(a){return a.length<=1},{name:e.id+".isSingularSelector"});f=a([b("adsUEditorAccountSelector"),b("adsUEditorBlockListAccountListSelector"),d=b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a,c,d){return b("immutable").Map(d.map(function(d){var e,f=d.campaignGroup.buying_type,g=d.campaignGroup.objective;e=(e=d.campaign)!=null?(e=e.promoted_object)!=null?e.object_store_url:e:e;f=b("AdsPlacementEligibilityInfoUtils").buildEligibilityInformationFromCampaignSpec(d.campaign,f,a.capabilities,g,c,e);return[d.adgroup.id,f]}))},{name:e.id+".placementEligibilityInfoMap"});var i=a([f],function(a){return b("immutable").Map(a.map(function(a){return a.spec}))},{name:e.id+".placementSpecsMap"}),j=a([d],function(a){__p&&__p();if(a.length===0)return b("Result").withSuccess(0);var c=b("AdsChildAttachmentsUtils").getChildAttachmentCount(a[0].adgroup,h(a[0]));if(c.success!==!0)return c;for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f=b("AdsChildAttachmentsUtils").getChildAttachmentCount(f.adgroup,h(f));if(f.success!==!0)return f;if(c.value!==f.value)return b("Result").withError(g._(2016069,function(a){return a._("Carousel Length Mismatch")},function(a,b){return a._("It was expected for the carousel in each of the selected Ads to have the same number of cards")},{}))}return c},{name:e.id+".uniformChildAttachmentCount"}),k=a([d],function(a){__p&&__p();if(a.length===0)return b("Result").withSuccess(0);var c=b("AdsCustomCarouselTabUtils").getCarouselTabCount(a[0]);if(c.success!==!0)return c;for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f=b("AdsCustomCarouselTabUtils").getCarouselTabCount(f);if(f.success!==!0)return f;if(c.value!==f.value)return b("Result").withError(g._(2016069,function(a){return a._("Carousel Length Mismatch")},function(a,b){return a._("It was expected for the carousel in each of the selected Ads to have the same number of cards")},{}))}return c},{name:e.id+".uniformCarouselTabCount"}),l=function(a){return b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(b){return b.some(a)},{name:e.id})},m=function(a){return b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(b){return b.every(a)},{name:e.id})},n=function(a){return b("adsCreateSelector")([l(a)],function(a){return!a},{name:e.id})},o=function(a){return b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(b){return b.filter(a)},{name:e.id})},p=function(a){return b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(b){return b.map(a)},{name:e.id})},q=function(a){return b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(c){return b("immutable").Map(c.map(function(b,c,d){return[b.adgroup.id,a(b,c,d)]}))},{name:e.id})},r=function(a){return b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(b){return b.some(function(b){return a(b.adgroup,h(b))})},{name:e.id})},s=function(a){return b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(b){return b.every(function(b){return a(b.adgroup,h(b))})},{name:e.id})},t=function(a){return b("adsCreateSelector")([r(a)],function(a){return!a},{name:e.id})},u=function(a){return b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(b){return b.filter(function(b){return a(b.adgroup,h(b))}).map(function(a){a=a.adgroup;return a})},{name:e.id})},v=function(a){return b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(b){return b.map(function(b){return a(b.adgroup,h(b))})},{name:e.id})},w=function(a){return b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(c){return b("immutable").Map(c.map(function(b,c,d){return[b.adgroup.id,a(b.adgroup,h(b))]}))},{name:e.id})};a=a([d,b("AdsPromotedObjectTypeUIProvider").toFluxSelector()],function(a,c){return b("immutable").Map(a.map(function(a){var d=a.campaignGroup,e=a.campaign;a=a.adgroup;d=d.objective;var f=c.get(e.id);return[a.id,b("AdsAPICampaignRecordUtils").getPromotedObjectType(d,e,f)]}))},{name:e.id+".derivedPromotedObjectTypesMap"});c={isSingularSelector:c,placementEligibilityInfoMap:f,placementSpecsMap:i,derivedPromotedObjectTypesMap:a,uniformChildAttachmentCount:j,uniformCarouselTabCount:k,adObjectsList:{some:(d=b("adsMemoizeByReference"))(l,e.id),every:d(m,e.id),none:d(n,e.id),filter:d(o,e.id),map:d(p,e.id),mapTransform:d(q,e.id)},adgroups:{some:d(r,e.id),every:d(s,e.id),none:d(t,e.id),filter:d(u,e.id),map:d(v,e.id),mapTransform:d(w,e.id)}};e.exports=c}),null);
__d("AdsUEditorAdgroupNavigateMessengerPromotedObjectTypeReducerPlugin",["AdsAPICampaignGroupRecordUtils","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupNavigateMessengerPromotedObjectActionFlux","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCampaignAdObjectsUtils","AdsUEditorMessengerMutators","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.parentData,f=c.eligibilityInformation.capabilities;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){c=b("nullthrows")(e.get(c));var d=c.campaign,g=c.campaignGroup;c=c.specPlugin;var h=g.objective,i=b("AdsAPICampaignGroupRecordUtils").getPromotedObjectPageID(g);d=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:d,campaignGroup:g});g=b("AdsUnifiedCreativeAPIFields").multiShareEndCard.isSupported(a,c);return b("AdsUEditorMessengerMutators").setMessengerDestinationFields({adgroup:a,campaignGroupPromotedPageID:i,objective:h,promotedObjectType:d,specPlugin:c,supportPageEndCard:g,capabilities:f})})},b("AdsUEditorAdgroupNavigateMessengerPromotedObjectActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetExistingPostPageWelcomeMessageReducerPlugin",["AdsAPIAdgroupPaths","AdsAssetFeedUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetExistingPostPageWelcomeMessageDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsAssetFeedUtils").hasPlacementCustomizationFromSpec(a)?a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ADDITIONAL_DATA.PAGE_WELCOME_MESSAGE,c.pageWelcomeMessage):a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.PAGE_WELCOME_MESSAGE,c.pageWelcomeMessage)})},b("AdsUEditorAdgroupSetExistingPostPageWelcomeMessageDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetMessengerPromotedObjectTypeReducerPlugin",["AdsAdgroupSpecPathPluginResolver","AdsAPIAdgroupPaths","AdsAPICampaignGroupRecordUtils","AdsAPIObjectives","AdsMutators","AdsPromotedObjectTypes","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCampaignAdObjectsUtils","AdsUEditorCampaignSetMessengerPromotedObjectTypeDataAction","AdsUEditorMessengerMutators","AdsUEditorWhatsAppMutators","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.parentData,f=c.eligibilityInformation.capabilities;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){c=b("nullthrows")(e.get(c));var d=c.campaign,g=c.campaignGroup,h=c.specPlugin,i=g.objective,j=b("AdsAPICampaignGroupRecordUtils").getPromotedObjectPageID(g),k=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:d,campaignGroup:g}),l=b("AdsUnifiedCreativeAPIFields").multiShareEndCard.isSupported(a,h);return b("AdsMutators").chain(function(a){return b("AdsUEditorWhatsAppMutators").deleteWhatsAppDestinationFields({adgroup:a,specPlugin:b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:"REGULAR",objective:b("AdsAPIObjectives").MESSAGES,promotedObjectType:b("AdsPromotedObjectTypes").WHATSAPP}),supportPageEndCard:l})},function(a){return b("AdsUEditorMessengerMutators").setMessengerDestinationFields({adgroup:a,campaignGroupPromotedPageID:j,objective:i,promotedObjectType:k,specPlugin:h,supportPageEndCard:l,capabilities:f})},function(a){return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_ID)})(a)})},b("AdsUEditorCampaignSetMessengerPromotedObjectTypeDataAction").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupTrackingSpecMutators",["AdsActionSpecUtils","AdsAPIAdgroupPaths","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return b("AdsActionSpecUtils").customSpecs((a.tracking_specs||b("immutable").List()).toJS())}function a(a,c){var d=g(c);d=b("AdsActionSpecUtils").removeApplicationSpecs(d);d=a==null?d:d.concat(b("AdsActionSpecUtils").makeMobileAppInstallTrackingSpecs(a));return d.length?c.setIn(b("AdsAPIAdgroupPaths").TRACKING_SPECS,b("immutable").fromJS(d)):c.deleteIn(b("AdsAPIAdgroupPaths").TRACKING_SPECS)}function c(a,c,d){var e=g(c);e=b("AdsActionSpecUtils").mergeConversionToTrackingSpec(e,a,d);return c.setIn(b("AdsAPIAdgroupPaths").TRACKING_SPECS,b("immutable").fromJS(e))}e.exports={setMobileAppTracking:a,setTrackingSpec:c}}),null);
__d("AdsUEditorAdgroupSetPageWelcomeMessageReducerPlugin",["AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetPageWelcomeMessageDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorAdgroupTrackingSpecMutators","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d=c.followUpMessage,f=a;(d==null?void 0:d.app_id)&&(f=b("AdsUEditorAdgroupTrackingSpecMutators").setMobileAppTracking(d==null?void 0:d.app_id,a));d=b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage.getPathOrThrow(a,b("nullthrows")(e.get(a.id)));return f.setIn(d,c.pageWelcomeMessage)})},b("AdsUEditorAdgroupSetPageWelcomeMessageDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupUnsetExistingPostPageWelcomeMessageReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupUnsetExistingPostPageWelcomeMessageDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PAGE_WELCOME_MESSAGE)})},b("AdsUEditorAdgroupUnsetExistingPostPageWelcomeMessageDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsClipboardDeleteAdObjectsReducerPlugin",["AdsClipboardReducerUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsClipboardReducerUtils").filterIDsAndMerge;a={reduce:function(a,b){var c=new Set([].concat(b.adgroupIDs,b.campaignIDs,b.campaignGroupIDs));return g(a,function(a){return!c.has(a)})}};e.exports=a}),null);
__d("AdsPECBOCampaignMidflightDialogConfirmActionReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a){return a.set("campaignMidflightEducationDialogState",{dialogShown:!1})}};e.exports=a}),null);
__d("AdsUEditorAdgroupResetMessengerSponsoredMessageReducerPlugin",["AdsAPIAdgroupPaths","AdsMessengerReducerUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupResetMessengerSponsoredMessageDataActionFlux","ApiAdObjectTypes"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.path).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE,b("ApiAdObjectTypes").SHARE).setIn(b("AdsAPIAdgroupPaths").CREATIVE.MESSENGER_SPONSORED_MESSAGE,b("AdsMessengerReducerUtils").getDefaultMessengerSponsoredMessage())})},b("AdsUEditorAdgroupResetMessengerSponsoredMessageDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetMessengerSponsoredMessageReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetMessengerSponsoredMessageDataActionFlux","ApiAdObjectTypes"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.path).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE,b("ApiAdObjectTypes").SHARE).setIn(b("AdsAPIAdgroupPaths").CREATIVE.MESSENGER_SPONSORED_MESSAGE,c.messengerSponsoredMessage)})},b("AdsUEditorAdgroupSetMessengerSponsoredMessageDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsDeleteAdObjectsDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{isDeleting:!1})}};e.exports=a}),null);
__d("AdsSplitTestReducerBootloadedFiles",["Promise","BootloaderResource","FBLogger","JSResource","objectValues"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={AdsSplitTestChangeVariantCountReducerHelpers:b("JSResource")("AdsSplitTestChangeVariantCountReducerHelpers").__setRef("AdsSplitTestReducerBootloadedFiles"),AdsSplitTestToggleOnReducerHelpers:b("JSResource")("AdsSplitTestToggleOnReducerHelpers").__setRef("AdsSplitTestReducerBootloadedFiles"),AdsSplitTestConsistencyUtils:b("JSResource")("AdsSplitTestConsistencyUtils").__setRef("AdsSplitTestReducerBootloadedFiles")};a=function(){return b("Promise").all(b("objectValues")(g).map(function(a){return a.load()}))};c=function(){b("objectValues")(g).forEach(function(a){return b("BootloaderResource").read(a)});return null};d=function(c,d){var a=g[c].getModuleIfRequired();a==null&&b("FBLogger")("ads_experiments").mustfix("reducer module not pre-loaded in time",c,d);return a};e.exports={SplitTestModuleLoader:c,preloadSplitTestModules:a,getSplitTestModule:d}}),null);
__d("AdsSplitTestToggleOnReducerPlugins",["AdsAccountStore","AdsSplitTestReducerBootloadedFiles","Laminar"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsSplitTestReducerBootloadedFiles").getSplitTestModule;a=b("Laminar").withFluxSelectors;c={reduce:a({accountLoadObject:b("AdsAccountStore").getSelectedAccount},function(a,b,c){c=c.accountLoadObject;var d=g("AdsSplitTestToggleOnReducerHelpers",e.id);return d==null||!c.hasValueWithoutError()?a:d.beginToggleOnReducer({state:a,account:c.getValueEnforcing(),action:b})})};d={reduce:function(a){if(!a.isCreating)return a;var b=g("AdsSplitTestToggleOnReducerHelpers",e.id);return b==null?a:b.deleteExtraCampaignsCompleteReducer({state:a})}};f={reduce:function(a,b){if(!a.isCreating)return a;var c=g("AdsSplitTestToggleOnReducerHelpers",e.id);return c==null?a:c.CBOChangedReducer({state:a,action:b})}};a={reduce:function(a,b){if(!a.isCreating)return a;var c=g("AdsSplitTestToggleOnReducerHelpers",e.id);return c==null?a:c.createControlCampaignCompletedReducer({state:a,action:b})}};b={reduce:function(a){if(!a.isCreating)return a;var b=g("AdsSplitTestToggleOnReducerHelpers",e.id);return b==null?a:b.powerEstimatesLoadedReducer({state:a})}};var h={reduce:function(){return{isCreating:!1}}};e.exports={AdsSplitTestBeginToggleOnReducerPlugin:c,AdsSplitTestExtraCampaignsDeletedReducerPlugin:d,AdsSplitTestCBOChangedReducerPlugin:f,AdsSplitTestCreateControlAdsetCompletedReducerPlugin:a,AdsSplitTestPowerEstimatesLoadedReducerPlugin:b,AdsSplitTestToggleOnCompletedReducerPlugin:h}}),null);
__d("AdsUEditorAdgroupBulkSetNameReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupBulkSetNameDataActionFlux","AdsUEditorAdgroupReducerUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,Array.from(c.bulkNameMap.keys()),function(a,d){return a.setIn(b("AdsAPIAdgroupPaths").NAME,(a=c.bulkNameMap.get(d))!=null?a:"")})},b("AdsUEditorAdgroupBulkSetNameDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupAddAuthorizationCategoryReducerPlugin",["AdsAPIAdgroupPaths","AdsAssetFeedUtils","AdsDLOLanguageUtils","AdsLocalizedPlacementsMutators","AdsMutators","AdsUEditorAdgroupAddAuthorizationCategoryDataActionFlux","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","ApiDynamicCreativeOptimizationTypes","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.AUTHORIZATION_CATEGORY,c.category);if(c.category=="POLITICAL"){d=b("nullthrows")(e.get(d));a=g(a,d)}return a})},b("AdsUEditorAdgroupAddAuthorizationCategoryDataActionFlux").actionType)};function g(a,c){__p&&__p();var d=a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.DEGREES_OF_FREEDOM_SPEC.path);a=((a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.autotranslate)||b("immutable").List();a.forEach(function(a){d=b("AdsDLOLanguageUtils").removeLanguage(d,a)});a=b("AdsDLOLanguageUtils").getAddedLanguagesCountFromAdgroup(d);d=d.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AUTOTRANSLATE);if(a===0){a=(a=d.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.optimization_type;switch(a){case b("ApiDynamicCreativeOptimizationTypes").LANGUAGE:d=b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(b("AdsAssetFeedUtils").getTargetObjectType(d),d,b("nullthrows")(c.pivots.objective));break;case b("ApiDynamicCreativeOptimizationTypes").LOCALIZED_PLACEMENTS:d=b("AdsLocalizedPlacementsMutators").convertLocalizedPlacementsToPAC(d)}}return d}e.exports=a}),null);
__d("AdsUEditorAdgroupAddPortraitCustomizationsReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupAddPortraitCustomizationsDataActionFlux","AdsUEditorAdgroupReducerUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.PORTRAIT_CUSTOMIZATIONS.SPECIFICATIONS,c.specificationsSpec)})},b("AdsUEditorAdgroupAddPortraitCustomizationsDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupAppendCarteSegmentReducerPlugin",["AdsCarteUtils","AdsMutators","AdsUEditorAdgroupAppendCarteSegmentActionFlux","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsCarteUtils").appendCarteSegment(a,b("nullthrows")(e.get(a.id)))})},b("AdsUEditorAdgroupAppendCarteSegmentActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupCampaignClearDynamicOptionsReducerPlugin",["AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCampaignAdObjectsUtils","AdsUEditorCampaignClearDynamicOptionsActionFlux","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsUEditorAdgroupMutators").transformAdgroupFromTemplateToLinkData;a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){c=b("nullthrows")(e.get(c));var d=c.campaign,f=c.campaignGroup;c=c.specPlugin;var h=f.objective;d=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:d,campaignGroup:f});return g(a,h,d,c)})},b("AdsUEditorCampaignClearDynamicOptionsActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupCampaignGroupSetPageIdReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsPageStore","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupOfferMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCampaignGroupSetPageIdDataActionFlux","adsUEditorAccountSelector","isTruthy","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),getPage:b("AdsPageStore").getSelector,parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.account,f=d.getPage,g=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){var h,i=a;if(((h=a.creative)==null?void 0:(h=h.object_story_spec)==null?void 0:(h=h.template_data)==null?void 0:h.offer_id)!=null){h=b("nullthrows")(g.get(d));d=h.campaignGroup;h=h.specPlugin;var j=b("isTruthy")(c.pageID)?f(c.pageID):null;i=b("AdsUEditorAdgroupOfferMutators").removeOfferInfo(e,a,h,d.objective,j)}return i.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.PAGE_ID,c.pageID)})},b("AdsUEditorCampaignGroupSetPageIdDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupCampaignGroupSetPromotedCatalogReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCampaignGroupSetPromotedCatalogActionFlux","adsACOIsACOAdgroup","adsACORemoveACOSpec","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){var d=b("adsACOIsACOAdgroup")(a);a=a;if(d){d=b("nullthrows")(e.get(c));c=d.campaign;d=d.campaignGroup;a=b("adsACORemoveACOSpec")(d,c,a)}return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID)})},b("AdsUEditorCampaignGroupSetPromotedCatalogActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupCachedRecord",["AdsEditorPostEditMode","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({additionalImageIndex:null,callToActionValue:b("immutable").Map(),childMediaFormatData:b("immutable").List(),creatives:(a={},a[b("AdsEditorPostEditMode").EXISTING]=null,a[b("AdsEditorPostEditMode").INLINE]=null,a),existingPostPageID:null,instagramActorID:null,pageIDForInstagram:null,metadata:null,pageID:null,imageAssetFeedSpec:null,videoAssetFeedSpec:null}));c.getEmptyRecord=function(){return g};var g=new c();e.exports=c}),null);
__d("AdsUEditorAdgroupCachedCallToActionMutators",["AdsAPIAdgroupRecordUtils","AdsUEditorAdgroupCachedRecord","adsCallToActionShouldCacheCTAType","immutable","isFalsey","isTruthy","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a,c,d,e){__p&&__p();if(!a||!c)return d;var f=b("AdsAPIAdgroupRecordUtils").getCallToActionType(a,c);e=b("isTruthy")(e)?e:b("AdsAPIAdgroupRecordUtils").getCallToActionLink(a,c);if(b("isFalsey")(f)||e==null||e===""||!b("adsCallToActionShouldCacheCTAType")(f))return d;a=d.callToActionValue;a||(a=b("immutable").Map());f!=null&&(a=a.set(f,e));return d.set("callToActionValue",a)};a=function(a,c,d,e,f){var h=d;c.forEach(function(c){var d=b("nullthrows")(e.get(c));d=g(a.get(c),d,h.get(c)||new(b("AdsUEditorAdgroupCachedRecord"))(),f);h=h.set(c,d)});return h};e.exports={getUpdatedCache:g,updateCacheForAdgroupIDs:a}}),null);
__d("AdsUEditorAdgroupCachedSetCallToActionLinkActionHandler",["AdsUEditorAdgroupCachedCallToActionMutators","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetCallToActionLinkDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils"],(function(a,b,c,d,e,f){"use strict";a={type:b("AdsUEditorAdgroupSetCallToActionLinkDataActionFlux").actionType,fluxInputs:{plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},mutate:function(a,c,d){d=d.plugins;var e=a.adgroupsToCache,f=a.adgroupIDs;return!e?c:b("AdsUEditorAdgroupCachedCallToActionMutators").updateCacheForAdgroupIDs(e,f,c,d,a.link)}};e.exports=a}),null);
__d("AdsUEditorAdgroupCachedSetCallToActionTypeActionHandler",["AdsUEditorAdgroupCachedCallToActionMutators","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetCallToActionTypeDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils"],(function(a,b,c,d,e,f){"use strict";a={type:b("AdsUEditorAdgroupSetCallToActionTypeDataActionFlux").actionType,fluxInputs:{plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},mutate:function(a,c,d){d=d.plugins;var e=a.adgroupsToCache;a=a.adgroupIDs;return!e?c:b("AdsUEditorAdgroupCachedCallToActionMutators").updateCacheForAdgroupIDs(e,a,c,d,null)}};e.exports=a}),null);
__d("AdsUEditorAdgroupCachedSetCatalogAssetFormatOptionActionHandler",["AdsAPIAdgroupRecordUtils","AdsUEditorAdgroupCachedRecord","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetCatalogAssetFormatOptionDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a,c,d){if(!a||!c)return d;a=b("AdsAPIAdgroupRecordUtils").getAdditionalImageIndex(a,c);return d.set("additionalImageIndex",a)};a={type:b("AdsUEditorAdgroupSetCatalogAssetFormatOptionDataActionFlux").actionType,fluxInputs:{plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},mutate:function(a,c,d){__p&&__p();var e=d.plugins,f=a.adgroupsToCache;d=a.adgroupIDs;var h=a.formatOption;if(!f)return c;var i=c;d.forEach(function(a){if(h==="carousel_slideshows"){var c=b("nullthrows")(e.get(a));c=g(f.get(a),c,i.get(a)||new(b("AdsUEditorAdgroupCachedRecord"))());i=i.set(a,c)}});return i}};e.exports=a}),null);
__d("AdsUEditorAdgroupCachedSetChildMediaFormatActionHandler",["AdsAdgroupChildAttachmentsFields","AdsUEditorAdgroupCachedChildMediaFomatDataRecord","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetChildMediaFormatDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={type:b("AdsUEditorAdgroupSetChildMediaFormatDataActionFlux").actionType,fluxInputs:{plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},mutate:function(a,c,d){__p&&__p();var e=d.plugins,f=a.adgroupsToCache,g=a.adgroupIDs,h=a.index,i=a.mediaFormat;return!f?c:c.withMutations(function(a){__p&&__p();return g.reduce(function(a,c){__p&&__p();var d=f.get(c),g=b("nullthrows")(e.get(c));if(!d)return a;c=[c,"childMediaFormatData",h];var j=a.getIn(c)||b("AdsUEditorAdgroupCachedChildMediaFomatDataRecord").getEmptyRecord(),k=b("AdsAdgroupChildAttachmentsFields").imageURL.get(d,g,h);switch(i){case"IMAGE":var l=b("AdsAdgroupChildAttachmentsFields").videoID.get(d,g,h);l.supported&&(j=j.set("videoID",l.value));k.supported&&(j=j.set("thumbnailURL",k.value));break;case"VIDEO":l=b("AdsAdgroupChildAttachmentsFields").imageHash.get(d,g,h);d=b("AdsAdgroupChildAttachmentsFields").imageCrops.get(d,g,h);l.supported&&(j=j.set("imageHash",l.value));k.supported&&(j=j.set("imageURL",k.value));d.supported&&(j=j.set("imageCrops",d.value));break}a.setIn(c,j);return a},a)})}};e.exports=a}),null);
__d("AdsUEditorAdgroupCachedSetInstagramActorIDActionHandler",["AdsUEditorAdgroupCachedRecord","AdsUEditorAdgroupRemoveInstagramAccountDataActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","isTruthy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={type:b("AdsUEditorAdgroupRemoveInstagramAccountDataActionFlux").actionType,fluxInputs:{plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},mutate:function(a,c,d){__p&&__p();var e=d.plugins,f=a.adgroupsToCache,g=a.adgroupIDs,h=a.pageIDMap;return!f||!h?c:c.withMutations(function(a){return g.reduce(function(a,c){var d=f.get(c),g=e.get(c);if(!d||!h.get(c)||!g)return a;a.get(c)||a.set(c,b("AdsUEditorAdgroupCachedRecord").getEmptyRecord());d=b("AdsUnifiedCreativeAPIFields").instagramActorID.getValue(d,g);b("isTruthy")(d)&&a.setIn([c,"instagramActorID"],d).setIn([c,"pageIDForInstagram"],h.get(c));return a},a)})}};e.exports=a}),null);
__d("AdsUEditorAdgroupCachedSetMediaFormatMutators",["AdsUEditorAdgroupCachedRecord","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a,b,c){if(a==null)return c;a=(a=a.creative)==null?void 0:a.asset_feed_spec;if(b==="VIDEO")return c.set("imageAssetFeedSpec",a);return b==="IMAGE"?c.set("videoAssetFeedSpec",a):c};a=function(a,c,d,e){var f=e;c.forEach(function(c){var e=g(a.get(c),d,f.get(c)||new(b("AdsUEditorAdgroupCachedRecord"))());f=f.set(c,e)});return f};e.exports={getUpdatedCache:g,updateCacheForAdgroupIDs:a}}),null);
__d("AdsUEditorAdgroupCachedSetMediaFormatActionHandler",["AdsUEditorAdgroupCachedSetMediaFormatMutators","AdsUEditorAdgroupSetMediaFormatDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={type:b("AdsUEditorAdgroupSetMediaFormatDataActionFlux").actionType,mutate:function(a,c){var d=a.adgroupsToCache,e=a.adgroupIDs;a=a.mediaFormat;return!d?c:b("AdsUEditorAdgroupCachedSetMediaFormatMutators").updateCacheForAdgroupIDs(d,e,a,c)}};e.exports=a}),null);
__d("AdsUEditorAdgroupCachedSetPageIdAndRemoveOfferActionHandler",["AdsUEditorAdgroupCachedRecord","AdsUEditorCampaignSetPageIdAndRemoveOfferActionFlux"],(function(a,b,c,d,e,f){"use strict";a={type:b("AdsUEditorCampaignSetPageIdAndRemoveOfferActionFlux").actionType,mutate:function(a,c){var d=a.adgroupIDs,e=a.pageID;return!e?c:c.withMutations(function(a){return d.reduce(function(a,c){a.get(c)||a.set(c,b("AdsUEditorAdgroupCachedRecord").getEmptyRecord());a.setIn([c,"pageID"],e);return a},a)})}};e.exports=a}),null);
__d("AdsUEditorAdgroupCachedSetPostEditModeActionHandler",["AdsAPIAdgroupRecordUtils","AdsEditorPostEditMode","AdsUEditorAdgroupCachedRecord","AdsUEditorAdgroupSetPostEditModeDataActionFlux","adsUEditorAccountSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={type:b("AdsUEditorAdgroupSetPostEditModeDataActionFlux").actionType,fluxInputs:{account:b("adsUEditorAccountSelector")},mutate:function(a,c,d){__p&&__p();var e=d.account,f=a.adgroupsToCache,g=a.adgroupIDs;return!f?c:c.withMutations(function(a){__p&&__p();return g.reduce(function(a,c){__p&&__p();var d=f.get(c);if(!d)return a;a.get(c)||a.set(c,b("AdsUEditorAdgroupCachedRecord").getEmptyRecord());var g=d.creative,h=b("AdsAPIAdgroupRecordUtils").getPostEditMode(d,e);switch(h){case b("AdsEditorPostEditMode").EXISTING:a.setIn([c,"existingPostPageID"],b("AdsAPIAdgroupRecordUtils").getExistingPostAdPageID(d));break;case b("AdsEditorPostEditMode").INLINE:a.setIn([c,"metadata"],d.metadata);break}d=[c,"creatives"];a.updateIn(d,function(a){return babelHelpers["extends"]({},a||{},(a={},a[h]=g,a))});return a},a)})}};e.exports=a}),null);
__d("AdsUEditorAdgroupCachedUIStore",["AdsDataAtom","AdsUEditorAdgroupBaseUIStore","AdsUEditorAdgroupCachedSetCallToActionLinkActionHandler","AdsUEditorAdgroupCachedSetCallToActionTypeActionHandler","AdsUEditorAdgroupCachedSetCatalogAssetFormatOptionActionHandler","AdsUEditorAdgroupCachedSetChildMediaFormatActionHandler","AdsUEditorAdgroupCachedSetInstagramActorIDActionHandler","AdsUEditorAdgroupCachedSetMediaFormatActionHandler","AdsUEditorAdgroupCachedSetPageIdAndRemoveOfferActionHandler","AdsUEditorAdgroupCachedSetPostEditModeActionHandler","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map()};d.getHandlers=function(){return[b("AdsUEditorAdgroupCachedSetCallToActionLinkActionHandler"),b("AdsUEditorAdgroupCachedSetCallToActionTypeActionHandler"),b("AdsUEditorAdgroupCachedSetCatalogAssetFormatOptionActionHandler"),b("AdsUEditorAdgroupCachedSetChildMediaFormatActionHandler"),b("AdsUEditorAdgroupCachedSetInstagramActorIDActionHandler"),b("AdsUEditorAdgroupCachedSetMediaFormatActionHandler"),b("AdsUEditorAdgroupCachedSetPostEditModeActionHandler"),b("AdsUEditorAdgroupCachedSetPageIdAndRemoveOfferActionHandler")]};return c}(b("AdsUEditorAdgroupBaseUIStore"));e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsUEditorAdgroupCampaignSelectWebsitePromotedObjectReducerPlugin",["AdsAPICampaignGroupRecordUtils","AdsInstantCheckoutUtils","AdsMutators","AdsStoreUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupCachedUIStore","AdsUEditorAdgroupCachedUtils","AdsUEditorAdgroupOfferMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCallToActionMutators","AdsUEditorCampaignAdObjectsUtils","AdsUEditorCampaignSelectWebsitePromotedObjectTypeDataActionFlux","AdsUEditorMessengerMutators","AdsUEditorWebsiteMutators","AdsUnifiedCreativeAPIFields","adsCallToActionGetDefaultCallToActionType","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData),cachedStoreState:b("AdsStoreUtils").toSelector(b("AdsUEditorAdgroupCachedUIStore"))},function(a,c,d){var e=d.parentData,f=d.cachedStoreState;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){var d=b("nullthrows")(e.get(c)),g=d.campaign,h=d.campaignGroup,i=d.specPlugin,j=h.objective,k=b("AdsAPICampaignGroupRecordUtils").getPromotedObjectPageID(h),l=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:g,campaignGroup:h}),m=b("AdsUnifiedCreativeAPIFields").multiShareEndCard.isSupported(a,i),n=b("AdsUEditorAdgroupCachedUtils").getCachedCallToActionLink(f,c,null),o=b("adsCallToActionGetDefaultCallToActionType")(j,l);return b("AdsMutators").chain(function(a){return b("AdsUEditorAdgroupOfferMutators").removeOfferIDState(a,i)},function(a){return b("AdsInstantCheckoutUtils").unsetInstantCheckoutAdTypeInAdgroup(a)},function(a){return b("AdsUEditorWebsiteMutators").setWebsiteURL({adgroup:a,campaignGroupPromotedPageID:k,objective:j,promotedObjectType:l,specPlugin:i,websiteURL:""})},function(a){return b("AdsUEditorCallToActionMutators").setCallToAction({callToActionType:o,pages:null,cachedCallToActionLink:n,adgroup:a,campaignGroupPromotedPageID:k,objective:j,promotedObjectType:l,specPlugin:i})},function(a){return b("AdsUEditorMessengerMutators").deleteMessengerDestinationFields({adgroup:a,specPlugin:i,supportPageEndCard:m})})(a)})},b("AdsUEditorCampaignSelectWebsitePromotedObjectTypeDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupCampaignSetPromotedProductSetIDReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorCampaignSetPromotedProductSetIDDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID,c.productSetID)})},b("AdsUEditorCampaignSetPromotedProductSetIDDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsAdgroupTrackingSpecUpdateUtils",["AdsAPIAdgroupPaths","areEqual","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function h(a){var b=a.tracking_specs&&a.tracking_specs.toJS();if(b==null)return a;b=b.filter(function(a){return!Object.prototype.hasOwnProperty.call(a,"custom_conversion")})||[];return i(b,a)}function a(a,c){__p&&__p();if(a.length===0)return h(c);a=a.filter(function(a){return!(a.fb_pixel==null||a.fb_pixel==="")||!(a.offsite_pixel==null||a.offsite_pixel==="")||!!a.custom_conversion});var d=c.tracking_specs&&c.tracking_specs.toJS();if(!d)return i(a,c);d=d.filter(function(a){return!(g||(g=b("areEqual")))(a["action.type"],["offsite_conversion"])});return i(a.concat(d),c)}function i(a,c){return a.length?c.setIn(b("AdsAPIAdgroupPaths").TRACKING_SPECS,b("immutable").fromJS(a)):c.deleteIn(b("AdsAPIAdgroupPaths").TRACKING_SPECS)}function c(a){var b={"action.type":["offsite_conversion"]};Object.prototype.hasOwnProperty.call(a,"pixel_id")&&a.pixel_id!==void 0&&a.pixel_id!==null?b.fb_pixel=[a.pixel_id]:Object.prototype.hasOwnProperty.call(a,"custom_conversion_id")&&a.custom_conversion_id!==void 0&&a.custom_conversion_id!==null&&(b.custom_conversion=[a.custom_conversion_id]);return[b]}e.exports={getTrackingSpecFromPromotedObject:c,mergeWithNewPixelTrackingSpec:a,setInTrackingSpecs:i}}),null);
__d("adsSignalsPixelsSelector",["AdsAccountStore","SignalsConversionAdAccountPixelDataProvider","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("SignalsConversionAdAccountPixelDataProvider").toFluxSelector();c=b("adsCreateSelector")([a,b("AdsAccountStore").getSelectedAccountIDX],function(a,b){return a.get(b)},{name:e.id+".selector"});e.exports=c}),null);
__d("AdsUEditorAdgroupCampaignUpdateDeliveryOptimiationGoalReducerPlugin",["AdsAdgroupTrackingSpecsUtils","AdsAdgroupTrackingSpecUpdateUtils","AdsDeliveryGrowthRepositioningUtils","AdsDeliveryUIConstants","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCampaignDeliveryChangeOptimizationGoalActionFlux","adsSignalsPixelsSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsDeliveryUIConstants").OPTIMZIATION_GOALS_DO_NOT_NEED_CUSTOM_CONVERSION_EVENT;a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData),pixelsLoadObject:b("adsSignalsPixelsSelector")},function(a,c,d){__p&&__p();var e=d.parentData,f=d.pixelsLoadObject;d=c.adgroupIDs;return d==null?a:b("AdsMutators").mutateEach(a,d,function(a,d){d=e.get(d);d=d.campaignGroup;if(d==null)return a;d=d.objective;var h=f.getValue();if(h==null||h.length!==1)return a;return b("AdsDeliveryGrowthRepositioningUtils").isInRepositioningGK(d)&&g.includes(c.optimizationGoal)?b("AdsAdgroupTrackingSpecUpdateUtils").mergeWithNewPixelTrackingSpec(b("AdsAdgroupTrackingSpecsUtils").getTrackingSpecFromPixelID(h[0].id),a):a})},b("AdsUEditorCampaignDeliveryChangeOptimizationGoalActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupCreativeContainerApplyChangesReducerPlugin",["AdsCreativeContainerApplyChangesActionFlux","AdsMutators","AdsUEditorAdgroupReducerUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,b){var d=c.adgroups.find(function(a){return a.id===b});return(d=d)!=null?d:a})},b("AdsCreativeContainerApplyChangesActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupDLOAssetFeedConvertGroupRulesToACRReducerPlugin",["AdsDLOLanguageUtils","AdsMutators","AdsUEditorAdgroupDLOAssetFeedConvertGroupRulesToACRDataActionFlux","AdsUEditorAdgroupReducerUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){return b("AdsDLOLanguageUtils").getACRAdgroupFromGroupRuleAdgroup(a)})},b("AdsUEditorAdgroupDLOAssetFeedConvertGroupRulesToACRDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupDeleteCarteSegmentReducerPlugin",["AdsCarteUtils","AdsMutators","AdsUEditorAdgroupDeleteCarteSegmentActionFlux","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsCarteUtils").deleteCarteSegment(a,b("nullthrows")(e.get(a.id)),c.ruleIndex)})},b("AdsUEditorAdgroupDeleteCarteSegmentActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupEditCarteSegmentBodyReducerPlugin",["AdsCarteUtils","AdsMutators","AdsUEditorAdgroupEditCarteSegmentBodyActionFlux","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsCarteUtils").editCarteSegmentBody(a,b("nullthrows")(e.get(a.id)),c.ruleIndex,c.body)})},b("AdsUEditorAdgroupEditCarteSegmentBodyActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupEditCarteSegmentReducerPlugin",["AdsCarteUtils","AdsMutators","AdsUEditorAdgroupEditCarteSegmentActionFlux","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsCarteUtils").editCarteSegmentWithSingleVideo(a,b("nullthrows")(e.get(a.id)),c.ruleIndex,c.customizationSpec,c.name,c.title,c.videoAssetInfo,c.callToActionInfo,c.description)})},b("AdsUEditorAdgroupEditCarteSegmentActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupEditCarteSegmentationCategoriesReducerPlugin",["AdsCarteUtils","AdsMutators","AdsUEditorAdgroupEditCarteSegmentationCategoriesActionFlux","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsCarteUtils").editCarteSegmentationCategories(a,b("nullthrows")(e.get(a.id)),c.categories)})},b("AdsUEditorAdgroupEditCarteSegmentationCategoriesActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupEnableHeadlineDOFReducerPlugin",["AdsAPIAdAssetFeedTitlesFields","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsMutators","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupEnableHeadlineDOFDataActionFlux","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","FBLogger","adsCreateAdAccountGKSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({canUsePacDof:b("adsCreateAdAccountGKSelector")._("arvF8lvqN"),shouldUseDofWithImageOptType:b("adsCreateAdAccountGKSelector")._("duei9M2Yz"),plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.canUsePacDof,f=d.shouldUseDofWithImageOptType,g=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){if(b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a)&&!(b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a)&&e)){b("FBLogger")("ads-dof").mustfix("Unexpected to enable DOF headline on adgroup using asset feed");return a}return b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a)&&e?b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,g.get(a.id),b("AdsUnifiedCreativeAPIFields").headline,1,b("AdsAPIAdAssetFeedTitlesFields").TEXT,"",!0):b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(b("AdsUEditorAdgroupAssetFeedMutators").convertToDOFAssetFeedSpec(a,f),g.get(a.id),b("AdsUnifiedCreativeAPIFields").headline,1,b("AdsAPIAdAssetFeedTitlesFields").TEXT,"",!0)})},b("AdsUEditorAdgroupEnableHeadlineDOFDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupEnableImageCropDOFReducerPlugin",["AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsDCOImageCropDoFUtils","AdsMutators","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupEnableImageCropDOFDataActionFlux","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","FBLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="image";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){__p&&__p();var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){if(b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(a)&&!b("AdsAssetFeedUtils").canPacAdgroupUsingDOF(a)){b("FBLogger")("ads-dof").mustfix("Unexpected to enable DOF image on adgroup using asset feed");return a}var f=a;d=e.get(d);var h=!0;b("AdsAssetFeedUtils").canPacAdgroupUsingDOF(a)?f=b("AdsAssetFeedMutationUtils").convertPACDofToDofAssetFeedSpecAdgroup(a,g,d,h):b("AdsAssetFeedUtils").isDofWithImageAdgroupFromSpec(a)||(f=b("AdsUEditorAdgroupAssetFeedMutators").convertToDOFAssetFeedSpec(a,h));return b("AdsDCOImageCropDoFUtils").setImagesEnrolled(f,d,c.imageHash,c.imageUrl,c.crops)})},b("AdsUEditorAdgroupEnableImageCropDOFDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupEnableLinkDescriptionDOFReducerPlugin",["AdsAPIAdAssetFeedDescriptionsFields","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsMutators","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupEnableLinkDescriptionDOFDataActionFlux","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","FBLogger","adsCreateAdAccountGKSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({shouldUseDofWithImageOptType:b("adsCreateAdAccountGKSelector")._("duei9M2Yz"),plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins,f=d.shouldUseDofWithImageOptType;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){if(b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a)&&!b("AdsAssetFeedUtils").canPacAdgroupUsingDOF(a)){b("FBLogger")("ads-dof").mustfix("Unexpected to enable DOF link description on adgroup using asset feed");return a}c=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(b("AdsUEditorAdgroupAssetFeedMutators").convertToDOFAssetFeedSpec(a,f),e.get(a.id),b("AdsUnifiedCreativeAPIFields").linkDescription,1,b("AdsAPIAdAssetFeedDescriptionsFields").TEXT,"",!0);return c})},b("AdsUEditorAdgroupEnableLinkDescriptionDOFDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupEnableMessageDOFReducerPlugin",["AdsAPIAdAssetFeedBodiesFields","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsChildAttachmentsUtils","AdsMutators","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupEnableMessageDOFDataActionFlux","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","FBLogger","adsCreateAdAccountGKSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({canUsePacDof:b("adsCreateAdAccountGKSelector")._("arvF8lvqN"),shouldUseDofWithImageOptType:b("adsCreateAdAccountGKSelector")._("duei9M2Yz"),plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){__p&&__p();var e=d.canUsePacDof,f=d.shouldUseDofWithImageOptType,g=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();var h;if(b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a)&&!(b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a)&&e)){b("FBLogger")("ads-dof").mustfix("Unexpected to enable DOF message on adgroup using asset feed");return a}if(b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a)&&e)return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,g.get(a.id),b("AdsUnifiedCreativeAPIFields").message,1,b("AdsAPIAdAssetFeedBodiesFields").TEXT,"",!0);d=b("AdsChildAttachmentsUtils").isStaticCarouselAd(a);h=(h=c.adsTextPrefillNextSuggestionText)!=null?h:"";return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(b("AdsUEditorAdgroupAssetFeedMutators").convertToDOFAssetFeedSpec(a,f&&!d),g.get(a.id),b("AdsUnifiedCreativeAPIFields").message,1,b("AdsAPIAdAssetFeedBodiesFields").TEXT,h,!0)})},b("AdsUEditorAdgroupEnableMessageDOFDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupImageRequestManualReviewReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupImageRequestManualReviewActionFlux","AdsUEditorAdgroupReducerUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsMutators").setIn(b("AdsAPIAdgroupPaths").MANUAL_REVIEW_REQUESTED,c.isRequested,a)})},b("AdsUEditorAdgroupImageRequestManualReviewActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupInstagramExistingPostSetCallToActionLinkReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupInstagramExistingPostSetCallToActionLinkDataActionFlux","AdsUEditorAdgroupReducerUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.CALL_TO_ACTION.VALUE.LINK,c.link)})},b("AdsUEditorAdgroupInstagramExistingPostSetCallToActionLinkDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupInstagramExistingPostSetCallToActionTypeReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupInstagramExistingPostSetCallToActionTypeDataActionFlux","AdsUEditorAdgroupReducerUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return c.callToActionType===""?a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.CALL_TO_ACTION.path):a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.CALL_TO_ACTION.TYPE,c.callToActionType)})},b("AdsUEditorAdgroupInstagramExistingPostSetCallToActionTypeDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupLeadGenFormatSwitchReducerPlugin",["AdCampaignDestination","AdsAPIAdgroupRecordUtils","AdsChildAttachmentsUtils","AdsMessengerConstants","AdsMessengerVisualEditorUtils","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupChildAttachmentsMutators","AdsUEditorAdgroupLeadGenFormatSwitchActionFlux","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCallToActionMutators","AdsUEditorCampaignSetLeadGenFormatActionFlux","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;return c.campaignDestination===b("AdCampaignDestination").MESSENGER?b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){__p&&__p();c=b("nullthrows")(e.get(c));c=c.specPlugin;var d=b("AdsAPIAdgroupRecordUtils").getPageID(a,c);d=JSON.stringify(b("AdsMessengerVisualEditorUtils").getStandardTemplateDefaultJSON(d));var f=b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage.getPathOrThrow(a,c),g=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPathOrThrow(a,c),h=b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,c),i=b("AdsChildAttachmentsUtils").isCarouselAd(a);a=a.deleteIn(g);a=b("AdsUEditorCallToActionMutators").setCallToActionValueAppDestination(a,c,"MESSENGER");a=a.setIn(h,b("AdsMessengerConstants").EMPTY_MESSENGER_LINK).setIn(f,d);return!i?a:b("AdsUEditorAdgroupChildAttachmentsMutators").mutateChildAttachments(c,a,function(a){return a.deleteIn(["call_to_action","value"]).setIn(["call_to_action","value","app_destination"],"MESSENGER").setIn(["link"],b("AdsMessengerConstants").EMPTY_MESSENGER_LINK)})}):b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){c=b("nullthrows")(e.get(c));c=c.specPlugin;var d=b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage.getPathOrThrow(a,c),f=b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,c),g=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPathOrThrow(a,c),h=b("AdsChildAttachmentsUtils").isCarouselAd(a);a=a.deleteIn(d).deleteIn(g).setIn(f,"http://fb.me");return!h?a:b("AdsUEditorAdgroupChildAttachmentsMutators").mutateChildAttachments(c,a,function(a){return a.deleteIn(["call_to_action","value"]).setIn(["link"],"http://fb.me")})})},[b("AdsUEditorAdgroupLeadGenFormatSwitchActionFlux").actionType,b("AdsUEditorCampaignSetLeadGenFormatActionFlux").actionType])};e.exports=a}),null);
__d("AdsUEditorAdgroupMoveCarteSegmentReducerPlugin",["AdsCarteUtils","AdsMutators","AdsUEditorAdgroupMoveCarteSegmentActionFlux","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsCarteUtils").moveCarteSegment(a,b("nullthrows")(e.get(a.id)),c.fromIndex,c.offset)})},b("AdsUEditorAdgroupMoveCarteSegmentActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupOptOutImageCropDOFReducerPlugin",["AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsDCODegreesOfFreedomUtils","AdsMutators","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupOptOutImageDOFDataActionFlux","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","FBLogger","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){__p&&__p();var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){__p&&__p();if(!b("AdsAssetFeedUtils").isDofWithImageAdgroupFromRecord(a)){b("FBLogger")("ads-dof").mustfix("Unexpected to adgroup type");return a}c=(c=a.creative)==null?void 0:(c=c.asset_feed_spec)==null?void 0:c.images;if(!(c instanceof b("immutable").List)||c.count()!==2){b("FBLogger")("ads-dof").mustfix("Unexpected to enable DOF image on adgroup without two options");return a}c=b("AdsAssetFeedMutationUtils").removeAssetAtIndex(a,b("nullthrows")(e.get(a.id)),b("AdsUnifiedCreativeAPIFields").imageHash,1);b("AdsDCODegreesOfFreedomUtils").isDOFAdgroupWithUniqueDOFAssets(c)&&(c=b("AdsUEditorAdgroupAssetFeedMutators").convertFromDOFAssetFeedSpec(c,!0));return c})},b("AdsUEditorAdgroupOptOutImageDOFDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupPACAssetFeedConvertTargetRulesToACRReducerPlugin",["AdsAssetFeedUtils","AdsLocalizedPlacementsMutators","AdsMutators","AdsUEditorAdgroupPACAssetFeedConvertTargetRulesToACRDataActionFlux","AdsUEditorAdgroupReducerUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){if(!b("AdsAssetFeedUtils").hasAssetCustomizationRules(a)&&b("AdsAssetFeedUtils").hasTargetRules(a))return b("AdsLocalizedPlacementsMutators").convertTargetRulePACAdgroupToACR(a);else return a})},b("AdsUEditorAdgroupPACAssetFeedConvertTargetRulesToACRDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupPlacementResetReducerPlugin",["AdsAPIAdgroupPaths","AdsCampaignPlacementResetDataActionFlux","AdsInstagramApplicabilityUtils","AdsMutators","AdsUEditorAdgroupReducerUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return c.adgroupIDs==null?a:b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d,e=b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramStoryPlacementOnly(c.eligibilityInformation.spec);return((d=a.creative)==null?void 0:(d=d.interactive_components_spec)==null?void 0:d.components)!=null&&e?a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.INTERACTIVE_COMPONENTS_SPEC.path):a})},b("AdsCampaignPlacementResetDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupPlacementUpdatedReducerPlugin",["AdsAPIAdgroupPaths","AdsAPIObjectives","AdsCampaignPlacementAddDataActionFlux","AdsCampaignPlacementRemoveDataActionFlux","AdsDCOImageCropDoFUtils","AdsEditorPostEditMode","AdsInstagramApplicabilityUtils","AdsInteractivePollUtils","AdsMediaFormatMutators","AdsMutators","AdsPlacementAPISpecReaderUtils","AdsStoreUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupCachedUIStore","AdsUEditorAdgroupCachedUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorSetPostEditModeMutators","ApiAdObjectTypes","adsACOIsACOAdgroup","adsACORemoveACOSpec","adsUEditorAccountSelector","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsInteractivePollUtils").passPollGK;a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),placementSpecs:b("AdsUEditorAdgroupSelectors").placementSpecsMap,parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData),cachedStoreState:b("AdsStoreUtils").toSelector(b("AdsUEditorAdgroupCachedUIStore"))},function(a,c,d){__p&&__p();var e=d.account,f=d.placementSpecs,h=d.parentData,i=d.cachedStoreState;return c.adgroupIDs==null?a:b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){__p&&__p();var d=b("nullthrows")(f.get(c)),j=b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramStoryPlacementOnly(d),k=b("AdsPlacementAPISpecReaderUtils").isOnlyActiveFacebookInstreamVideosPlacement(d),l=b("nullthrows")(h.get(c)),m=l.campaignGroup,n=l.campaign;l=l.specPlugin;var o=m.objective,p=a;b("AdsPlacementAPISpecReaderUtils").isActiveFacebookFeedPosition(d)||(b("adsACOIsACOAdgroup")(a)?p=b("adsACORemoveACOSpec")(m,n,a):b("AdsDCOImageCropDoFUtils").isAdgroupOptInImageCropDof(a)&&(p=b("AdsDCOImageCropDoFUtils").setAdgroupOptOutImageCropDoF(a,l)));k&&o!==b("AdsAPIObjectives").POST_ENGAGEMENT&&b("AdsMediaFormatMutators").setMediaFormat("VIDEO",p,l,m.objective);k=a==null?void 0:(n=a.creative)==null?void 0:n.object_type;m=g(e);if(!j&&(!m||!b("AdsPlacementAPISpecReaderUtils").isActiveFacebookFeedPosition(d)||k!=null&&k!=b("ApiAdObjectTypes").VIDEO)){return((a=p.creative)==null?void 0:(n=a.interactive_components_spec)==null?void 0:n.components)!=null?p.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.INTERACTIVE_COMPONENTS_SPEC.path):p}if(o!==b("AdsAPIObjectives").POST_ENGAGEMENT||!j)return p;m=b("AdsUEditorAdgroupCachedUtils").getCreative(i,c,b("AdsEditorPostEditMode").INLINE);d=b("AdsUEditorAdgroupCachedUtils").getMetadata(i,c);k=b("AdsUEditorAdgroupCachedUtils").getPageID(i,c);return b("AdsUEditorSetPostEditModeMutators").setToUsingInlineCreation({adgroup:p,cachedCreative:m,cachedMetadata:d,cachedPageID:k,objective:o,specPathPlugin:l})})},[b("AdsCampaignPlacementAddDataActionFlux").actionType,b("AdsCampaignPlacementRemoveDataActionFlux").actionType])};e.exports=a}),null);
__d("adsPagesInAuthorizationSelector",["AdsAccountStore","AdsAuthorizationCategoryDataProvider","LoadObject","adsCreateSelector","isTruthy"],(function(a,b,c,d,e,f){"use strict";a=b("AdsAuthorizationCategoryDataProvider").toFluxSelector();c=b("adsCreateSelector")([b("AdsAccountStore").getSelectedAccountID,a],function(a,c){return b("isTruthy")(a)?c.get(a):new(b("LoadObject").empty)()},{name:e.id+".adsPagesInAuthorizationSelector"});e.exports=c}),null);
__d("AdsUEditorAdgroupPromotedObjectSetPageIdReducerPlugin",["AdCampaignDestination","AdsAPIObjectives","AdsMutators","AdsPageStore","AdsSponsoredMessageUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCampaignAdObjectsUtils","AdsUEditorCampaignPromotedObjectSetPageIdDataActionFlux","AdsUEditorWebsiteMutators","AdsUEditorWhatsAppMutators","adsAuthorizationCategoryMutate","adsPagesInAuthorizationSelector","adsUEditorAccountSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData),account:b("adsUEditorAccountSelector"),getPage:b("AdsPageStore").getSelector,pagesInAuthorization:b("adsPagesInAuthorizationSelector")},function(a,c,d){__p&&__p();var e=d.account,f=d.getPage,g=d.parentData,h=d.pagesInAuthorization;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();d=g.get(d);if(d==null)return a;var i=d.campaign,j=d.campaignGroup,k=d.specPlugin,l=j.objective,m=(d=j.promoted_object)==null?void 0:d.page_id,n=f(c.pageID),o=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:i,campaignGroup:j}),p=i.destination_type;return b("AdsMutators").chain(function(a){var d;return l===b("AdsAPIObjectives").PAGE_LIKES&&((d=a.creative)==null?void 0:d.object_id)!==c.pageID?b("AdsUEditorWebsiteMutators").setWebsiteURL({adgroup:a,campaignGroupPromotedPageID:m,objective:l,promotedObjectType:o,specPlugin:k,websiteURL:""}):a},function(a){return p===b("AdCampaignDestination").WHATSAPP?b("AdsUEditorWhatsAppMutators").setWhatsAppNumberToAdgroupCallToActionAndSetLinkURL(a,k):a},function(a){var d=b("AdsSponsoredMessageUtils").isNewVersionSponsoredMessage(i);return b("AdsUEditorAdgroupMutators").setPageID(c.pageID,n,a,e,d,m,l)},function(a){return b("adsAuthorizationCategoryMutate")(a,c.pageID,h)})(a)})},b("AdsUEditorCampaignPromotedObjectSetPageIdDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupReachFrequencyFlowSetPredictionIdReducerPlugin",["AdsApplicationIDs","AdsCFSpecGenerationAdgroups","AdsConvergenceGatingUtils","AdsDataAtom","AdsDraftForceDraftSyncDataAction","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCampaignReachFrequencyFlowSetPredictionIdActionFlux"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsCFSpecGenerationAdgroups").adsCFSpecDestinationIDGenerationAdgroups,h=b("AdsCFSpecGenerationAdgroups").adsCFSpecPageIDGenerationAdgroups;a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({campaignsMap:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(function(a){a=a.campaign;return a}),objectivesMap:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(function(a){a=a.campaignGroup;return a.objective})},function(a,c,d){__p&&__p();var e=d.campaignsMap,f=d.objectivesMap;if(!b("AdsConvergenceGatingUtils").getIsRFL1Enabled())return a;b("AdsDataAtom").addPostDispatchCallback(function(){b("AdsDraftForceDraftSyncDataAction").dispatch({adsApplicationID:b("AdsApplicationIDs").ADS_POWER_EDITOR,ids:c.adgroupIDs},{line:"60",module:"AdsUEditorAdgroupReachFrequencyFlowSetPredictionIdReducerPlugin.js"})});return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,b){var d=e.get(b);b=f.get(b);d=h(b,d,a);return c.predictionDestinationID?g(b,d,c.predictionDestinationID):d})},b("AdsUEditorCampaignReachFrequencyFlowSetPredictionIdActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRecommenderSettingsAddPreferredEventReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupRecommenderSettingsAddPreferredEventDataActionFlux","AdsUEditorAdgroupReducerUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d;if(!((d=a.creative)==null?void 0:d.product_set_id))return a;d=((d=a.creative)==null?void 0:(d=d.recommender_settings)==null?void 0:d.preferred_events)||b("immutable").List();d.includes(c.event)||(d=d.push(c.event));return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.RECOMMENDER_SETTINGS.PREFERRED_EVENTS,d)})},b("AdsUEditorAdgroupRecommenderSettingsAddPreferredEventDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRecommenderSettingsRemovePreferredEventReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupRecommenderSettingsRemovePreferredEventDataActionFlux","AdsUEditorAdgroupReducerUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d;d=(d=a.creative)==null?void 0:(d=d.recommender_settings)==null?void 0:d.preferred_events;d&&(d=d.filter(function(a){return a!==c.event}));return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.RECOMMENDER_SETTINGS.PREFERRED_EVENTS,d)})},b("AdsUEditorAdgroupRecommenderSettingsRemovePreferredEventDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveAdContextReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveAdContextActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsMutators").deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.AD_CONTEXT,a)})},b("AdsUEditorAdgroupRemoveAdContextActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveAssetFeedReducerPlugin",["AdsAssetFeedUtils","AdsMutators","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveAssetFeedDataActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){c=b("nullthrows")(e.get(c));return b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(b("AdsAssetFeedUtils").getTargetObjectType(a),a,b("nullthrows")(c.pivots.objective))})},b("AdsUEditorAdgroupRemoveAssetFeedDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveAuthorizationCategoryReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveAuthorizationCategoryDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.AUTHORIZATION_CATEGORY,"NONE")})},b("AdsUEditorAdgroupRemoveAuthorizationCategoryDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorCategorizationCriteriaUtils",["AdsAdgroupChildAttachmentsFields","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e){c=b("nullthrows")(c.get(d));d=!!b("AdsUnifiedCreativeAPIFields").childAttachments.getValue(a,c);a;if(d){d=b("AdsAdgroupChildAttachmentsFields").headline.get(a,c,1);d=d.supported?a.setIn(d.path,e):a}else d=a.setIn(b("AdsUnifiedCreativeAPIFields").headline.getPathOrThrow(a,c),e);return d}function c(a,c,d,e){c=b("nullthrows")(c.get(d));d=!!b("AdsUnifiedCreativeAPIFields").childAttachments.getValue(a,c);a;if(d){d=b("AdsAdgroupChildAttachmentsFields").description.get(a,c,1);d=d.supported?a.setIn(d.path,e):a}else d=a.setIn(b("AdsUnifiedCreativeAPIFields").linkDescription.getPathOrThrow(a,c),e);return d}function d(a,c){var d=a,e=!!b("AdsUnifiedCreativeAPIFields").childAttachments.getValue(a,c);e?[b("AdsAdgroupChildAttachmentsFields").headline,b("AdsAdgroupChildAttachmentsFields").description].forEach(function(b){b=b.get(a,c,1);b.supported&&(d=d.deleteIn(b.path))}):d=a.deleteIn(b("AdsUnifiedCreativeAPIFields").headline.getPathOrThrow(a,c)).deleteIn(b("AdsUnifiedCreativeAPIFields").linkDescription.getPathOrThrow(a,c));return d}e.exports={removeTokenizedHeadlineAndDescription:d,setTokenizedDescription:c,setTokenizedHeadline:a}}),null);
__d("AdsUEditorAdgroupRemoveCategorizationCriteriaReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveCategorizationCriteriaDataActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorCategorizationCriteriaUtils","AdsUnifiedCreativeAPIFields","FBLogger","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){var f=a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.CATEGORIZATION_CRITERIA).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.CATEGORY_MEDIA_SOURCE);c.formatOption&&(e.get(d)==null?b("FBLogger")("ads").warn("Catalog fomrmat option failed as plugin is null"):f=f.setIn(b("AdsUnifiedCreativeAPIFields").catalogAssetFormatOption.getPathOrThrow(a,e.get(d)),c.formatOption).setIn(b("AdsUnifiedCreativeAPIFields").multiShareEndCard.getPathOrThrow(a,e.get(d)),c.formatOption!=="carousel_images_single_item"));return b("AdsUEditorCategorizationCriteriaUtils").removeTokenizedHeadlineAndDescription(f,b("nullthrows")(e.get(d)))})},b("AdsUEditorAdgroupRemoveCategorizationCriteriaDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveCreativeDoFSpecReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveCreativeDoFSpecDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.DEGREES_OF_FREEDOM_SPEC.path)})},b("AdsUEditorAdgroupRemoveCreativeDoFSpecDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveDLOReducerPlugin",["AdsAssetFeedUtils","AdsMutators","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveDLODataActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){if(!b("AdsAssetFeedUtils").isDLOAdgroupFromRecord(a))return a;c=b("nullthrows")(e.get(c));return b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(b("AdsAssetFeedUtils").getTargetObjectType(a),a,b("nullthrows")(c.pivots.objective))})},b("AdsUEditorAdgroupRemoveDLODataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveHeadlineAtIndexReducerPlugin",["AdsAPIAdAssetFeedTitlesFields","AdsAPIAdAssetTargetRuleFields","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsDCODegreesOfFreedomUtils","AdsMutators","AdsPlacementAssetTargetingRuleUtils","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupHeadlineMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveHeadlineAtIndexDataActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){__p&&__p();var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();if(!b("AdsAssetFeedUtils").isPACAdgroupFromSpec(a)){d=b("AdsAssetFeedMutationUtils").removeAssetAtIndex(a,b("nullthrows")(e.get(a.id)),b("AdsUnifiedCreativeAPIFields").headline,c.assetIndex);if(b("AdsDCODegreesOfFreedomUtils").isDOFAdgroupWithUniqueDOFAssets(d)){var f=b("AdsAssetFeedUtils").isDofWithImageAdgroupFromRecord(d);d=b("AdsUEditorAdgroupAssetFeedMutators").convertFromDOFAssetFeedSpec(d,f)}return d}f=a;d=b("AdsPlacementAssetTargetingRuleUtils").getDefaultTargetRuleLabel(f,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL);var g=b("AdsUEditorAdgroupHeadlineMutators").getHeadlineAssetsFromLabel(f,d);g=g!=null?g.get(c.assetIndex):null;if(g==null){b("recoverableViolation")("assetToRemove should never be null or undefined.","ads_dynamic_creative_optimization");return f}g=b("AdsAssetFeedFieldUtils").findAssetIndex(f,b("nullthrows")(e.get(f.id)),b("AdsUnifiedCreativeAPIFields").headline,g);g=b("AdsAssetFeedMutationUtils").isolateAssetWithLabel(f,b("nullthrows")(e.get(a.id)),b("AdsUnifiedCreativeAPIFields").headline,g,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,d);d=g.adgroupWithIsolatedAsset;g=g.isolatedAssetIndex;f=b("AdsAssetFeedMutationUtils").removeAssetAtIndex(d,b("nullthrows")(e.get(a.id)),b("AdsUnifiedCreativeAPIFields").headline,g);return f})},b("AdsUEditorAdgroupRemoveHeadlineAtIndexDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveImageLayerSpecsReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveImageLayerSpecsActionFlux"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA;a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.deleteIn(g.IMAGE_LAYER_SPECS).deleteIn(g.IMAGE_OVERLAY_SPEC.path)})},b("AdsUEditorAdgroupRemoveImageLayerSpecsActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveInstagramAccountReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveInstagramAccountDataActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){c=b("nullthrows")(e.get(c));var d=b("AdsUnifiedCreativeAPIFields").instagramActorID.getPath(a,c);c=b("AdsUnifiedCreativeAPIFields").instagramActorID.isSupported(a,c);return c&&d?a.deleteIn(d).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_ACTOR_ID):a})},b("AdsUEditorAdgroupRemoveInstagramAccountDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveOfferReducerPlugin",["AdsMutators","AdsPageStore","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupOfferMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCampaignRemoveOfferActionFlux","AdsUnifiedCreativeAPIFields","adsUEditorAccountSelector","isTruthy","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),getPage:b("AdsPageStore").getSelector,parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.account,f=d.getPage,g=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){c=b("nullthrows")(g.get(c));var d=c.campaignGroup;c=c.specPlugin;var h=b("AdsUnifiedCreativeAPIFields").pageID.getValue(a,c);h=b("isTruthy")(h)?f(h):null;return b("AdsUEditorAdgroupOfferMutators").removeOfferInfo(e,a,c,d.objective,h)})},b("AdsUEditorCampaignRemoveOfferActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemovePortraitCustomizationsReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemovePortraitCustomizationsDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PORTRAIT_CUSTOMIZATIONS.path)})},b("AdsUEditorAdgroupRemovePortraitCustomizationsDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveStaticFallbackSpecReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveStaticFallbackSpecDataActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.STATIC_FALLBACK_SPEC.path)})},b("AdsUEditorAdgroupRemoveStaticFallbackSpecDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveStoriesInteractiveComponentReducerPlugin",["AdsAPIAdgroupPaths","AdsAPIObjectives","AdsInteractivePollLinkUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveStoriesInteractiveComponentDataActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorCampaignSelectors"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin),eligibilityInformation:b("AdsUEditorCampaignSelectors").eligibilityInformation},function(a,c,d){var e=d.eligibilityInformation,f=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){d=f.get(d);if(d==null)return a;a=a;var g=e.objective;g!==b("AdsAPIObjectives").APP_INSTALLS&&(a=b("AdsInteractivePollLinkUtils").updateAdgroupWebsiteLink(a,d,c.canUsePacOptionalLinks,Boolean(c.hasPollOptionLink)));return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.INTERACTIVE_COMPONENTS_SPEC.path)})},b("AdsUEditorAdgroupRemoveStoriesInteractiveComponentDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveVideoCustomOverlaySpecReducerPlugin",["AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveVideoCustomOverlaySpecActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var c=b("nullthrows")(e.get(a.id),"adgroup not present in plugin while removing custom overlay spec from video data");c=b("AdsUnifiedCreativeAPIFields").videoCustomOverlaySpec.getPath(a,c);return c==null?a:a.deleteIn(c)})},b("AdsUEditorAdgroupRemoveVideoCustomOverlaySpecActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveWhatsAppAccountReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveWhatsAppAccountDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.WHATSAPP_BUSINESS_PROFILE_ID)})},b("AdsUEditorAdgroupRemoveWhatsAppAccountDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSaveCanvasReducerPlugin",["AdsCanvasCollectionsConstants","AdsCanvasCollectionsUtils","AdsCanvasDocumentSaveSuccessDataActionFlux","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsCanvasCollectionsConstants").EMPTY_COLLECTION_THUMBNAILS;a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;d=c.adgroupIDs?c.adgroupIDs:[];return b("AdsMutators").mutateEach(a,d,function(a,c){c=b("nullthrows")(e.get(c));return b("AdsCanvasCollectionsUtils").isCanvasCollectionAd(a,c)&&b("AdsUnifiedCreativeAPIFields").collectionThumbnails.isSupported(a,c)?a.setIn(b("AdsUnifiedCreativeAPIFields").collectionThumbnails.getPathOrThrow(a,c),g):a})},b("AdsCanvasDocumentSaveSuccessDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSaveDynamicAdCustomizationsReducerPlugin",["AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSaveDynamicAdCustomizationsDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,b){a=c.draftAdgroup;return a})},b("AdsUEditorAdgroupSaveDynamicAdCustomizationsDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSaveTranslationsReducerPlugin",["AdsAPIAdgroupPaths","AdsAssetFeedUtils","AdsDLOLanguageUtils","AdsLocalizedPlacementsMutators","AdsMutators","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSaveLanguageTranslationsDataActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){d=b("nullthrows")(e.get(d));if(c.errorCodes.length!==0)return a;var f=c.draftAdgroup,g=b("AdsDLOLanguageUtils").getAddedLanguagesCountFromAdgroup(f);g===0&&(b("AdsAssetFeedUtils").isDLOAdgroupFromRecord(f)?f=b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(b("AdsAssetFeedUtils").getTargetObjectType(f),f,b("nullthrows")(d.pivots.objective)):f=b("AdsLocalizedPlacementsMutators").convertLocalizedPlacementsToPAC(f));return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.path,f.creative)})},b("AdsUEditorAdgroupSaveLanguageTranslationsDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSelectAppPromotedObjectTypeReducerPlugin",["AdsAPIAdgroupRecordUtils","AdsAPICampaignGroupRecordUtils","AdsDeliveryOmnichannelUtils","AdsEditorPostEditMode","AdsInstantCheckoutUtils","AdsMutators","AdsStoreUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupCachedUIStore","AdsUEditorAdgroupCachedUtils","AdsUEditorAdgroupOfferMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCallToActionMutators","AdsUEditorCampaignSelectAppPromotedObjectTypeDataActionFlux","AdsUEditorMessengerMutators","AdsUEditorSetPostEditModeMutators","AdsUnifiedCreativeAPIFields","adsCallToActionGetDefaultCallToActionType","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData),cachedStoreState:b("AdsStoreUtils").toSelector(b("AdsUEditorAdgroupCachedUIStore"))},function(a,c,d){__p&&__p();var e=d.parentData,f=d.cachedStoreState;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){var g=b("nullthrows")(e.get(d)),h=g.campaignGroup,i=g.specPlugin,j=h.objective,k=b("AdsAPICampaignGroupRecordUtils").getPromotedObjectPageID(h),l=b("adsCallToActionGetDefaultCallToActionType")(j,c.promotedObjectType),m=b("AdsUEditorAdgroupCachedUtils").getCachedCallToActionLink(f,d,l),n=b("AdsUnifiedCreativeAPIFields").multiShareEndCard.isSupported(a,i),o=b("AdsUEditorAdgroupCachedUtils").getCreative(f,d,b("AdsEditorPostEditMode").INLINE),p=b("AdsUEditorAdgroupCachedUtils").getMetadata(f,d);return b("AdsMutators").chain(function(a){return b("AdsDeliveryOmnichannelUtils").removeOmnichannelDataOnAdgroup(a)},function(a){return b("AdsAPIAdgroupRecordUtils").isExistingPostAd(a)?b("AdsUEditorSetPostEditModeMutators").setToUsingInlineCreation({adgroup:a,cachedCreative:o,cachedMetadata:p,objective:j,specPathPlugin:i}):a},function(a){return b("AdsUEditorAdgroupOfferMutators").removeOfferIDState(a,i)},function(a){return b("AdsInstantCheckoutUtils").unsetInstantCheckoutAdTypeInAdgroup(a)},function(a){return b("AdsUEditorMessengerMutators").deleteMessengerDestinationFields({adgroup:a,specPlugin:i,supportPageEndCard:n})},function(a){return b("AdsUEditorCallToActionMutators").setCallToAction({callToActionType:l,cachedCallToActionLink:m,adgroup:a,campaignGroupPromotedPageID:k,objective:j,promotedObjectType:c.promotedObjectType,specPlugin:i})})(a)})},b("AdsUEditorCampaignSelectAppPromotedObjectTypeDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorInstagramMutators",["AdCampaignDestination","AdsCallToActionTypesCond","AdsCampaignRecordAccessors","AdsMutators","AdsPlacementReducerUtils","AdsPromotedObjectTypes","AdsUEditorCallToActionMutators","AdsUEditorMessengerMutators","AdsUEditorWebsiteMutators","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=function(a){var c=a.adgroup,d=a.campaignPromotedPageID,e=a.objective,f=a.specPlugin,g=a.supportPageEndCard;a=b("AdsMutators").chain(function(a){return b("AdsUEditorMessengerMutators").deleteSponsoredMessagesFields({adgroup:a})},function(a){return b("AdsUEditorMessengerMutators").deleteMessengerDestinationFields({adgroup:a,specPlugin:f,supportPageEndCard:g})},function(a){return b("AdsUEditorCallToActionMutators").setCallToAction({callToActionType:b("AdsCallToActionTypesCond").TYPES.INSTAGRAM_MESSAGE.name,pages:null,cachedCallToActionLink:null,adgroup:a,campaignGroupPromotedPageID:d,objective:e,promotedObjectType:b("AdsPromotedObjectTypes").INSTAGRAM,specPlugin:f})},function(a){return a.setIn(b("AdsUnifiedCreativeAPIFields").pageID.getPathOrThrow(a,f),d)},function(a){return b("AdsUEditorWebsiteMutators").setWebsiteURL({websiteURL:"www.instagram.com",adgroup:a,campaignGroupPromotedPageID:d,objective:e,promotedObjectType:b("AdsPromotedObjectTypes").INSTAGRAM,specPlugin:f})});return a(c)};function a(a,c){var d;return b("AdsMutators").chain((d=b("AdsCampaignRecordAccessors")).targeting.is_whatsapp_destination_ad["delete"],d.targeting.app_install_state["delete"],d.targeting.user_os["delete"],d.targeting.user_device["delete"],d.destination_type.set(b("AdCampaignDestination").INSTAGRAM_DIRECT),function(a){return b("AdsPlacementReducerUtils").resetPlacement(a,c)})(a)}d={setFieldsForSelectingPromotedObjectType:c,setInstagramPromotedObjectTypeForMessages:a};e.exports=d}),null);
__d("AdsUEditorAdgroupSelectInstagramPromotedObjectTypeReducerPlugin",["AdsDeliveryOmnichannelUtils","AdsInstantCheckoutUtils","AdsMutators","AdsStoreUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupCachedUIStore","AdsUEditorAdgroupCachedUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCampaignSelectInstagramPromotedObjectTypeDataActionFlux","AdsUEditorInstagramMutators","AdsUEditorSetPostEditModeMutators","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData),cachedStoreState:b("AdsStoreUtils").toSelector(b("AdsUEditorAdgroupCachedUIStore"))},function(a,c,d){var e=d.parentData,f=d.cachedStoreState;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){var d=b("nullthrows")(e.get(c)),g=d.campaign,h=d.campaignGroup,i=d.specPlugin,j=(d=g.promoted_object)==null?void 0:d.page_id,k=b("AdsUEditorAdgroupCachedUtils").getMetadata(f,c),l=b("AdsUnifiedCreativeAPIFields").multiShareEndCard.isSupported(a,i);return b("AdsMutators").chain(function(a){return b("AdsDeliveryOmnichannelUtils").removeOmnichannelDataOnAdgroup(a)},function(a){return b("AdsInstantCheckoutUtils").unsetInstantCheckoutAdTypeInAdgroup(a)},function(a){return b("AdsUEditorSetPostEditModeMutators").setToUsingInlineCreation({adgroup:a,cachedMetadata:k,campaignPromotedPageID:j,objective:h.objective,specPathPlugin:i})},function(a){return b("AdsUEditorInstagramMutators").setFieldsForSelectingPromotedObjectType({adgroup:a,campaignPromotedPageID:j,objective:h.objective,specPlugin:i,supportPageEndCard:l})})(a)})},b("AdsUEditorCampaignSelectInstagramPromotedObjectTypeDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSelectMessengerPromotedObjectTypeReducerPlugin",["AdsAdgroupSpecPathPluginResolver","AdsAPIAdgroupPaths","AdsAPICampaignGroupRecordUtils","AdsAPIObjectives","AdsDeliveryOmnichannelUtils","AdsInstantCheckoutUtils","AdsMutators","AdsPromotedObjectTypes","AdsStoreUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupCachedUIStore","AdsUEditorAdgroupCachedUtils","AdsUEditorAdgroupOfferMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCallToActionMutators","AdsUEditorCampaignAdObjectsUtils","AdsUEditorCampaignSelectMessengerPromotedObjectTypeDataActionFlux","AdsUEditorMessengerMutators","AdsUEditorSetPostEditModeMutators","AdsUEditorWebsiteMutators","AdsUEditorWhatsAppMutators","AdsUnifiedCreativeAPIFields","adsUEditorAccountSelector","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData),cachedStoreState:b("AdsStoreUtils").toSelector(b("AdsUEditorAdgroupCachedUIStore"))},function(a,c,d){__p&&__p();var e=d.account,f=d.cachedStoreState,g=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){__p&&__p();a=a;var d=b("nullthrows")(g.get(c)),h=d.campaign,i=d.campaignGroup;d=d.specPlugin;var j=i.objective,k=b("AdsUnifiedCreativeAPIFields").multiShareEndCard.isSupported(a,d),l=b("AdsAPICampaignGroupRecordUtils").getPromotedObjectPageID(i);h=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:h,campaignGroup:i});i=b("AdsUEditorAdgroupCachedUtils").getMetadata(f,c);var m=b("AdsUEditorAdgroupCachedUtils").getPageID(f,c);c=b("AdsUEditorAdgroupCachedUtils").getCachedCallToActionLink(f,c,null);b("AdsUnifiedCreativeAPIFields").offerID.isSupported(a,d)&&(a=b("AdsUEditorAdgroupOfferMutators").removeOfferIDState(a,d));(function(a){return b("AdsDeliveryOmnichannelUtils").removeOmnichannelDataOnAdgroup(a)});a=b("AdsUEditorSetPostEditModeMutators").setToUsingInlineCreation({adgroup:a,cachedMetadata:i,cachedPageID:m,objective:j,specPathPlugin:d});a=b("AdsInstantCheckoutUtils").unsetInstantCheckoutAdTypeInAdgroup(a);b("AdsUnifiedCreativeAPIFields").linkURL.isSupported(a,d)&&(a=b("AdsUEditorWebsiteMutators").setWebsiteURL({adgroup:a,campaignGroupPromotedPageID:void 0,objective:j,promotedObjectType:b("AdsPromotedObjectTypes").MESSENGER,specPlugin:d,websiteURL:""}));a=b("AdsUEditorCallToActionMutators").setCallToAction({callToActionType:null,pages:null,cachedCallToActionLink:c,adgroup:a,campaignGroupPromotedPageID:l,objective:j,promotedObjectType:h,specPlugin:d});a=b("AdsUEditorWhatsAppMutators").deleteWhatsAppDestinationFields({adgroup:a,specPlugin:b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:"REGULAR",objective:b("AdsAPIObjectives").MESSAGES,promotedObjectType:b("AdsPromotedObjectTypes").WHATSAPP}),supportPageEndCard:k});a=b("AdsUEditorMessengerMutators").setMessengerDestinationFields({adgroup:a,campaignGroupPromotedPageID:l,objective:j,promotedObjectType:h,specPlugin:d,supportPageEndCard:k,capabilities:e.capabilities});a=a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID);return a})},b("AdsUEditorCampaignSelectMessengerPromotedObjectTypeDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSelectOfflinePromotedObjectTypeReducerPlugin",["AdsCallToActionTypesCond","AdsDeliveryOmnichannelUtils","AdsInstantCheckoutUtils","AdsMutators","AdsPromotedObjectTypes","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupOfferMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCallToActionMutators","AdsUEditorCampaignSelectOfflinePromotedObjectTypeDataActionFlux","AdsUEditorMessengerMutators","AdsUEditorWebsiteMutators","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){c=b("nullthrows")(e.get(c));var d=c.campaignGroup,f=c.specPlugin,g=b("AdsUnifiedCreativeAPIFields").multiShareEndCard.isSupported(a,f);return b("AdsMutators").chain(function(a){return b("AdsDeliveryOmnichannelUtils").removeOmnichannelDataOnAdgroup(a)},function(a){return b("AdsUEditorAdgroupOfferMutators").removeOfferIDState(a,f)},function(a){return b("AdsInstantCheckoutUtils").unsetInstantCheckoutAdTypeInAdgroup(a)},function(a){return b("AdsUEditorWebsiteMutators").setWebsiteURL({adgroup:a,campaignGroupPromotedPageID:(a=d.promoted_object)==null?void 0:a.page_id,objective:d.objective,promotedObjectType:b("AdsPromotedObjectTypes").OFFLINE_EVENT_SET,specPlugin:f,websiteURL:""})},function(a){return b("AdsUEditorCallToActionMutators").setCallToAction({callToActionType:b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name,pages:null,cachedCallToActionLink:null,adgroup:a,campaignGroupPromotedPageID:(a=d.promoted_object)==null?void 0:a.page_id,objective:d.objective,promotedObjectType:b("AdsPromotedObjectTypes").OFFLINE_EVENT_SET,specPlugin:f})},function(a){return b("AdsUEditorMessengerMutators").deleteMessengerDestinationFields({adgroup:a,specPlugin:f,supportPageEndCard:g})})(a)})},b("AdsUEditorCampaignSelectOfflinePromotedObjectTypeDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSelectOmnichannelAppObjectReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorCampaignDeliveryChangeOmnichannelAppObjectActionFlux"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){a=a;var d=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.VALUE.APPLICATION;if(c.clear===!0)return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.VALUE.OBJECT_STORE_URLS).deleteIn(d);var e=c.appData;e!=null&&Object.prototype.hasOwnProperty.call(e,"object_store_urls")&&(a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.VALUE.OBJECT_STORE_URLS,e.object_store_urls));e=(e=c.appData)==null?void 0:e.application_id;return e!=null?a.setIn(d,e):a})},b("AdsUEditorCampaignDeliveryChangeOmnichannelAppObjectActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSelectOmnichannelPromotedObjectTypeReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorCampaignSelectOmnichannelPromotedObjectTypeDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.APPLINK_TREATMENT,"deeplink_with_web_fallback")})},b("AdsUEditorCampaignSelectOmnichannelPromotedObjectTypeDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSelectPixelPromotedObjectTypeReducerPlugin",["AdsDeliveryOmnichannelUtils","AdsMutators","AdsPromotedObjectTypes","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupOfferMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCallToActionMutators","AdsUEditorCampaignAdObjectsUtils","AdsUEditorCampaignSelectPixelPromotedObjectTypeDataActionFlux","AdsUEditorMessengerMutators","AdsUEditorWebsiteMutators","AdsUnifiedCreativeAPIFields","adsCallToActionGetDefaultCallToActionType","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){__p&&__p();c=b("nullthrows")(e.get(c));var d=c.campaign,f=c.campaignGroup,g=c.specPlugin,h=b("AdsUnifiedCreativeAPIFields").multiShareEndCard.isSupported(a,g);c=f.objective;d=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:d,campaignGroup:f});var i=b("adsCallToActionGetDefaultCallToActionType")(c,d);return b("AdsMutators").chain(function(a){return b("AdsDeliveryOmnichannelUtils").removeOmnichannelDataOnAdgroup(a)},function(a){return b("AdsUEditorAdgroupOfferMutators").removeOfferIDState(a,g)},function(a){return b("AdsUEditorWebsiteMutators").setWebsiteURL({adgroup:a,campaignGroupPromotedPageID:(a=f.promoted_object)==null?void 0:a.page_id,objective:f.objective,promotedObjectType:b("AdsPromotedObjectTypes").PIXEL,specPlugin:g,websiteURL:""})},function(a){return b("AdsUEditorCallToActionMutators").setCallToAction({callToActionType:i,pages:null,cachedCallToActionLink:null,adgroup:a,campaignGroupPromotedPageID:(a=f.promoted_object)==null?void 0:a.page_id,objective:f.objective,promotedObjectType:b("AdsPromotedObjectTypes").PIXEL,specPlugin:g})},function(a){return b("AdsUEditorMessengerMutators").deleteMessengerDestinationFields({adgroup:a,specPlugin:g,supportPageEndCard:h})})(a)})},b("AdsUEditorCampaignSelectPixelPromotedObjectTypeDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSelectWhatsAppPromotedObjectTypeReducerPlugin",["AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsDeliveryOmnichannelUtils","AdsInstantCheckoutUtils","AdsMessengerVisualEditorUtils","AdsMutators","AdsPromotedObjectTypes","AdsStoreUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupCachedUIStore","AdsUEditorAdgroupCachedUtils","AdsUEditorAdgroupOfferMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCampaignSelectWhatsAppPromotedObjectTypeDataActionFlux","AdsUEditorSetPostEditModeMutators","AdsUEditorWebsiteMutators","AdsUEditorWhatsAppMutators","AdsUnifiedCreativeAPIFields","adsACOIsACOAdgroup","adsACORemoveACOSpec","adsCreateAdAccountGKSelector","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({isEligibleForWhatsAppMessagingSetup:b("adsCreateAdAccountGKSelector")._("1KjeoGxCx"),parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData),cachedStoreState:b("AdsStoreUtils").toSelector(b("AdsUEditorAdgroupCachedUIStore"))},function(a,c,d){__p&&__p();var e=d.isEligibleForWhatsAppMessagingSetup,f=d.parentData,g=d.cachedStoreState;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){__p&&__p();var d=b("nullthrows")(f.get(c)),h=d.campaign,i=d.campaignGroup,j=d.specPlugin,k=(d=h.promoted_object)==null?void 0:d.page_id,l=b("AdsUEditorAdgroupCachedUtils").getMetadata(g,c);d=b("AdsAPIAdgroupRecordUtils").getPageID(a,j);var m=b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage.getPathOrThrow(a,j),n=JSON.stringify(b("AdsMessengerVisualEditorUtils").getStandardTemplateDefaultJSON(d));return b("AdsMutators").chain(function(a){return b("AdsDeliveryOmnichannelUtils").removeOmnichannelDataOnAdgroup(a)},function(a){return b("adsACOIsACOAdgroup")(a)?b("adsACORemoveACOSpec")(i,h,a):a},function(a){return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID)},function(a){return b("AdsUnifiedCreativeAPIFields").offerID.isSupported(a,j)?b("AdsUEditorAdgroupOfferMutators").removeOfferIDState(a,j):a},function(a){return b("AdsInstantCheckoutUtils").unsetInstantCheckoutAdTypeInAdgroup(a)},function(a){return b("AdsUEditorSetPostEditModeMutators").setToUsingInlineCreation({adgroup:a,cachedMetadata:l,campaignPromotedPageID:k,objective:i.objective,specPathPlugin:j})},function(a){return b("AdsUnifiedCreativeAPIFields").linkURL.isSupported(a,j)?b("AdsUEditorWebsiteMutators").setWebsiteURL({adgroup:a,campaignGroupPromotedPageID:void 0,objective:i.objective,promotedObjectType:b("AdsPromotedObjectTypes").WHATSAPP,specPlugin:j,websiteURL:""}):a},function(a){return b("AdsUEditorWhatsAppMutators").setFieldsForSelectingPromotedObjectType({adgroup:a,campaignPromotedPageID:k,objective:i.objective,promotedObjectType:b("AdsPromotedObjectTypes").WHATSAPP,specPlugin:j})},function(a){return e?a.setIn(m,n):a})(a)})},b("AdsUEditorCampaignSelectWhatsAppPromotedObjectTypeDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetACOCoverImageReducerPlugin",["AdsAPIAdgroupPaths","AdsAssetFeedMutationUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetACOCoverImageDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d=a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS);return b("AdsAssetFeedMutationUtils").setAssetsArrayInField(d,e.get(a.id),b("AdsUnifiedCreativeAPIFields").imageHash,c.imageAssets)})},b("AdsUEditorAdgroupSetACOCoverImageDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetACOCoverVideoReducerPlugin",["AdsAPIAdAssetFeedVideosFields","AdsAPIAdgroupPaths","AdsAssetFeedMutationUtils","AdsLoadState_LEGACY","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetACOCoverVideoDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","AdsVideoStore","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin),getVideo:b("AdsVideoStore").getSelector},function(a,c,d){var e=d.plugins,f=d.getVideo,g=c.videoIDs.map(function(a){var c=f(a);a=b("immutable").Map().set(b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID,a);c!=null&&c.loadState!==b("AdsLoadState_LEGACY").LOADING&&(a=a.set(b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL,c.preferredThumbnail.uri),a=a.set(b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_SOURCE,"generated_default"));return a});return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var c=a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES);return b("AdsAssetFeedMutationUtils").setAssetsArrayInField(c,e.get(a.id),b("AdsUnifiedCreativeAPIFields").videoID,g)})},b("AdsUEditorAdgroupSetACOCoverVideoDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetAdContextReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetAdContextActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsMutators").setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.AD_CONTEXT,c.adContext,a)})},b("AdsUEditorAdgroupSetAdContextActionFlux").actionType)};e.exports=a}),null);
__d("AdsInstagramAccountUtils",["AdsLoadStateUtils_LEGACY","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={mapToDestinations:function(a){return a.map(function(a){return{id:a.id,name:a.username,icon_url:a.profile_pic}})},getPageBackedInstagramAccountMap:function(a){var b=new Map();a.forEach(function(a){a=g.getLoadedPageBackedInstagramAccount(a);a&&b.set(a.id,a)});return b},getLoadedPageBackedInstagramAccount:function(a){if(!b("AdsLoadStateUtils_LEGACY").isLoaded(a))return null;a=b("getByPath")(a,["page_backed_instagram_accounts","data"],[]);return a.length>0?a[0]:null},isPublished:function(a){return!b("AdsLoadStateUtils_LEGACY").isLoaded(a)?null:a.is_published},filterOutPrivateInstagramAccounts:function(a){return a.filter(function(a){return!a.is_private})}};e.exports=g}),null);
__d("pickDefaultInstagramAccount",["getByPath"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("getByPath")(a,["instagram_accounts","data","0","id"])||b("getByPath")(a,["page_backed_instagram_accounts","data","0","id"])}e.exports=a}),null);
__d("AdsInstagramAccountStoreUtils",["regeneratorRuntime","Promise","AdsBusinessInstagramAccountProvider","AdsInstagramAccountUtils","isTruthy","AdsLoadStateUtils_LEGACY","AdsPageInstagramAccountStore","AdsPageStore","adsStorePromiseAsyncGetForSyncStore","getByPath","isEmpty","pickDefaultInstagramAccount"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("AdsBusinessInstagramAccountProvider").toFluxStore();function i(a){__p&&__p();var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(b("adsStorePromiseAsyncGetForSyncStore")(h,function(){return b("AdsLoadStateUtils_LEGACY").fromLoadObjectTreatEmptyAsLoading(h.getState().get(a))}));case 2:c=d.sent;return d.abrupt("return",b("getByPath")(c,["data"]));case 4:case"end":return d.stop()}},null,this)}function j(a,c,d){__p&&__p();var e,f;return b("regeneratorRuntime").async(function(h){__p&&__p();while(1)switch(h.prev=h.next){case 0:if(!(!c||(g||(g=b("isEmpty")))(Object.values(d)))){h.next=2;break}return h.abrupt("return",b("Promise").resolve(Object.keys(d)));case 2:h.next=4;return b("regeneratorRuntime").awrap(i(a));case 4:e=h.sent;f=new Set(e.map(function(a){return a.id}));return h.abrupt("return",Object.entries(d).filter(function(a){a[0];a=a[1];return!f.has(a)}).map(function(a){var b=a[0];a[1];return b}));case 7:case"end":return h.stop()}},null,this)}function k(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:return c.abrupt("return",b("adsStorePromiseAsyncGetForSyncStore")(b("AdsPageStore"),function(){return b("AdsPageStore").get(a)}).then(function(a){return a.access_token}));case 1:case"end":return c.stop()}},null,this)}function l(a){__p&&__p();var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(b("adsStorePromiseAsyncGetForSyncStore")(b("AdsPageInstagramAccountStore"),function(){return b("AdsPageInstagramAccountStore").getAll(a)}));case 2:c=d.sent;return d.abrupt("return",c);case 4:case"end":return d.stop()}},null,this)}function a(a,c,d,e){__p&&__p();var f,h,i,m,n;return b("regeneratorRuntime").async(function(o){__p&&__p();while(1)switch(o.prev=o.next){case 0:o.next=2;return b("regeneratorRuntime").awrap(b("Promise").all([j(a,c,d),k(e)]));case 2:f=o.sent;h=f[0];i=f[1];if(!(g||(g=b("isEmpty")))(h)){o.next=7;break}return o.abrupt("return",{instagramAccountID:void 0,adgroupIDs:[],pageAccessToken:i});case 7:o.next=9;return b("regeneratorRuntime").awrap(l([e]));case 9:m=o.sent;n=m.get(e);if(!n){o.next=13;break}return o.abrupt("return",{adgroupIDs:h,instagramAccountID:b("pickDefaultInstagramAccount")(n),pageAccessToken:i});case 13:return o.abrupt("return",{adgroupIDs:[],instagramAccountID:void 0,pageAccessToken:i});case 14:case"end":return o.stop()}},null,this)}function c(a){__p&&__p();return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:return c.abrupt("return",b("adsStorePromiseAsyncGetForSyncStore")(b("AdsPageInstagramAccountStore"),function(){return b("AdsPageInstagramAccountStore").getAll(a)}).then(function(a){var c=new Map();a.forEach(function(a,d){a=b("AdsInstagramAccountUtils").getLoadedPageBackedInstagramAccount(a);d&&a&&c.set(d,a)});return c}));case 1:case"end":return c.stop()}},null,this)}function d(a,c,d,e){__p&&__p();var f,g,h,j,m;return b("regeneratorRuntime").async(function(n){__p&&__p();while(1)switch(n.prev=n.next){case 0:if(!(c&&b("isTruthy")(e))){n.next=6;break}n.next=3;return b("regeneratorRuntime").awrap(i(a));case 3:f=n.sent;if(!f.some(function(a){return a.id===e})){n.next=6;break}return n.abrupt("return",{needsInstagramAccount:!1});case 6:n.next=8;return b("regeneratorRuntime").awrap(b("Promise").all([l([d]),k(d)]));case 8:g=n.sent;h=g[0];j=g[1];m=h.get(d);if(!m){n.next=14;break}return n.abrupt("return",{instagramAccountID:b("pickDefaultInstagramAccount")(m),needsInstagramAccount:!0,pageAccessToken:j});case 14:return n.abrupt("return",{instagramAccountID:void 0,needsInstagramAccount:!0,pageAccessToken:j});case 15:case"end":return n.stop()}},null,this)}f={genDefaultInstagramAccountForPageAndAdgroups:a,genLoadedPageBackedInstagramAccountForPages:c,genDefaultInstagramAccountForReachFrequency:d,pickDefaultInstagramAccount:b("pickDefaultInstagramAccount")};e.exports=f}),null);
__d("AdsUEditorAdgroupInstagramUtils",["regeneratorRuntime","AdsAdgroupFetchDefaultInstagramAccountForPageFinishedAction","AdsAdgroupFetchDefaultInstagramAccountForPageStartedAction","AdsDataAtom","AdsInstagramAccountActionSources","AdsInstagramAccountPageCreateAndUsePageBackedDataAction","AdsInstagramAccountStoreUtils","AdsUEditorAdgroupSetInstagramAccountDataAction","AdsUEditorHostIDs","isEmpty","isTruthy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function a(a,c,d,e){__p&&__p();var f,h,i,j,k;return b("regeneratorRuntime").async(function(l){__p&&__p();while(1)switch(l.prev=l.next){case 0:f=!1;Object.keys(c).length>0&&(f=!0);if(!f){l.next=12;break}b("AdsDataAtom").addPostDispatchCallback(function(){b("AdsAdgroupFetchDefaultInstagramAccountForPageStartedAction").dispatch({},{line:"44",module:"AdsUEditorAdgroupInstagramUtils.js"})});l.next=6;return b("regeneratorRuntime").awrap(b("AdsInstagramAccountStoreUtils").genDefaultInstagramAccountForPageAndAdgroups(a.account_id,!!a.business,c,d));case 6:h=l.sent,i=h.adgroupIDs,j=h.instagramAccountID,k=h.pageAccessToken,(g||(g=b("isEmpty")))(i)||(b("isTruthy")(j)?b("AdsUEditorAdgroupSetInstagramAccountDataAction").dispatch({hostID:e,adgroupIDs:i,instagramAccountID:j},{line:"61",module:"AdsUEditorAdgroupInstagramUtils.js"}):b("AdsInstagramAccountPageCreateAndUsePageBackedDataAction").dispatch({hostID:e,source:e===b("AdsUEditorHostIDs").CREATION?b("AdsInstagramAccountActionSources").CF_AUCTION:b("AdsInstagramAccountActionSources").PE_AUCTION,data:{campaignID:null,adgroupIDs:i,pageID:d,accessToken:k}},{line:"68",module:"AdsUEditorAdgroupInstagramUtils.js"})),b("AdsAdgroupFetchDefaultInstagramAccountForPageFinishedAction").dispatch({},{line:"86",module:"AdsUEditorAdgroupInstagramUtils.js"});case 12:case"end":return l.stop()}},null,this)}c={initiateInstagramDefaulting:a};e.exports=c}),null);
__d("AdsUEditorCampaignWhatsAppStatusSelectors",["AdsPlacementAPISpecReaderUtils","AdsPlacementsWhatsAppPlatformPlugin","AdsPlacementsWhatsAppStatusPositionPlugin","AdsUEditorCampaignSelectors","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAPISpecReaderUtils").isActiveWhatsAppPosition;c=(a=b("adsCreateSelector"))([b("AdsUEditorCampaignSelectors").placementSpecs],function(a){return a.some(function(a){return g(a,"status")})},{name:e.id+".someHaveWhatsAppStatusPosition"});d=a([b("AdsUEditorCampaignSelectors").eligibilityInformationArray],function(a){return a.every(function(a){a=b("AdsPlacementsWhatsAppStatusPositionPlugin").getIneligibilityReason(a);return a==null})},{name:e.id+".isWhatsAppEligibile"});f=a([b("AdsUEditorCampaignSelectors").eligibilityInformation],function(a){return b("AdsPlacementsWhatsAppPlatformPlugin").isEnabled(a.capabilities)},{name:e.id+".isWhatsAppStatusAdsEnabledSelector"});a=a([f],function(a){return a},{name:e.id+".selectableWhatsAppIdentityQEStatusSelector"});e.exports={someHaveWhatsAppStatusPosition:c,isWhatsAppEligibile:d,isWhatsAppStatusAdsEnabledSelector:f,selectableWhatsAppIdentityQEStatusSelector:a}}),null);
__d("AdsUEditorAdgroupSetAdgroupPageIdReducerPlugin",["AdsAPIAdgroupPaths","AdsInstagramApplicabilityUtils","AdsMutators","AdsPageStore","AdsPageUtils","AdsPromotedObjectTypes","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupInstagramUtils","AdsUEditorAdgroupMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCallToActionMutators","AdsUEditorCampaignAdObjectsUtils","AdsUEditorCampaignSetPageIdDataActionFlux","AdsUEditorCampaignWhatsAppStatusSelectors","AdsUEditorWhatsAppMutators","AdsUnifiedCreativeAPIFields","AdsWhatsAppConstants","adsPagesInAuthorizationSelector","adsUEditorAccountSelector","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsWhatsAppConstants").DEFAULT_WHATSAPP_NUMBER;a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),placementSpecsMap:b("AdsUEditorAdgroupSelectors").placementSpecsMap,pagesInAuthorizations:b("adsPagesInAuthorizationSelector"),getPage:b("AdsPageStore").getSelector,hasWhatsAppPlacement:b("AdsUEditorCampaignWhatsAppStatusSelectors").someHaveWhatsAppStatusPosition,parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData),isWhatsAppStatusAdsEnabled:b("AdsUEditorCampaignWhatsAppStatusSelectors").isWhatsAppStatusAdsEnabledSelector},function(a,c,d){__p&&__p();var e=d.account,f=d.placementSpecsMap,h=d.pagesInAuthorizations,i=d.getPage,j=d.hasWhatsAppPlacement,k=d.isWhatsAppStatusAdsEnabled,l=d.parentData,m={};d=b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();a=a;var e=b("nullthrows")(l.get(d)),n=e.campaign,o=e.campaignGroup;e=e.specPlugin;var p=o.objective;o=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:n,campaignGroup:o});var q=o===b("AdsPromotedObjectTypes").SPONSORED_MESSAGES;q&&(a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_ID,c.pageID));var r=null;k&&j&&(r=b("AdsPageUtils").getWhatsAppBusinessProfileID(i(c.pageID)));if(n.destination_type===b("AdsPromotedObjectTypes").WHATSAPP){n=b("AdsPageUtils").getWhatsAppNumber(i(c.pageID),!0)||g;a=b("AdsUEditorWhatsAppMutators").setFieldsForSelectingPage({adgroup:a,campaignPromotedPageID:c.pageID,objective:p,promotedObjectType:o,specPlugin:e,whatsAppNumber:n,whatsAppBusinessProfileID:r});a=b("AdsUEditorCallToActionMutators").deleteCallToActionValueAppDestination(a,e)}else k&&(a=b("AdsUEditorWhatsAppMutators").setWhatsAppBusinessProfileID({adgroup:a,whatsAppBusinessProfileID:r}));b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramPlacement(f.get(d))&&(m[d]=b("AdsUnifiedCreativeAPIFields").instagramActorID.getValue(a,e));return b("AdsUEditorAdgroupMutators").adgroupProcessing(c.pageID,a,q,h,o,p,e)});Object.keys(m).length>0&&b("AdsUEditorAdgroupInstagramUtils").initiateInstagramDefaulting(e,m,c.pageID,c.hostID);return d},b("AdsUEditorCampaignSetPageIdDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetAppDeepLinkSelectorReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetAppDeepLinkSelectorDataActionFlux"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){__p&&__p();return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();a=a;if(c.appID!=null&&c.appID!==""){var d;d=(d=a.creative)==null?void 0:d.applink_treatment;d||(a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.APPLINK_TREATMENT,"deeplink_with_web_fallback"));return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL_SPEC.CONFIG.APP_ID,c.appID)}else{d=(d=a.creative)==null?void 0:(d=d.template_url_spec)==null?void 0:d.web;return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL_SPEC.path).setIn(b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL_SPEC.WEB.path,d)}})},b("AdsUEditorAdgroupSetAppDeepLinkSelectorDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsCreativeFieldsTemplateUrlSpecUtils",["AdsAdgroupSetHasCustomTemplateUrlSpecFieldsDataAction","AdsAPIAdgroupPaths","AdsAPIConnectionObjectPaths","AdsAppPlatformCreativeFieldTypes","AdsAppUtils","ads-app-platforms","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAppPlatformCreativeFieldTypes").ANDROID,h=b("AdsAppPlatformCreativeFieldTypes").IOS,i=b("AdsAppPlatformCreativeFieldTypes").WINDOWS,j=b("ads-app-platforms").MOBILE_STORE;a={getUrlPathForPlatform:function(a){switch(a){case b("AdsAppPlatformCreativeFieldTypes").ANDROID:return b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL_SPEC.ANDROID.URL;case b("AdsAppPlatformCreativeFieldTypes").IOS:return b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL_SPEC.IOS.URL;case b("AdsAppPlatformCreativeFieldTypes").IPAD:return b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL_SPEC.IPAD.URL;case b("AdsAppPlatformCreativeFieldTypes").IPHONE:return b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL_SPEC.IPHONE.URL;case b("AdsAppPlatformCreativeFieldTypes").WINDOWS:return b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL_SPEC.WINDOWS_PHONE.URL;default:return[]}},getAppNamePathForPlatform:function(a){switch(a){case b("AdsAppPlatformCreativeFieldTypes").ANDROID:return b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL_SPEC.ANDROID.APP_NAME;case b("AdsAppPlatformCreativeFieldTypes").IOS:return b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL_SPEC.IOS.APP_NAME;case b("AdsAppPlatformCreativeFieldTypes").IPAD:return b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL_SPEC.IPAD.APP_NAME;case b("AdsAppPlatformCreativeFieldTypes").IPHONE:return b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL_SPEC.IPHONE.APP_NAME;case b("AdsAppPlatformCreativeFieldTypes").WINDOWS:return b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL_SPEC.WINDOWS_PHONE.APP_NAME;default:return[]}},getAppIDPathForPlatform:function(a){switch(a){case b("AdsAppPlatformCreativeFieldTypes").ANDROID:return b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL_SPEC.ANDROID.PACKAGE;case b("AdsAppPlatformCreativeFieldTypes").IOS:return b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL_SPEC.IOS.APP_STORE_ID;case b("AdsAppPlatformCreativeFieldTypes").IPAD:return b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL_SPEC.IPAD.APP_STORE_ID;case b("AdsAppPlatformCreativeFieldTypes").IPHONE:return b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL_SPEC.IPHONE.APP_STORE_ID;case b("AdsAppPlatformCreativeFieldTypes").WINDOWS:return b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL_SPEC.WINDOWS_PHONE.APP_ID;default:return[]}},getInitialCustomFieldValueObjects:function(a){var b=this,c=[];a.map(function(a){var d=a.id;a=b.hasInitialCustomFieldValue(a);c.push({id:d,hasInitValue:a})});return c},hasInitialCustomFieldValue:function(a){var c=!1;for(var d in b("AdsAppPlatformCreativeFieldTypes")){var e=b("getByPath")(a,this.getAppNamePathForPlatform(d)),f=b("getByPath")(a,this.getAppIDPathForPlatform(d));c=e!==void 0||f!==void 0;if(c===!0)break}return c},isUnsupportedPlatform:function(a,b){return a===g&&!b.includes(j.GOOGLE_PLAY)||a===h&&!b.includes(j.ITUNES)&&!b.includes(j.ITUNES_IPAD)||a===i&&!b.includes(j.WINDOWS_10_STORE)},getSupportedPlatforms:function(a,c){var d=[];a=b("getByPath")(a,b("AdsAPIConnectionObjectPaths").OBJECT_STORE_URLS);a&&Object.keys(a).forEach(function(a){b("AdsAppUtils").getPlatformsForObjectives(c.getValues()).includes(a)&&d.push(a)});return d},setDeepLinkCustomFieldsInitValues:function(a){b("AdsAdgroupSetHasCustomTemplateUrlSpecFieldsDataAction").dispatch({initValueObjects:a},{line:"179",module:"AdsCreativeFieldsTemplateUrlSpecUtils.js"})}};e.exports=a}),null);
__d("AdsUEditorAdgroupSetAppIDPackageDeepLinkReducerPlugin",["AdsCreativeFieldsTemplateUrlSpecUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetAppIDPackageDeepLinkDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c,d){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){if(c.appIDOrPackage==="")return a.deleteIn(b("AdsCreativeFieldsTemplateUrlSpecUtils").getAppIDPathForPlatform(c.appPlatform));else return a.setIn(b("AdsCreativeFieldsTemplateUrlSpecUtils").getAppIDPathForPlatform(c.appPlatform),c.appIDOrPackage)})},b("AdsUEditorAdgroupSetAppIDPackageDeepLinkDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetAppLinkReducerPlugin",["AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetAppLinkActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){var f=c.appLink;d=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPath(a,b("nullthrows")(e.get(d)));return!d?a:a.setIn(d.concat("app_link"),f)})},b("AdsUEditorAdgroupSetAppLinkActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetAppNameDeepLinkReducerPlugin",["AdsCreativeFieldsTemplateUrlSpecUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetAppNameDeepLinkDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c,d){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){if(c.appName==="")return a.deleteIn(b("AdsCreativeFieldsTemplateUrlSpecUtils").getAppNamePathForPlatform(c.appPlatform));else return a.setIn(b("AdsCreativeFieldsTemplateUrlSpecUtils").getAppNamePathForPlatform(c.appPlatform),c.appName)})},b("AdsUEditorAdgroupSetAppNameDeepLinkDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetApplinkTreatmentReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetApplinkTreatmentDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsMutators").setIn(b("AdsAPIAdgroupPaths").CREATIVE.APPLINK_TREATMENT,c.applinkTreatment,a)})},b("AdsUEditorAdgroupSetApplinkTreatmentDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetArDataContainerReducerPlugin",["AdsAdgroupTypeUtils","AdsAdgroupWebsiteLinkPostTypeMutators","AdsAppUtils","AdsArLinkUtils","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetArDataContainerActionFlux","AdsUEditorCallToActionMutators","AdsUEditorCampaignAdObjectsUtils","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsMutators").mutateEach;a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData,f=b("AdsArLinkUtils").getArAdsLink(c.dataContainerID);return g(a,c.adgroupIDs,function(a,c){__p&&__p();c=e.get(c);a=a;if(c==null)return a;var d=c.campaign,g=c.campaignGroup;c=c.specPlugin;var h=g.objective;d=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:d,campaignGroup:g});(c.canSinglePhotoHaveCTA()||!b("AdsUnifiedCreativeAPIFields").linkURL.isSupported(a,c))&&(a=b("AdsAdgroupWebsiteLinkPostTypeMutators").convertToHasWebsiteLinkFormat(a,c));a=a.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,c),f);g=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPath(a,c);!b("AdsAdgroupTypeUtils").isVideoAd(a)&&g&&(a=a.deleteIn(g.concat("link")));b("AdsAppUtils").isMobileAppObjective(h,d)&&(a=b("AdsUEditorCallToActionMutators").setCallToActionLink({link:f,adgroup:a,promotedObjectType:d,specPlugin:c}));return a})},b("AdsUEditorAdgroupSetArDataContainerActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetBrandedContentSponsorPageIDUseExistingPostReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetBrandedContentSponsorPageIDUseExistingPostDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.BRANDED_CONTENT_SPONSOR_PAGE_ID,c.useExistingPostBrandedContentSponsorPageID);c.instagramBrandedContentSponsorID!=null?a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_BRANDED_CONTENT.SPONSOR_ID,c.instagramBrandedContentSponsorID):a=a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_BRANDED_CONTENT.path);return a})},b("AdsUEditorAdgroupSetBrandedContentSponsorPageIDUseExistingPostDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetBrandedContentSponsorRelationshipReducerPlugin",["AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetBrandedContentSponsorRelationshipDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.setIn(b("AdsUnifiedCreativeAPIFields").brandedContentSponsorRelationship.getPathOrThrow(a,b("nullthrows")(e.get(a.id))),c.brandedContentSponsorRelationship)})},b("AdsUEditorAdgroupSetBrandedContentSponsorRelationshipDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetCallToActionLinkReducerPlugin",["AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetCallToActionLinkDataActionFlux","AdsUEditorCallToActionMutators","AdsUEditorCampaignAdObjectsUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){d=b("nullthrows")(e.get(d));var f=d.campaign,g=d.campaignGroup;d=d.specPlugin;f=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:f,campaignGroup:g});return b("AdsUEditorCallToActionMutators").setCallToActionLink({link:c.link,pages:c.pages,adgroup:a,promotedObjectType:f,specPlugin:d})})},b("AdsUEditorAdgroupSetCallToActionLinkDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetCallToActionMessengerDestinationPageReducerPlugin",["AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetCallToActionDestinationPageDataActionFlux","AdsUEditorCallToActionMutators","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){d=b("nullthrows")(e.get(d));d=d.specPlugin;if(c.destinationPage===null)return b("AdsUEditorCallToActionMutators").deleteCallToActionValueAppDestinationPageID(a,d);else return b("AdsUEditorCallToActionMutators").setCallToActionValueAppDestinationPageID(a,d,c.destinationPage)})},b("AdsUEditorAdgroupSetCallToActionDestinationPageDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetCallToActionPhoneNumberReducerPlugin",["AdsAPIAdgroupRecordUtils","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupCTAPhoneNumberViewUpdateDataActionFlux","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCallToActionMutators","AdsUEditorCampaignAdObjectsUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;d=c.adgroupIDs||[];return b("AdsMutators").mutateEach(a,d,function(a,d){var f=c.view.buildURI(),g=c.phoneNumberKey.uri;d=b("nullthrows")(e.get(d));var h=d.campaign,i=d.campaignGroup;d=d.specPlugin;h=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:h,campaignGroup:i});i=b("AdsAPIAdgroupRecordUtils").getCallToActionLink(a,d);return f===i||g===i?b("AdsUEditorCallToActionMutators").setCallToActionLink({adgroup:a,callToActionLink:i,link:f,promotedObjectType:h,specPlugin:d}):a})},b("AdsUEditorAdgroupCTAPhoneNumberViewUpdateDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetCallToActionTypeReducerPlugin",["AdsAPICampaignGroupRecordUtils","AdsCallToActionTypesCond","AdsDCOImageCropDoFUtils","AdsMutators","AdsStoreUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupCachedUIStore","AdsUEditorAdgroupCachedUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetCallToActionTypeDataActionFlux","AdsUEditorCallToActionMutators","AdsUEditorCampaignAdObjectsUtils","AdsUEditorCampaignSelectors","adsUEditorAccountSelector","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsCallToActionTypesCond").TYPES.DONATE.name,h=b("AdsCallToActionTypesCond").TYPES.DONATE_NOW.name;a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData),cachedStoreState:b("AdsStoreUtils").toSelector(b("AdsUEditorAdgroupCachedUIStore")),account:b("adsUEditorAccountSelector"),eligibilityInformation:b("AdsUEditorCampaignSelectors").eligibilityInformation},function(a,c,d){__p&&__p();var e=d.account,f=d.cachedStoreState,i=d.eligibilityInformation,j=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){var k=b("nullthrows")(j.get(d)),l=k.campaign,m=k.campaignGroup;k=k.specPlugin;var n=m.objective,o=b("AdsAPICampaignGroupRecordUtils").getPromotedObjectPageID(m);m=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:l,campaignGroup:m});d=b("AdsUEditorAdgroupCachedUtils").getCachedCallToActionLink(f,d,c.callToActionType);var p=a;b("AdsDCOImageCropDoFUtils").isAdgroupOptInImageCropDof(a)&&((c.callToActionType===g||c.callToActionType===h)&&(p=b("AdsDCOImageCropDoFUtils").setAdgroupOptOutImageCropDoF(a,k)));return b("AdsUEditorCallToActionMutators").setCallToAction({accountID:e.account_id,callToActionType:c.callToActionType,pages:c.pages,cachedCallToActionLink:d,adgroup:p,campaignGroupPromotedPageID:o,objective:n,promotedObjectType:m,specPlugin:k,eligibilityInformation:i,destination:l.destination_type})})},b("AdsUEditorAdgroupSetCallToActionTypeDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetCallToActionWhatsAppNumberReducerPlugin",["AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetCallToActionWhatsAppNumberDataActionFlux","AdsUEditorWhatsAppMutators","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){c=b("nullthrows")(e.get(c));c=c.specPlugin;return b("AdsUEditorWhatsAppMutators").setWhatsAppNumberToAdgroupCallToAction(a,c)})},b("AdsUEditorAdgroupSetCallToActionWhatsAppNumberDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetCampaignAppReducerPlugin",["AdsAssetFeedUtils","AdsMutators","AdsStoreUtils","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupCachedUIStore","AdsUEditorAdgroupCachedUtils","AdsUEditorAdgroupReachFrequencyCampaignChangeLinkActionFlux","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorCallToActionMutators","AdsUEditorCampaignAdObjectsUtils","AdsUEditorCampaignGroupAdObjectsUtils","AdsUEditorCampaignSetAppActionFlux","AdsUEditorWebsiteMutators","adsAssetFeedHasCallToActionValue","adsCallToActionGetDefaultCallToActionType","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({campaignGroups:(a=b("AdsUEditorAdgroupSelectors")).adObjectsList.mapTransform(b("AdsUEditorCampaignGroupAdObjectsUtils").getCampaignGroup),promotedObjectTypes:a.adObjectsList.mapTransform(b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType),plugins:a.adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin),cachedStoreState:b("AdsStoreUtils").toSelector(b("AdsUEditorAdgroupCachedUIStore")),campaigns:a.adObjectsList.mapTransform(function(a){return a.campaign})},function(a,c,d){__p&&__p();var e=d.campaignGroups,f=d.promotedObjectTypes,g=d.plugins,h=d.cachedStoreState,i=d.campaigns;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();var j=b("nullthrows")(e.get(d)),k=b("nullthrows")(g.get(d)),l=b("nullthrows")(f.get(d)),m=j.objective;j=(j=j.promoted_object)==null?void 0:j.page_id;var n=c.hasPromotedObjectTypeChanged&&b("AdsAssetFeedUtils").isDLOAdgroupFromRecord(a)?b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(b("AdsAssetFeedUtils").getTargetObjectType(a),a,m):a;n=b("AdsUEditorWebsiteMutators").setWebsiteURL({adgroup:n,campaignGroupPromotedPageID:j,objective:m,promotedObjectType:l,specPlugin:k,websiteURL:c.url||""});var o=i.get(d);if(o!=null){o=o==null?void 0:(o=o.promoted_object)==null?void 0:o.application_id;o!=null&&b("AdsAssetFeedUtils").hasPlacementCustomizationFromSpec(a)&&b("adsAssetFeedHasCallToActionValue")(a,0,"application")&&(n=b("AdsUEditorCallToActionMutators").setCallToActionValueField(n,k,"application",o))}a=b("adsCallToActionGetDefaultCallToActionType")(m,l);o=b("AdsUEditorAdgroupCachedUtils").getCachedCallToActionLink(h,d,a);return c.hasPromotedObjectTypeChanged?b("AdsUEditorCallToActionMutators").setCallToAction({callToActionType:a,cachedCallToActionLink:o,adgroup:n,campaignGroupPromotedPageID:j,objective:m,promotedObjectType:l,specPlugin:k}):n})},[b("AdsUEditorAdgroupReachFrequencyCampaignChangeLinkActionFlux").actionType,b("AdsUEditorCampaignSetAppActionFlux").actionType])};e.exports=c}),null);
__d("AdsUEditorAdgroupSetCanvasDocumentReducerPlugin",["AdsAdgroupTypeUtils","AdsAdgroupWebsiteLinkPostTypeMutators","AdsAPIChildAttachmentPaths","AdsAPIObjectives","AdsAppUtils","AdsCanvasAdUtils","AdsCanvasCollectionsConstants","AdsChildAttachmentsUtils","AdsCollectionsAdUtils","AdsCollectionsConstants","AdsDynamicAdCustomizationDialogDataProvider","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupMultiProductMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetCanvasDocumentDataActionFlux","AdsUEditorCallToActionMutators","AdsUEditorCampaignAdObjectsUtils","AdsUnifiedCreativeAPIFields","Bootloader","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsMutators").mutateEach;function h(a,c,d,e,f,g,h){if(e)a=i(a,c),d.useRetailerItemIDs?a=j(a,c,b("nullthrows")(d.productSetID)):a=k(a,c,d.productSetID,h);else if(f){e=a.getIn(b("AdsUnifiedCreativeAPIFields").retailerItemIDs.getPathOrThrow(a,c));f=f.set("retailerItemIDs",e);b("Bootloader").loadModules(["AdsCanvasElementDataDispatcher"],function(a){return a.updateElement(f,g)},"AdsUEditorAdgroupSetCanvasDocumentReducerPlugin")}return a}function i(a,c){b("AdsUnifiedCreativeAPIFields").videoID.isSupported(a,c)&&(a=a.deleteIn(b("AdsUnifiedCreativeAPIFields").videoID.getPathOrThrow(a,c)));b("AdsUnifiedCreativeAPIFields").imageHash.isSupported(a,c)&&(a=a.deleteIn(b("AdsUnifiedCreativeAPIFields").imageHash.getPathOrThrow(a,c)));b("AdsUnifiedCreativeAPIFields").imageURL.isSupported(a,c)&&(a=a.deleteIn(b("AdsUnifiedCreativeAPIFields").imageURL.getPathOrThrow(a,c)));return a}function j(a,c,d){var e=a.getIn(b("AdsUnifiedCreativeAPIFields").productSetID.getPathOrThrow(a,c));if(d!==e){a=a.setIn((e=b("AdsUnifiedCreativeAPIFields")).retailerItemIDs.getPathOrThrow(a,c),b("AdsCollectionsConstants").EMPTY_COLLECTIONS_RETAIL_ID).setIn(e.productSetID.getPathOrThrow(a,c),d).deleteIn(e.collectionThumbnails.getPathOrThrow(a,c)).deleteIn(e.postClickItemHeadline.getPathOrThrow(a,c)).deleteIn(e.postClickItemDescription.getPathOrThrow(a,c))}return a}function k(a,c,d,e){d?a=a.setIn(b("AdsUnifiedCreativeAPIFields").productSetID.getPathOrThrow(a,c),d):e!==b("AdsAPIObjectives").PRODUCT_CATALOG_SALES&&(a=a.deleteIn(b("AdsUnifiedCreativeAPIFields").productSetID.getPathOrThrow(a,c)));return a.setIn(b("AdsUnifiedCreativeAPIFields").collectionThumbnails.getPathOrThrow(a,c),b("AdsCanvasCollectionsConstants").EMPTY_COLLECTION_THUMBNAILS).deleteIn(b("AdsUnifiedCreativeAPIFields").retailerItemIDs.getPathOrThrow(a,c)).deleteIn(b("AdsUnifiedCreativeAPIFields").postClickItemHeadline.getPathOrThrow(a,c)).deleteIn(b("AdsUnifiedCreativeAPIFields").postClickItemDescription.getPathOrThrow(a,c))}a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData),mmdaDialogData:b("AdsDynamicAdCustomizationDialogDataProvider").toFluxSelector()},function(a,c,d){__p&&__p();var e=d.parentData,f=d.mmdaDialogData,i=b("AdsCanvasAdUtils").getCanvasLink(c.canvasID);return g(a,c.adgroupIDs,function(a,d){__p&&__p();if(f.isDialogShown)return a;d=b("nullthrows")(e.get(d));var g=d.campaign,j=d.campaignGroup;d=d.specPlugin;var k=j.objective;g=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:g,campaignGroup:j});(d.canSinglePhotoHaveCTA()||!b("AdsUnifiedCreativeAPIFields").linkURL.isSupported(a,d))&&(a=b("AdsAdgroupWebsiteLinkPostTypeMutators").convertToHasWebsiteLinkFormat(a,d));a=a.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,d),i);j=b("nullthrows")(a.getIn(b("AdsUnifiedCreativeAPIFields").pageID.getPathOrThrow(a,d)));var l=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPath(a,d),m=b("AdsUnifiedCreativeAPIFields").callToActionType.getPath(a,d);m!=null?a.getIn(m):null;!b("AdsAdgroupTypeUtils").isVideoAd(a)&&l&&(a=a.deleteIn(l.concat("link")));b("AdsChildAttachmentsUtils").isCarouselAd(a)?(a=b("AdsUEditorAdgroupMultiProductMutators").setInEachChild(b("AdsAPIChildAttachmentPaths").LINK,i,a),a=b("AdsUEditorAdgroupMultiProductMutators").deleteInEachChild(["call_to_action"],a)):b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&(a=h(a,d,c.canvasAdSettings,c.shouldSetCollectionFields,c.productSetElement,j,k));b("AdsAppUtils").isMobileAppObjective(k,g)&&(a=b("AdsUEditorCallToActionMutators").setCallToActionLink({link:i,adgroup:a,promotedObjectType:g,specPlugin:d}));return a})},b("AdsUEditorAdgroupSetCanvasDocumentDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetCaptionIDsReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsPlatformTypes","AdsUEditorAdgroupMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetCaptionIDsDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){__p&&__p();var e=d.plugins;d=c.adgroupIDs;var f=c.captionIDs;c=c.platform;if(c&&c!==b("AdsPlatformTypes").DEFAULT_PLATFORM){var g=[].concat(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,[c,"caption_ids"]);return b("AdsMutators").mutateEach(a,d,function(a){return a.setIn(g,f)})}return b("AdsMutators").mutateEach(a,d,function(a,c){return b("AdsUEditorAdgroupMutators").setVideoCaptionIDs(a,e.get(c),f)})},b("AdsUEditorAdgroupSetCaptionIDsDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetCarteToggleReducerPlugin",["AdsAPIAdgroupRecordUtils","AdsAssetFeedUtils","AdsCarteUtils","AdsDCOUtils","AdsMutators","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorCampaignSetCarteToggleActionFlux","FBLogger","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins,f=c.eligibilityInformation.objective;return!c.isInCarte?b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){return b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a)?b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(b("AdsAPIAdgroupRecordUtils").getAssetFeedSpecDestinationObjectType(a),a,f):a},function(a,c){return b("FBLogger")("ads").mustfix("Carte: disable carte at l2 when adgroup is not loaded, adgroupID: %s",c)}):b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){a=b("AdsDCOUtils").convertStorySpecAdgroupToCarteAdgroup(a,f,c.hostID,b("nullthrows")(e.get(d)));return b("AdsCarteUtils").appendCarteSegment(a,b("nullthrows")(e.get(d)))},function(a,c){return b("FBLogger")("ads").mustfix("Carte: enable carte at l2 when adgroup is not loaded, adgroupID: %s",c)})},b("AdsUEditorCampaignSetCarteToggleActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetCatalogAssetFormatOptionReducerPlugin",["AdsAPIAdgroupPaths","AdsDynamicAdsUtils","AdsMutators","AdsStoreUtils","AdsUEditorAdgroupCachedUIStore","AdsUEditorAdgroupCachedUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetCatalogAssetFormatOptionDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin),cachedStoreState:b("AdsStoreUtils").toSelector(b("AdsUEditorAdgroupCachedUIStore"))},function(a,c,d){__p&&__p();var e=d.plugins,f=d.cachedStoreState;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();var g=b("nullthrows")(e.get(d));d=b("AdsUEditorAdgroupCachedUtils").getCachedAdditionalImageIndex(f,d);var h=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA;if(c.formatOption==="single_image")return a.setIn(h.FORCE_SINGLE_LINK,!0).deleteIn(h.FORMAT_OPTION);a=a;c.formatOption==="single_video"&&(a=a.deleteIn(h.FORCE_SINGLE_LINK));b("AdsDynamicAdsUtils").formatOptionSupportsOverlays(c.formatOption)||(a=a.deleteIn(h.IMAGE_OVERLAY_SPEC.path).deleteIn(h.IMAGE_LAYER_SPECS));a=a.setIn(b("AdsUnifiedCreativeAPIFields").catalogAssetFormatOption.getPathOrThrow(a,g),c.formatOption);c.formatOption==="carousel_slideshows"&&(a=a.deleteIn(b("AdsUnifiedCreativeAPIFields").additionalImageIndex.getPathOrThrow(a,g)));c.formatOption==="carousel_images_multi_items"&&(a=a.setIn(b("AdsUnifiedCreativeAPIFields").additionalImageIndex.getPathOrThrow(a,g),d));return a})},b("AdsUEditorAdgroupSetCatalogAssetFormatOptionDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetCategorizationCriteriaReducerPlugin",["AdsAPIAdgroupPaths","AdsInstantCheckoutUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetCategorizationCriteriaDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorCategorizationCriteriaUtils","AdsUnifiedCreativeAPIFields","ApiObjectStorySpecInstantCheckoutAd","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){a=a;b("AdsInstantCheckoutUtils").hasInstantCheckoutAdTypeInAdgroup(a)&&(a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.INSTANT_CHECKOUT_AD_TYPE,b("ApiObjectStorySpecInstantCheckoutAd").NONE));a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.CATEGORIZATION_CRITERIA,c.criteria).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.IMAGE_OVERLAY_SPEC.path).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.IMAGE_LAYER_SPECS).setIn(b("AdsUnifiedCreativeAPIFields").catalogAssetFormatOption.getPathOrThrow(a,b("nullthrows")(e.get(d))),"carousel_images_multi_items").setIn(b("AdsAPIAdgroupPaths").CREATIVE.CATEGORY_MEDIA_SOURCE,"MIXED").deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL_SPEC.path).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.APPLINK_TREATMENT).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.CUSTOMIZATION_RULES_SPEC);a=b("AdsUEditorCategorizationCriteriaUtils").setTokenizedHeadline(a,e,d,"{{category.name}}");a=b("AdsUEditorCategorizationCriteriaUtils").setTokenizedDescription(a,e,d,"");return a})},b("AdsUEditorAdgroupSetCategorizationCriteriaDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetCategoryMediaSourceReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetCategoryMediaSourceDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.CATEGORY_MEDIA_SOURCE,c.categoryMediaSource)})},b("AdsUEditorAdgroupSetCategoryMediaSourceDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetChildAppLinkReducerPlugin",["invariant","AdsAdgroupChildAttachmentsFields","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetChildAppLinkDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){var f=c.childIndex,g=c.appLink;d=b("nullthrows")(e.get(d));d=b("AdsAdgroupChildAttachmentsFields").callToActionAppLink.get(a,d,f);return d.supported?a.setIn(d.path,g):a})},b("AdsUEditorAdgroupSetChildAppLinkDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetChildDescriptionReducerPlugin",["invariant","AdsAdgroupChildAttachmentsFields","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetChildDescriptionDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){var f=c.childIndex,g=c.description;d=b("nullthrows")(e.get(d));d=b("AdsAdgroupChildAttachmentsFields").description.get(a,d,f);return d.supported?a.setIn(d.path,g):a})},b("AdsUEditorAdgroupSetChildDescriptionDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetChildDisplayLinkReducerPlugin",["invariant","AdsAdgroupChildAttachmentsFields","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetChildDisplayLinkActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins,f=c.childIndex,g=c.displayLink;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){c=b("nullthrows")(e.get(c));a=a;var d=b("AdsAdgroupChildAttachmentsFields").callToActionCaption.get(a,c,f);d.supported&&(a=a.deleteIn(d.path));d=b("AdsAdgroupChildAttachmentsFields").caption.get(a,c,f);return d.supported?a.setIn(d.path,g):a})},b("AdsUEditorAdgroupSetChildDisplayLinkActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetChildLinkReducerPlugin",["invariant","AdsAdgroupChildAttachmentsFields","AdsAdgroupSpecUtils","AdsChildAttachmentsUtils","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupChildAttachmentsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetChildLinkDataActionFlux","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsUEditorAdgroupChildAttachmentsMutators").childIterationConditions;function i(a,c,d,e){d=b("AdsAdgroupChildAttachmentsFields").callToActionType.get(a,d,e);if(!d.supported||d.value==null||d.value==="")return!1;e=c.objective;c=(d=c.promoted_object)==null?void 0:d.page_id;return!b("AdsAdgroupSpecUtils").isCTALinkCustomizable(a,e,c)}a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData,f=c.childIndex,g=c.link;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();d=b("nullthrows")(e.get(d));var j=d.campaignGroup;d=d.specPlugin;var k=b("AdsAdgroupChildAttachmentsFields").linkURL.get(a,d,f),l=[h.isCardIndex(f)];c.childIndex===0&&c.autoFillOnFirstChildSet===!0&&l.push(h.isEmptyValue);b("AdsChildAttachmentsUtils").isStaticAndDynamicCarouselAd(a)&&l.push(h.notStaticCard);k=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return l.some(function(a){return a.apply(void 0,b)})};a=a;a=b("AdsUEditorAdgroupChildAttachmentsMutators").setEachChildField(a,d,b("AdsAdgroupChildAttachmentsFields").linkURL,g,k);if(i(a,j,d,f)){var m=[h.hasValue,h.valueNotEqualOtherField(b("AdsAdgroupChildAttachmentsFields").linkURL,d)];a=b("AdsUEditorAdgroupChildAttachmentsMutators").setEachChildField(a,d,b("AdsAdgroupChildAttachmentsFields").callToActionLink,g,function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return m.every(function(a){return a.apply(void 0,b)})})}return a})},b("AdsUEditorAdgroupSetChildLinkDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetChildNameReducerPlugin",["invariant","AdsAdgroupChildAttachmentsFields","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetChildNameDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){var f=c.childIndex,g=c.name;d=b("AdsAdgroupChildAttachmentsFields").headline.get(a,b("nullthrows")(e.get(d)),f);return d.supported?a.setIn(d.path,g):a})},b("AdsUEditorAdgroupSetChildNameDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetClickToDirectInstagramUserReducerPlugin",["AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetClickToDirectInstagramUserDataActionFlux","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){d=b("nullthrows")(e.get(d));d=d.specPlugin;d=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPath(a,d);if(!d)return a;var f=c.app_link;return a.setIn(d.concat("app_link"),f)})},b("AdsUEditorAdgroupSetClickToDirectInstagramUserDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetCollectionThumbnailsReducerPlugin",["AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetCollectionThumbnailsDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){b("AdsUnifiedCreativeAPIFields").collectionThumbnails.isSupported(a,b("nullthrows")(e.get(d)))&&(a=a.setIn(b("AdsUnifiedCreativeAPIFields").collectionThumbnails.getPathOrThrow(a,b("nullthrows")(e.get(a.id))),c.collectionThumbnails));return a})},b("AdsUEditorAdgroupSetCollectionThumbnailsDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetCreativeSpecFromAdBuilderDraftAdReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetCreativeSpecFromAdBuilderDraftAdDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.path,c.sourceAdgroup.creative)})},b("AdsUEditorAdgroupSetCreativeSpecFromAdBuilderDraftAdDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetDevicePlatformDataReducerPlugin",["AdsCampaignSetDevicePlatformDataActionFlux","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","adsACOIsACOAdgroup","adsACOIsValidDevicePlatform","adsACORemoveACOSpec","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;return c.adgroupIDs==null?a:b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){var f;if(!b("adsACOIsACOAdgroup")(a))return a;d=b("nullthrows")(e.get(d));var g=d.campaignGroup;d=d.campaign;f=(f=c.value)!=null?f:[];return b("adsACOIsValidDevicePlatform")(f)?a:b("adsACORemoveACOSpec")(g,d,a)})},b("AdsCampaignSetDevicePlatformDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetDisplayURLAtIndexReducerPlugin",["AdsAPIAdAssetFeedLinkURLsFields","AdsAssetFeedMutationUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetDisplayURLAtIndexDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,b("nullthrows")(e.get(a.id)),b("AdsUnifiedCreativeAPIFields").displayURL,c.assetIndex,b("AdsAPIAdAssetFeedLinkURLsFields").DISPLAY_URL,c.displayURL)})},b("AdsUEditorAdgroupSetDisplayURLAtIndexDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsDLOFieldUtils",["invariant","AdsAPIAdAssetCustomizationRuleFields","AdsAPIAdAssetFeedFields","AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedUtils","AdsDLOLanguageUtils","AdsImageIDUtils","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={updateFieldValueForLabel:function(a,c,d,e,f){a=a||b("immutable").List();var g=a.findEntry(function(a){return h._doesLabelExistInAssetValue(a.get(d),f)}),i=g?g[0]:a.size;g=g?g[1]:b("immutable").Map();g=e!==null?g.set(c,e):g.remove(c);g=g.set(d,b("immutable").List.of(b("immutable").Map().set("name",f)));return a.set(i,g)},updateFieldValueForUnlabeledAsset:function(a,c,d,e,f,g){var h=b("AdsAssetFeedFieldUtils").getDefaultIndexForAsset(a,c);c=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path.concat(c);var i=a.getIn(c)||b("immutable").List(),j=i.get(h)||b("immutable").Map();j=j.set(d,f).set(e,b("immutable").List.of(b("immutable").Map().set("name",g)));return a.setIn(c,i.set(h,j))},updateImagesForLabel:function(a,c,d,e){c!==null&&c!==void 0||d!==null&&d!==void 0||g(0,4532);var f,i;c!==null&&c!==void 0?(c=c,f=b("AdsAPIAdAssetFeedImagesFields").HASH,i=b("AdsAPIAdAssetFeedImagesFields").URL):(c=b("nullthrows")(d),f=b("AdsAPIAdAssetFeedImagesFields").URL,i=b("AdsAPIAdAssetFeedImagesFields").HASH);d=h.updateFieldValueForLabel(a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES),i,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,null,e);return h.updateFieldValueForLabel(d,f,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,c,e)},updateLinkURLForLabel:function(a,c,d){var e=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS),f=h.updateFieldValueForLabel(e,b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL,b("AdsAPIAdAssetFeedLinkURLsFields").ADLABELS,c,d);a=b("AdsAssetFeedFieldUtils").getDefaultIndexForAsset(a,b("AdsAPIAdAssetFeedFields").LINK_URLS);var g="";!e||a===e.size?g=c:g=b("AdsAssetFeedFieldUtils").getAssetAtIndex(e,b("AdsAPIAdAssetFeedLinkURLsFields").DISPLAY_URL,a)||c||"";return h.updateFieldValueForLabel(f,b("AdsAPIAdAssetFeedLinkURLsFields").DISPLAY_URL,b("AdsAPIAdAssetFeedLinkURLsFields").ADLABELS,g,d)},updateVideoCaptionIDsForLabel:function(a,c,d){c=c&&c.length>0?b("immutable").List(c):null;return h.updateFieldValueForLabel(a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS),b("AdsAPIAdAssetFeedVideosFields").CAPTION_IDS,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,c,d)},updateVideosForLabel:function(a,c,d,e){var f;a=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS);a=h.updateFieldValueForLabel(a,(f=b("AdsAPIAdAssetFeedVideosFields")).VIDEO_ID,f.ADLABELS,c,e);a=h.updateFieldValueForLabel(a,f.THUMBNAIL_URL,f.ADLABELS,d,e);return a},updateVideoThumbnailForLabel:function(a,c,d,e){var f;a=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS);a=h.updateFieldValueForLabel(a,(f=b("AdsAPIAdAssetFeedVideosFields")).THUMBNAIL_SOURCE,f.ADLABELS,d,e);return h.updateFieldValueForLabel(a,f.THUMBNAIL_URL,f.ADLABELS,c,e)},removeDefaultImage:function(a){var c=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES);return c?a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES,c.remove(b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(a,b("AdsAPIAdAssetFeedFields").IMAGES))):a},getAdditionalDLOImageIDsByLanguage:function(a,c){__p&&__p();var d=b("AdsDLOLanguageUtils").getAddedLanguaguesFromAdgroup(a),e=b("AdsDLOLanguageUtils").getPrimaryLanguageFromAdgroup(a);d=d.filter(function(a){return a!==e});if(!b("AdsAssetFeedUtils").isDLOAdgroupFromRecord(a))return b("immutable").OrderedMap();a=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES);if(!a)return b("immutable").OrderedMap();a=b("AdsAssetFeedFieldUtils").getAssetMapForLabels(a,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,d);return a.map(function(a){var d=a.get(b("AdsAPIAdAssetFeedImagesFields").HASH);a=a.get(b("AdsAPIAdAssetFeedImagesFields").URL);if(d){typeof d==="string"||g(0,4533);return b("AdsImageIDUtils").getImageID({hash:d,accountID:c})}typeof a==="string"||g(0,4534);return b("AdsImageIDUtils").getImageID({url:a,accountID:c})})},_doesLabelExistInAssetValue:function(a,c){if(a===void 0)return!1;a instanceof b("immutable").List||g(0,4530);return a.findIndex(function(a){a instanceof b("immutable").Map||g(0,1235);return a.get("name")===c})!==-1},setDeeplinkURLforNonDefaultLinkURLs:function(a,c){return h._setURLForNonDefaultField(a,b("AdsAPIAdAssetFeedLinkURLsFields").DEEPLINK_URL,c)},setDisplayURLforNonDefaultLinkURLs:function(a,c){return h._setURLForNonDefaultField(a,b("AdsAPIAdAssetFeedLinkURLsFields").DISPLAY_URL,c)},_setURLForNonDefaultField:function(a,c,d){__p&&__p();var e;if(!b("AdsAssetFeedUtils").isDLOAdgroupFromSpec(a))return a;e=(e=a.creative)==null?void 0:(e=e.asset_feed_spec)==null?void 0:e.link_urls;if(e==null)return a;var f=b("AdsDLOLanguageUtils").getPrimaryLanguageFromAdgroup(a),h=f!=null?b("AdsDLOLanguageUtils").languageCodeToLabelForAsset(a,f,b("AdsAPIAdAssetCustomizationRuleFields").LINK_URL_LABEL):null;f=e.map(function(a){var e=a.get(b("AdsAPIAdAssetFeedLinkURLsFields").ADLABELS);e instanceof b("immutable").List||g(0,13691);e=e.findIndex(function(a){return a.get("name")===h})!==-1;if(e)return a;e=a.get(b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL);return d!==""&&e!==""&&e!=null?a.set(c,d):a["delete"](c)});return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS,f)},getTextDirection:function(a){if(a.length===0)return null;for(var b=0;b<a.length;b++){var c=a.charCodeAt(b);if(c>=48&&(c>=1470&&c<=1920))return"rtl"}return"ltr"}};e.exports=h}),null);
__d("AdsUEditorAdgroupSetDisplayUrlReducerPlugin",["AdsAPIAdAssetFeedFields","AdsAPIAdAssetFeedLinkURLsFields","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsDLOFieldUtils","AdsInteractivePollLinkUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetDisplayURLDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorCampaignSelectors","AdsUnifiedCreativeAPIDisplayURLField","AdsUnifiedCreativeAPIFields","adsInteractivePollHasFbFeedVideoPollSpec","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsUnifiedCreativeAPIDisplayURLField").invalidPath;a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin),eligibilityInformation:b("AdsUEditorCampaignSelectors").eligibilityInformation},function(a,c,d){__p&&__p();var e=d.eligibilityInformation,f=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();var h=b("nullthrows")(f.get(a.id));if(b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(a)&&!b("AdsAssetFeedUtils").isFormatAutomationAdgroupFromRecord(a)){var i=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,b("nullthrows")(f.get(a.id)),b("AdsUnifiedCreativeAPIFields").displayURL,b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(a,b("AdsAPIAdAssetFeedFields").LINK_URLS),b("AdsAPIAdAssetFeedLinkURLsFields").DISPLAY_URL,c.displayURL);i=b("AdsInteractivePollLinkUtils").setDisplayLink(i,c.displayURL,h);return b("AdsDLOFieldUtils").setDisplayURLforNonDefaultLinkURLs(i,c.displayURL)}i=b("AdsUnifiedCreativeAPIFields").displayURL.getPathOrThrow(a,b("nullthrows")(f.get(d)));d=a;e!=null&&b("adsInteractivePollHasFbFeedVideoPollSpec")(d,e.spec)&&(d=b("AdsInteractivePollLinkUtils").setDisplayLink(d,c.displayURL,h));return d.setIn(i,c.displayURL).deleteIn(g)})},b("AdsUEditorAdgroupSetDisplayURLDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetDynamicAdVoiceReducerPlugin",["AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsCallToActionTypesUtils","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetDynamicAdVoiceDataActionFlux","AdsUEditorCallToActionMutators","AdsUnifiedCreativeAPIFields","adsCallToActionFilterTypesByDynamicAdVoice","adsCallToActionGetDefaultCallToActionType","isTruthy","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();d=b("nullthrows")(e.get(d));var f=d.campaignGroup;d=d.specPlugin;f=f.objective;var g=b("adsCallToActionFilterTypesByDynamicAdVoice")(b("AdsCallToActionTypesUtils").typesForObjective(f),[f],[c.dynamicAdVoice]).map(function(a){return a.name}),h=b("AdsAssetFeedFieldUtils").firstCTAAsset_TALK_WITH_ACE_BEFORE_USE(b("AdsUnifiedCreativeAPIFields").callToActionType.getValue(a,d));a=a;if(b("isTruthy")(h)&&g.indexOf(h)===-1){h=b("adsCallToActionGetDefaultCallToActionType")(f);b("isTruthy")(h)&&g.indexOf(h)!==-1?(a=b("AdsUEditorCallToActionMutators").setCallToActionType(a,h,d),a=b("AdsUEditorCallToActionMutators").resetCallToActionValue(a,d)):a=b("AdsUEditorCallToActionMutators").deleteCallToAction(a,d)}return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.DYNAMIC_AD_VOICE,c.dynamicAdVoice)})},b("AdsUEditorAdgroupSetDynamicAdVoiceDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetDynamicCreativeOptimizationForSmartAppPromotionReducerPlugin",["AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAssetFeedUtils","AdsDCOUtils","AdsMutators","AdsSmartPromotion","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupOfferMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorCampaignGroupSmartPromotionTypeChangeActionFlux","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){__p&&__p();var e=d.plugins,f=c.objective;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){if(c.smartPromotionType!==b("AdsSmartPromotion").SMART_APP_PROMOTION)return!b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a)?a:b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(b("AdsAPIAdgroupRecordUtils").getAssetFeedSpecDestinationObjectType(a),a,c.objective);var g=b("AdsDCOUtils").convertStorySpecAdToDCOAd(a,f,{hostID:c.hostID},!0);d=e.get(d);if(d==null)return g;b("AdsUnifiedCreativeAPIFields").offerID.isSupported(g,d)&&(g=b("AdsUEditorAdgroupOfferMutators").removeOfferIDState(a,d));return g.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.path).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID)})},b("AdsUEditorCampaignGroupSmartPromotionTypeChangeActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetDynamicCreativeOptimizationToggleReducerPlugin",["AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAssetFeedUtils","AdsDCOFunnelUtils","AdsDCOUtils","AdsDynamicAdsFormatUtils","AdsInteractivePollRemoveSpecUtils","AdsMutators","AdsRunStatus","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupDynamicMutators","AdsUEditorAdgroupOfferMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorCampaignSelectors","AdsUEditorCampaignSetDynamicCreativeOptimizationToggleActionFlux","AdsUEditorHostIDs","AdsUnifiedCreativeAPIFields","adsACOIsACOAdgroup","adsACORemoveACOSpec","adsInteractivePollHasFbFeedVideoPollSpec","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsInteractivePollRemoveSpecUtils").removeFbFeedVideoPollSpecFromAdgroupRecord;a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData),eligibilityInformation:b("AdsUEditorCampaignSelectors").eligibilityInformation,plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){__p&&__p();var e=d.parentData,f=d.eligibilityInformation,h=d.plugins,i=c.eligibilityInformation.objective;if(!c.isInDynamicCreativeOptimization)return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){return b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a)?b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(b("AdsAPIAdgroupRecordUtils").getAssetFeedSpecDestinationObjectType(a),a,i):a});c.campaignIDs.forEach(b("AdsDCOFunnelUtils").logConvertSpecToDCO);d=b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();var j=b("nullthrows")(h.get(d));if(c.adgroupIDsToRetain.includes(d)){d=b("nullthrows")(e.get(d));var k=d.campaign;d=d.campaignGroup;a=b("adsACOIsACOAdgroup")(a)?b("adsACORemoveACOSpec")(d,k,a):a;if(b("AdsAPIAdgroupRecordUtils").isTemplateCreative(a)){d=b("AdsDynamicAdsFormatUtils").getIsDynamicAdSingleMediaFormat(a);k=b("AdsDynamicAdsFormatUtils").getIsDynamicAdCarouselMediaFormat(a);(d||k)&&(a=b("AdsUEditorAdgroupDynamicMutators").transformAdgroupFromTemplateToSingleMediaLinkData(a,i))}a=b("AdsDCOUtils").convertStorySpecAdToDCOAd(a,i,{hostID:c.hostID});b("AdsUnifiedCreativeAPIFields").offerID.isSupported(a,j)&&(a=b("AdsUEditorAdgroupOfferMutators").removeOfferIDState(a,j));a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.path).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID);b("adsInteractivePollHasFbFeedVideoPollSpec")(a,f.spec)&&(a=g(a,j));return a}else return a.setIn(b("AdsAPIAdgroupPaths").STATUS,b("AdsRunStatus").ARCHIVED)});return c.hostID===b("AdsUEditorHostIDs").CREATION?d.filter(function(a,b){return c.adgroupIDsToRetain.includes(b)}):d},b("AdsUEditorCampaignSetDynamicCreativeOptimizationToggleActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetEnableDirectInstallReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetEnableDirectInstallDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c,d){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ENABLE_DIRECT_INSTALL,c.enableDirectInstall)})},b("AdsUEditorAdgroupSetEnableDirectInstallDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupEventMutators",["AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetFeedTitlesFields","AdsAPIAdgroupPaths","AdsAssetFeedUtils","AdsDofMutationUtils","AdsLinkTypeUtils","AdsRemoveCTAEventFieldsForPlacementCustomizedAds","AdsSetCTAEventFieldsForPlacementCustomizedAds","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsRemoveCTAEventFieldsForPlacementCustomizedAds").removeCTAEventFieldsForPlacementCustomizedAds,h=b("AdsSetCTAEventFieldsForPlacementCustomizedAds").setCTAEventFieldsForPlacementCustomizedAds,i=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.VALUE.EVENT_ID,j=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.VALUE.LINK;function a(a,c,d,e){__p&&__p();var f=c.cover,g=c.ticket_uri,k=c.description,l=c.id,m=c.name;c=c.has_ticket_onsale_for_viewer;var n=c?e:g;if(b("AdsAssetFeedUtils").hasPlacementCustomizationFromSpec(a))return h(a,d,n||"",l,m,k);c=a;var o=b("AdsUnifiedCreativeAPIFields").eventID.getPathOrThrow(c,d),p=b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(c,d);a=!!((e=c.creative)==null?void 0:(g=e.object_story_spec)==null?void 0:g.link_data);if(a){e=b("AdsUnifiedCreativeAPIFields").imageURL.getValue(c,d);g=b("AdsUnifiedCreativeAPIFields").imageHash.getValue(c,d);if(g==null&&e==null){a=b("AdsUnifiedCreativeAPIFields").imageURL.getPathOrThrow(c,d);c=c.setIn(a,f&&f.source)}c=c.withMutations(function(a){return a.setIn(i,l).setIn(j,n)})}return c.withMutations(function(a){__p&&__p();a=a;if(b("AdsAssetFeedUtils").isDofAdgroupFromSpec(a)){var c;a=b("AdsDofMutationUtils").setAssetFieldOrValueInAdgroup(a,d,(c=b("AdsUnifiedCreativeAPIFields")).message,b("AdsAPIAdAssetFeedBodiesFields").TEXT,k,[c.headline,c.linkDescription]);a=b("AdsDofMutationUtils").setAssetFieldOrValueInAdgroup(a,d,c.headline,b("AdsAPIAdAssetFeedTitlesFields").TEXT,m)}else{c=b("AdsUnifiedCreativeAPIFields").message.getPathOrThrow(a,d);var e=b("AdsUnifiedCreativeAPIFields").headline.getPathOrThrow(a,d);a=a.setIn(c,k).setIn(e,m)}return a.setIn(o,l).setIn(p,n)})}function c(a,c,d,e){__p&&__p();var f;if(b("AdsAssetFeedUtils").hasPlacementCustomizationFromSpec(a))return h(a,e,d,b("AdsLinkTypeUtils").getEventIDFromLink(d));a=a;f=!!((f=a.creative)==null?void 0:(f=f.object_story_spec)==null?void 0:f.link_data);var g=b("AdsUnifiedCreativeAPIFields").eventID.getPathOrThrow(a,e),k=b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,e);if(f){a=a.deleteIn(i).deleteIn(j);f=b("AdsUnifiedCreativeAPIFields").imageURL.getValue(a,e);var l=b("AdsUnifiedCreativeAPIFields").imageHash.getValue(a,e);if(c!=null&&l==null&&f==null){l=c.cover;f=b("AdsUnifiedCreativeAPIFields").imageURL.getPathOrThrow(a,e);a=a.setIn(f,l&&l.source)}}return a.setIn(g,b("AdsLinkTypeUtils").getEventIDFromLink(d)).setIn(k,d)}function d(a,c){__p&&__p();var d;if(b("AdsAssetFeedUtils").hasPlacementCustomizationFromSpec(a))return g(a,c);a=a;d=!!((d=a.creative)==null?void 0:(d=d.object_story_spec)==null?void 0:d.link_data);d&&(a=a.withMutations(function(a){return a.deleteIn(i).deleteIn(j)}));return a.withMutations(function(a){a.deleteIn(b("AdsUnifiedCreativeAPIFields").eventID.getPathOrThrow(a,c)).deleteIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,c));b("AdsUnifiedCreativeAPIFields").headline.isSupported(a,c)&&a.deleteIn(b("AdsUnifiedCreativeAPIFields").headline.getPathOrThrow(a,c));return a})}e.exports={setCreativeFieldsFromEvent:a,setEventFields:c,removeEventFields:d}}),null);
__d("AdsUEditorAdgroupSetEventReducerPlugin",["AdsAPIObjectives","AdsLinkTypeUtils","AdsLoadStateUtils_LEGACY","AdsMutators","AdsPromotableEventStore","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupEventMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetEventDataActionFlux","adsUEditorAccountSelector","isFalsey","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsMutators").mutateEach,h=b("AdsUEditorAdgroupEventMutators").removeEventFields,i=b("AdsUEditorAdgroupEventMutators").setCreativeFieldsFromEvent,j=b("AdsUEditorAdgroupEventMutators").setEventFields;a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData),getEventData:b("AdsPromotableEventStore").getForSelector},function(a,c,d){__p&&__p();var e=c.adgroupIDs,f=c.eventURL,k=d.account,l=d.parentData,m=d.getEventData;return g(a,e,function(a){__p&&__p();var c=b("nullthrows")(l.get(a.id)),d=c.campaignGroup;c=c.specPlugin;d=d.objective;if(b("isFalsey")(f))return h(a,c);var e,g=b("AdsLinkTypeUtils").getEventIDFromLink(f);if(g){g=m(k.account_id,g);b("AdsLoadStateUtils_LEGACY").isLoaded(g)&&(e=g)}switch(d){case b("AdsAPIObjectives").LINK_CLICKS:case b("AdsAPIObjectives").CONVERSIONS:if(e)return i(a,e,c,f)}return j(a,e?e:null,f,c)})},b("AdsUEditorAdgroupSetEventDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetHasCanvasLinkReducerPlugin",["AdsAdgroupTypeUtils","AdsAdgroupWebsiteLinkPostTypeMutators","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAPICampaignGroupRecordUtils","AdsAppUtils","AdsAssetFeedUtils","AdsCallToActionTypesCond","AdsCanvasConstants","AdsChildAttachmentsUtils","AdsDynamicAdCustomizationMutators","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupChildAttachmentsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetHasCanvasLinkDataActionFlux","AdsUEditorCallToActionMutators","AdsUEditorCampaignAdObjectsUtils","AdsUnifiedCreativeAPIFields","ApiAdObjectTypes","gkx","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="";function h(a,c,d){__p&&__p();var e=b("AdsUnifiedCreativeAPIFields").multiShareEndCard.getPath(a,c);if(d)a=a.setIn(b("AdsUnifiedCreativeAPIFields").callToActionType.getPathOrThrow(a,c),b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name),a=b("AdsUEditorAdgroupChildAttachmentsMutators").mutateChildAttachments(c,a,function(a){return a.setIn(["call_to_action","type"],b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name).deleteIn(["link"]).deleteIn(["call_to_action","value","lead_gen_form_id"])}),e&&(a=a.setIn(e,!0));else{d=b("nullthrows")(b("AdsUnifiedCreativeAPIFields").callToActionValue.getPath(a,c)).slice(0,-1);a=a.deleteIn(d);a=b("AdsUEditorAdgroupChildAttachmentsMutators").mutateChildAttachments(c,a,function(a){return a.deleteIn(["call_to_action"]).setIn(["link"],b("AdsCanvasConstants").EMPTY_CANVAS_LINK)});e&&a.getIn(e)&&(a=a.removeIn(e))}return a}function i(a,c){return b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(b("AdsAdgroupTypeUtils").isVideoAd(a)?b("ApiAdObjectTypes").VIDEO:b("AdsAPIAdgroupRecordUtils").getObjectType(a),a,c)}function j(a,c,d){return!d?b("AdsAdgroupWebsiteLinkPostTypeMutators").convertToHasWebsiteLinkFormat(a,c):b("AdsAdgroupWebsiteLinkPostTypeMutators").convertToHasNoWebsiteLinkFormat(a,c)}function k(a,c,d){__p&&__p();var e=b("nullthrows")(b("AdsUnifiedCreativeAPIFields").callToActionType.getPath(a,c));if(!d)a=b("AdsDynamicAdCustomizationMutators").removeAllCanvasLink(a),a=a.setIn(e,b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name).setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,c),b("AdsCanvasConstants").EMPTY_CANVAS_LINK);else{d=c.getDefaultCallToActionType(a);if(d===b("AdsCallToActionTypesCond").TYPES.NO_BUTTON.name){var f=b("nullthrows")(e.slice(0,-1));a=a.deleteIn(f)}else a=a.setIn(e,d),a=a.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,c),g)}return a}function l(a,c,d){__p&&__p();var e=b("nullthrows")(b("AdsUnifiedCreativeAPIFields").callToActionType.getPath(a,c));if(!d)if(b("gkx")("824285"))a=b("AdsDynamicAdCustomizationMutators").removeAllCanvasLink(a),a=a.setIn(e,b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name).setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,c),b("AdsCanvasConstants").EMPTY_CANVAS_LINK);else{d=b("nullthrows")(e.slice(0,-1));a=a.deleteIn(d).setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,c),b("AdsCanvasConstants").EMPTY_CANVAS_LINK)}else{d=c.getDefaultCallToActionType(a);d!==b("AdsCallToActionTypesCond").TYPES.NO_BUTTON.name&&(a=a.setIn(e,d).setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,c),g))}return a}function m(a,c,d){var e=c.campaign,f=c.promotedObjectType;c=c.specPlugin;e=(e=e.promoted_object)==null?void 0:e.object_store_url;d=d?e:b("AdsCanvasConstants").EMPTY_CANVAS_LINK;a=b("AdsUEditorCallToActionMutators").setCallToActionLink({link:d,adgroup:a,promotedObjectType:f,specPlugin:c});e=b("nullthrows")(b("AdsUnifiedCreativeAPIFields").callToActionType.getPath(a,c));f=c.getDefaultCallToActionType(a);return a.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,c),d).setIn(e,f)}a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();if(c.useMultiLanguageDialog)return a;d=b("nullthrows")(e.get(d));var f=d.campaign,g=d.campaignGroup;d=d.specPlugin;var n=g.objective,o=b("AdsAPICampaignGroupRecordUtils").getPromotedObjectPageID(g);g=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:f,campaignGroup:g});b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a)&&(a=i(a,n));(d.canSinglePhotoHaveCTA()||!b("AdsUnifiedCreativeAPIFields").linkURL.isSupported(a,d))&&(a=j(a,d,c.isChecked));var p=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPath(a,d);p!=null&&(a=a.deleteIn(p.concat("lead_gen_form_id")),a=a.deleteIn(p.concat("app_destination")),a=b("AdsUEditorCallToActionMutators").deleteCallToActionValueWhatsAppNumber(a,d));a=a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PLAYABLE_ASSET_ID);p=b("AdsAppUtils").isMobileAppObjective(n,g);b("AdsChildAttachmentsUtils").isCarouselAd(a)?(a=l(a,d,c.isChecked),a=h(a,d,c.isChecked)):b("AdsUnifiedCreativeAPIFields").callToActionType.isSupported(a,d)&&(p?a=m(a,{campaign:f,campaignGroupPromotedPageID:o,objective:n,promotedObjectType:g,specPlugin:d},c.isChecked):b("AdsAdgroupTypeUtils").isVideoAd(a)?a=k(a,d,c.isChecked):a=l(a,d,c.isChecked));return a})},b("AdsUEditorAdgroupSetHasCanvasLinkDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetHasWebsiteLinkReducerPlugin",["AdsAdgroupTypeUtils","AdsAdgroupWebsiteLinkPostTypeMutators","AdsAPIAdgroupRecordUtils","AdsAssetFeedUtils","AdsInteractivePollLinkUtils","AdsMutators","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetHasWebsiteLinkDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorCampaignSelectors","ApiAdObjectTypes","adsInteractivePollHasFbFeedVideoPollSpec","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin),eligibilityInformation:b("AdsUEditorCampaignSelectors").eligibilityInformation},function(a,c,d){__p&&__p();var e=d.eligibilityInformation,f=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){d=b("nullthrows")(f.get(d));if(c.hasWebsiteLink)return b("AdsAdgroupWebsiteLinkPostTypeMutators").convertToHasWebsiteLinkFormat(a,d);else{var g=a;(b("AdsAssetFeedUtils").isPACAdgroupFromSpec(a)||b("AdsAssetFeedUtils").hasLanguageCustomizationFromSpec(a))&&!c.canUsePacOptionalLinks&&(g=b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(b("AdsAdgroupTypeUtils").isVideoAd(a)?b("ApiAdObjectTypes").VIDEO:b("AdsAPIAdgroupRecordUtils").getObjectType(a),a,b("nullthrows")(d.pivots.objective)));b("adsInteractivePollHasFbFeedVideoPollSpec")(g,e.spec)&&(g=b("AdsInteractivePollLinkUtils").removeDisplayLink(g,d));return b("AdsAdgroupWebsiteLinkPostTypeMutators").convertToHasNoWebsiteLinkFormat(g,d)}})},b("AdsUEditorAdgroupSetHasWebsiteLinkDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetHeadlineReducerPlugin",["AdsAPIAdAssetFeedFields","AdsAPIAdAssetFeedTitlesFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetHeadlineDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){if(b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a)&&!b("AdsAssetFeedUtils").isFormatAutomationAdgroupFromRecord(a)){var d=a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AUTOTRANSLATE);return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(d,b("nullthrows")(e.get(d.id)),b("AdsUnifiedCreativeAPIFields").headline,b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(d,b("AdsAPIAdAssetFeedFields").TITLES),b("AdsAPIAdAssetFeedTitlesFields").TEXT,c.headline)}else return a.setIn(b("AdsUnifiedCreativeAPIFields").headline.getPathOrThrow(a,b("nullthrows")(e.get(a.id))),c.headline)})},b("AdsUEditorAdgroupSetHeadlineDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetImageAndCropsReducerPlugin",["AdsAdgroupTypeUtils","AdsAPIAdgroupPaths","AdsDCOImageCropDoFUtils","AdsMediaFormatMutators","AdsMutators","AdsObjectTypeUtils","AdsPageStore","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupImageMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetImageAndCropsDataActionFlux","AdsUnifiedCreativeAPIFields","adsUEditorAccountSelector","gkx","isTruthy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),getPage:b("AdsPageStore").getSelector,parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.account,f=d.getPage,g=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();d=g.get(d);var h=d.campaignGroup,i=d.specPlugin;d=b("AdsUnifiedCreativeAPIFields").pageID.getValue(a,i);var j=b("isTruthy")(d)?f(d):null;return b("AdsMutators").chain(function(a){var c=!b("AdsAdgroupTypeUtils").isVideoAd(a)&&!b("AdsObjectTypeUtils").isTemplateCreative(a);return!c&&b("gkx")("852501")?b("AdsMediaFormatMutators").setMediaFormat("IMAGE",a,i,h.objective):a},function(a){return b("AdsUEditorAdgroupImageMutators").setImage(e,c.imageHash,c.imageURL,c.platform,c.thumbnailURL,c.thumbnailHeight,c.thumbnailWidth,a,i,j,c.imageCrops)},function(a){var c=b("AdsDCOImageCropDoFUtils").hasDoFSpecWithFAMToggleExpType(a);return c?a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.DEGREES_OF_FREEDOM_SPEC.path):a})(a)})},b("AdsUEditorAdgroupSetImageAndCropsDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetImageCropsReducerPlugin",["AdsMutators","AdsUEditorAdgroupImageMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetImageCropsDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){d=b("nullthrows")(e.get(d));return b("AdsUEditorAdgroupImageMutators").setImageCrops(c.imageCrops,c.platform,a,d)})},b("AdsUEditorAdgroupSetImageCropsDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetImageLayerSpecsReducerPlugin",["AdsAPIAdgroupPaths","AdsDynamicOverlayUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetImageLayerSpecsActionFlux"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.IMAGE_OVERLAY_SPEC.path,h=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.IMAGE_LAYER_SPECS;a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){var d=c.layerRecordsMap,e=b("AdsDynamicOverlayUtils").getFrameOverlayLayer(d);(e==null?void 0:e.frame_image_hash)==null&&(d=d["delete"]("frame_overlay"));return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){a=a.deleteIn(g);return b("AdsDynamicOverlayUtils").overlayHasNoCustomLayer(d)?a.deleteIn(h):a.setIn(h,d.toList())})},b("AdsUEditorAdgroupSetImageLayerSpecsActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetInstagramAccountReducerPlugin",["AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAssetFeedFieldUtils","AdsAssetFeedUtils","AdsMutators","AdsObjectStorySpecUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetInstagramAccountDataActionFlux","AdsUnifiedCreativeAPIFields","AdsWebsiteAdUtils","isFalsey","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();a=a;d=b("nullthrows")(e.get(d));var f=d.campaignGroup;d=d.specPlugin;if(!b("AdsUnifiedCreativeAPIFields").instagramActorID.isSupported(a,d))return a;var g=b("AdsObjectStorySpecUtils").isUsingObjectStorySpec(a),h=b("AdsUnifiedCreativeAPIFields").instagramActorID.getValue(a,d);if(g&&b("AdsWebsiteAdUtils").isWebsiteObjective(f.objective)&&b("isFalsey")(h)){f=b("AdsUnifiedCreativeAPIFields").callToActionType.getPath(a,d);h=b("AdsAssetFeedFieldUtils").firstCTAAsset_TALK_WITH_ACE_BEFORE_USE(b("AdsUnifiedCreativeAPIFields").callToActionType.getValue(a,d));var i=b("AdsUnifiedCreativeAPIFields").childAttachments.getValue(a,d),j=b("AdsAssetFeedUtils").isDCAssetCustomizationAdgroupFromSpec(a);f&&b("isFalsey")(h)&&!i&&!j&&(a=b("AdsMutators").setIn(f,"LEARN_MORE",a))}h=b("AdsAssetFeedUtils").isPACAdgroupFromSpec(a)&&b("AdsAPIAdgroupRecordUtils").isExistingPostAd(a);(g||h)&&(a=b("AdsMutators").deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_ACTOR_ID,a));return h?a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_ACTOR_ID,c.instagramAccountID):b("AdsMutators").setIn(b("AdsUnifiedCreativeAPIFields").instagramActorID.getPathOrThrow(a,d),c.instagramAccountID,a)})},b("AdsUEditorAdgroupSetInstagramAccountDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetInstagramPostReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetInstagramPostDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.withMutations(function(a){var d;a.deleteIn((d=b("AdsAPIAdgroupPaths")).CREATIVE.OBJECT_STORY_SPEC.path).deleteIn(d.CREATIVE.OBJECT_STORY_ID).deleteIn(d.CREATIVE.PRODUCT_SET_ID).deleteIn(d.CREATIVE.SOURCE_INSTAGRAM_MEDIA_ID).setIn(d.CREATIVE.OBJECT_ID,c.pageID).setIn(d.CREATIVE.INSTAGRAM_STORY_ID,c.postID);c.objectType&&a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE,c.objectType)})})},b("AdsUEditorAdgroupSetInstagramPostDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetInstagramPostV2ReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetInstagramPostV2DataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.withMutations(function(a){var d;a.deleteIn((d=b("AdsAPIAdgroupPaths")).CREATIVE.OBJECT_STORY_SPEC.path).deleteIn(d.CREATIVE.OBJECT_STORY_ID).deleteIn(d.CREATIVE.PRODUCT_SET_ID).deleteIn(d.CREATIVE.INSTAGRAM_STORY_ID).setIn(d.CREATIVE.OBJECT_ID,c.pageID).setIn(d.CREATIVE.SOURCE_INSTAGRAM_MEDIA_ID,c.postID);c.objectType&&a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE,c.objectType)})})},b("AdsUEditorAdgroupSetInstagramPostV2DataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetInstagramPromotedObjectTypeForMessagesReducerPlugin",["AdsMutators","AdsPromotedObjectTypes","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCampaignSetInstagramPromotedObjectTypeDataActionFlux","AdsUEditorInstagramMutators","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){c=b("nullthrows")(e.get(c));var d=c.campaign,f=c.campaignGroup;c=c.specPlugin;d=(d=d.promoted_object)==null?void 0:d.page_id;var g=b("AdsUnifiedCreativeAPIFields").multiShareEndCard.isSupported(a,c);return b("AdsUEditorInstagramMutators").setFieldsForSelectingPromotedObjectType({adgroup:a,campaignPromotedPageID:d,objective:f.objective,promotedObjectType:b("AdsPromotedObjectTypes").INSTAGRAM,specPlugin:c,supportPageEndCard:g})})},b("AdsUEditorCampaignSetInstagramPromotedObjectTypeDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetInstantCheckoutProductSetIDReducerPlugin",["AdsAPIAdgroupPaths","AdsInstantCheckoutUtils","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCampaignSetInstantCheckoutCommerceAccountIDActionFlux","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.parentData;return c.productSetID==null?a:b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){d=b("nullthrows")(e.get(d));d=d.campaignGroup;return b("AdsInstantCheckoutUtils").shouldUpdateProductSetIDInAdgroup(d.objective)?a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID,c.productSetID):a})},b("AdsUEditorCampaignSetInstantCheckoutCommerceAccountIDActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetLandingViewReducerPlugin",["AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetLandingViewDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){return a.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,b("nullthrows")(e.get(d))),c.landingViewURL)})},b("AdsUEditorAdgroupSetLandingViewDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetLandingViewTypeReducerPlugin",["invariant","AdsAPICampaignGroupRecordUtils","AdsLandingViewTypeUtils","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetLandingViewTypeDataActionFlux","AdsUEditorCampaignAdObjectsUtils","AdsUEditorWebsiteMutators","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();d=b("nullthrows")(e.get(d));var f=d.campaign,h=d.campaignGroup;d=d.specPlugin;var i=b("AdsAPICampaignGroupRecordUtils").getPromotedObjectPageID(h);f=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:f,campaignGroup:h});var j=b("AdsUnifiedCreativeAPIFields").pageID.getValue(a,d);j=c.pages.get(b("nullthrows")(j));j||g(0,3092);j=b("AdsLandingViewTypeUtils").linkFromType(c.landingViewType,j);return b("AdsUEditorWebsiteMutators").setWebsiteURLInChildren({adgroup:a,campaignGroupPromotedPageID:i,objective:h.objective,promotedObjectType:f,specPlugin:d,websiteURL:j})})},b("AdsUEditorAdgroupSetLandingViewTypeDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetLeadGenFormIDReducerPlugin",["AdsAPICampaignGroupRecordUtils","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupChildAttachmentsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetLeadGenFormIDDataActionFlux","AdsUEditorCampaignAdObjectsUtils","AdsUEditorWebsiteMutators","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="https://fb.me/";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();d=b("nullthrows")(e.get(d));var f=d.campaign,h=d.campaignGroup,i=d.specPlugin,j=b("AdsAPICampaignGroupRecordUtils").getPromotedObjectPageID(h),k=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:f,campaignGroup:h});return b("AdsMutators").chain(function(a){var d=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPath(a,i);return!d?a:a.setIn(d.concat("lead_gen_form_id"),c.formID)},function(a){return b("AdsUEditorAdgroupChildAttachmentsMutators").mutateChildAttachments(i,a,function(a){return a.setIn(["call_to_action","value","lead_gen_form_id"],c.formID)})},function(a){return b("AdsUEditorAdgroupChildAttachmentsMutators").mutateChildAttachments(i,a,function(a){return a.setIn(["call_to_action","value","link"],g)})},function(a){return b("AdsUEditorAdgroupChildAttachmentsMutators").mutateChildAttachments(i,a,function(a){return a.setIn(["link"],g)})},function(a){return b("AdsUEditorWebsiteMutators").setWebsiteURL({adgroup:a,campaignGroupPromotedPageID:j,objective:h.objective,promotedObjectType:k,specPlugin:i,websiteURL:g})})(a)})},b("AdsUEditorAdgroupSetLeadGenFormIDDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetLinkDescriptionAtIndexReducerPlugin",["AdsAPIAdAssetFeedDescriptionsFields","AdsAssetFeedMutationUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetLinkDescriptionAtIndexDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,b("nullthrows")(e.get(a.id)),b("AdsUnifiedCreativeAPIFields").linkDescription,c.assetIndex,b("AdsAPIAdAssetFeedDescriptionsFields").TEXT,c.linkDescription,!0)})},b("AdsUEditorAdgroupSetLinkDescriptionAtIndexDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetLinkDescriptionReducerPlugin",["AdsAPIAdAssetFeedDescriptionsFields","AdsAPIAdAssetFeedFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetLinkDescriptionDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsMutators").mutateEach;a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return g(a,c.adgroupIDs,function(a,d){if(b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a)){var f=a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AUTOTRANSLATE);return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(f,b("nullthrows")(e.get(d)),b("AdsUnifiedCreativeAPIFields").linkDescription,b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(f,b("AdsAPIAdAssetFeedFields").DESCRIPTIONS),b("AdsAPIAdAssetFeedDescriptionsFields").TEXT,c.linkDescription)}else return a.setIn(b("AdsUnifiedCreativeAPIFields").linkDescription.getPathOrThrow(a,b("nullthrows")(e.get(d))),c.linkDescription)})},b("AdsUEditorAdgroupSetLinkDescriptionDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetLinkTypeReducerPlugin",["AdsAdgroupTypeUtils","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAssetFeedUtils","AdsCallToActionTypesCond","AdsDCOImageCropDoFUtils","AdsMutators","AdsRemoveCTAEventFieldsForPlacementCustomizedAds","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetLinkTypeDataActionFlux","AdsUnifiedCreativeAPIFields","ApiAdObjectTypes","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsRemoveCTAEventFieldsForPlacementCustomizedAds").removeCTAEventFieldsForPlacementCustomizedAds,h=b("AdsCallToActionTypesCond").TYPES.BUY_TICKETS.name,i=b("AdsCallToActionTypesCond").TYPES.GET_SHOWTIMES.name,j=b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name,k=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.VALUE.EVENT_ID,l=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.MOVIE_ID,m=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.VALUE.LINK,n="";function o(a,c){return a.setIn(b("AdsUnifiedCreativeAPIFields").callToActionType.getPathOrThrow(a,c),h)}function p(a,c){a=a.setIn(b("AdsUnifiedCreativeAPIFields").callToActionType.getPathOrThrow(a,c),i);return a.setIn(l,n)}function q(a,c){return a.setIn(b("AdsUnifiedCreativeAPIFields").callToActionType.getPathOrThrow(a,c),j)}function r(a,c){if(b("AdsAssetFeedUtils").hasPlacementCustomizationFromSpec(a))return a;var d=b("AdsUnifiedCreativeAPIFields").linkURL.getPath(a,c);d!=null&&(a=a.withMutations(function(a){return a.deleteIn(d)}));return a.withMutations(function(a){return a.deleteIn(l)})}function s(a,c){var d;d=!!((d=a.creative)==null?void 0:(d=d.object_story_spec)==null?void 0:d.link_data);d&&(a=a.withMutations(function(a){return a.deleteIn(k).deleteIn(m)}));var e=b("AdsUnifiedCreativeAPIFields").eventID.getPath(a,c),f=b("AdsUnifiedCreativeAPIFields").linkURL.getPath(a,c),g=b("AdsUnifiedCreativeAPIFields").headline.getPath(a,c);return e!=null&&f!=null&&g!=null?a.withMutations(function(a){return a.deleteIn(e).deleteIn(f).deleteIn(g)}):a}function t(a,c){var d=b("AdsUnifiedCreativeAPIFields").linkURL.getPath(a,c),e=b("AdsUnifiedCreativeAPIFields").callToAction.getPath(a,c),f=b("AdsUnifiedCreativeAPIFields").headline.getPath(a,c);return d!=null&&e!=null&&f!=null?a.withMutations(function(a){return a.deleteIn(d).deleteIn(e).deleteIn(f)}):a}function u(a,c){a=a;a=g(a,c);a=a.deleteIn(b("AdsUnifiedCreativeAPIFields").callToAction.getPathOrThrow(a,c));return a.setIn(b("AdsUnifiedCreativeAPIFields").callToActionType.getPathOrThrow(a,c),b("immutable").List([j]))}function v(a,c){var d;a=a;a=a.setIn(b("AdsUnifiedCreativeAPIFields").callToActionType.getPathOrThrow(a,c),b("immutable").List([h]));a=a.setIn(b("AdsUnifiedCreativeAPIFields").callToAction.getPathOrThrow(a,c),b("immutable").fromJS([(d={},d.type=h,d)]));return g(a,c)}a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();var d=b("nullthrows")(e.get(a.id)),f=d.campaignGroup;d=d.specPlugin;f=f.objective;var g=b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(a),h=b("AdsAssetFeedUtils").hasPlacementCustomizationFromSpec(a);if(h)switch(c.linkType){case"external":return u(a,d);case"event":return v(a,d)}g&&c.linkType!=="external"&&(a=b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(b("AdsAdgroupTypeUtils").isVideoAd(a)?b("ApiAdObjectTypes").VIDEO:b("AdsAPIAdgroupRecordUtils").getObjectType(a),a,f));h=b("AdsDCOImageCropDoFUtils").isAdgroupOptInImageCropDof(a);h&&c.linkType==="event"&&(a=b("AdsDCOImageCropDoFUtils").setAdgroupOptOutImageCropDoF(a,d));switch(c.linkType){case"event":a=r(a,d);a=t(a,d);return o(a,d);case"movie":a=s(a,d);a=t(a,d);return p(a,d);case"external":a=r(a,d);a=s(a,d);return q(a,d)}return a})},b("AdsUEditorAdgroupSetLinkTypeDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetLinkURLAtIndexReducerPlugin",["AdsAPIAdAssetFeedLinkURLsFields","AdsAssetFeedMutationUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetLinkURLAtIndexDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,b("nullthrows")(e.get(a.id)),b("AdsUnifiedCreativeAPIFields").linkURL,c.assetIndex,b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL,c.linkURL)})},b("AdsUEditorAdgroupSetLinkURLAtIndexDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetLoadedProductSetIDReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetLoadedProductSetIDActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID,c.productSetID)})},b("AdsUEditorAdgroupSetLoadedProductSetIDActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetMarketplaceAppDestinationReducerPlugin",["AdCampaignDestination","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCallToActionMutators","AdsUEditorCampaignSetFacebookDestinationTypeActionFlux","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,e){e=b("nullthrows")(d.parentData.get(e));e=e.specPlugin;if(c.adCampaignDestinationType===b("AdCampaignDestination").FACEBOOK)return b("AdsUEditorCallToActionMutators").setCallToActionValueAppDestination(a,e,"MARKETPLACE");else return b("AdsUEditorCallToActionMutators").deleteCallToActionValueAppDestination(a,e)})},b("AdsUEditorCampaignSetFacebookDestinationTypeActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetMediaFormatReducerPlugin",["AdsMediaFormatMutators","AdsMutators","AdsStoreUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupCachedUIStore","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetMediaFormatDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData),cachedStoreState:b("AdsStoreUtils").toSelector(b("AdsUEditorAdgroupCachedUIStore"))},function(a,c,d){var e=d.parentData,f=d.cachedStoreState;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){d=e.get(d);var g=d==null?void 0:d.specPlugin;d=d==null?void 0:(d=d.campaignGroup)==null?void 0:d.objective;return b("AdsMediaFormatMutators").setMediaFormat(c.mediaFormat,a,g,d,f)})},b("AdsUEditorAdgroupSetMediaFormatDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetMessageReducerPlugin",["AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetFeedFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsMessengerLinkUtils","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetMessageDataActionFlux","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();d=b("nullthrows")(e.get(d));var f=d.campaignGroup;d=d.specPlugin;f=f.objective;if(b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a)&&!b("AdsAssetFeedUtils").isFormatAutomationAdgroupFromRecord(a)){var g=a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AUTOTRANSLATE);return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(g,d,b("AdsUnifiedCreativeAPIFields").message,b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(g,b("AdsAPIAdAssetFeedFields").BODIES),b("AdsAPIAdAssetFeedBodiesFields").TEXT,c.message)}g=a.setIn(b("AdsUnifiedCreativeAPIFields").message.getPathOrThrow(a,d),c.message);return b("AdsMessengerLinkUtils").addMessageCTAForMessagingLinkInText(g,c.message,d,f)})},b("AdsUEditorAdgroupSetMessageDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetMobileAppTrackingReducerPlugin",["AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetMobileAppTrackingDataActionFlux","AdsUEditorAdgroupTrackingSpecMutators"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){var d=c.adgroupIDs,e=c.appID;return b("AdsMutators").mutateEach(a,d,function(a){return b("AdsUEditorAdgroupTrackingSpecMutators").setMobileAppTracking(e,a)})},b("AdsUEditorAdgroupSetMobileAppTrackingDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetMobileUrlDeepLinkReducerPlugin",["AdsCreativeFieldsTemplateUrlSpecUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetMobileUrlDeepLinkActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){if(c.mobileUrlDeepLink==="")return a.deleteIn(b("AdsCreativeFieldsTemplateUrlSpecUtils").getUrlPathForPlatform(c.appPlatform));else return a.setIn(b("AdsCreativeFieldsTemplateUrlSpecUtils").getUrlPathForPlatform(c.appPlatform),c.mobileUrlDeepLink)})},b("AdsUEditorAdgroupSetMobileUrlDeepLinkActionFlux").actionType)};e.exports=a}),null);
__d("AdsMovieAdsUtils",["AdsAPIBillingEvents","AdsAPIObjectives","isTruthy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={MOVIE_ID_PLACEHOLDER:"",canSupportMovieOption:function(a){__p&&__p();return a.every(function(a){__p&&__p();var c,d,e=a.campaignGroup.objective;c=(c=a.campaign.promoted_object)==null?void 0:c.offer_id;d=(d=a.adgroup.creative)==null?void 0:d.object_type;var f=a.campaign.billing_event;a=(a=a.adgroup.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.video_data)==null?void 0:(a=a.call_to_action)==null?void 0:(a=a.value)==null?void 0:a.movie_id;if(b("isTruthy")(a))return!0;if(d!=="VIDEO")return!1;return b("isTruthy")(c)?!1:e===b("AdsAPIObjectives").VIDEO_VIEWS||e===b("AdsAPIObjectives").LINK_CLICKS&&f!==b("AdsAPIBillingEvents").LINK_CLICKS||e===b("AdsAPIObjectives").CONVERSIONS&&f!==b("AdsAPIBillingEvents").LINK_CLICKS})},generateMovieURL:function(a){return"www.facebook.com/movies/"+a.toString()+"/?ref_surface=ad&ref_mechanism=surface"},isMovieAds:function(a){a=(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.video_data)==null?void 0:(a=a.call_to_action)==null?void 0:(a=a.value)==null?void 0:a.movie_id;return a!=null}};e.exports=a}),null);
__d("AdsUEditorAdgroupSetMovieReducerPlugin",["AdsAPIAdgroupPaths","AdsMovieAdsUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetMovieDataActionFlux"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){a=a;a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.MOVIE_ID,c.movieID);var d=c.isValid?b("AdsMovieAdsUtils").generateMovieURL(c.movieID):null;a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.LINK,d);a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.LINK_FORMAT,"VIDEO_LPP");return a})},b("AdsUEditorAdgroupSetMovieDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetMultiProductOptimizedReducerPlugin",["AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetMultiProductOptimizedActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.setIn(b("AdsUnifiedCreativeAPIFields").multiShareOptimized.getPathOrThrow(a,b("nullthrows")(e.get(a.id))),c.multiShareOptimized)})},b("AdsUEditorAdgroupSetMultiProductOptimizedActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetNameReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetNameDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.setIn(b("AdsAPIAdgroupPaths").NAME,c.name)})},b("AdsUEditorAdgroupSetNameDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetNativeCheckoutReducerPlugin",["AdsAPIAdgroupPaths","AdsInstantCheckoutUtils","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupCreativePluginAdObjectsUtils","AdsUEditorAdgroupDynamicMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetNativeCheckoutActionFlux","AdsUEditorCampaignSetInstantCheckoutTypeActionFlux","ApiObjectStorySpecInstantCheckoutAd","adsACORemoveACOSpec","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();var f;d=b("nullthrows")(e.get(d));var g=d.campaign;d=d.campaignGroup;var h=d.objective,i=c.instantCheckoutAdType===b("ApiObjectStorySpecInstantCheckoutAd").DYNAMIC_PRODUCT_AD,j=a;i&&((f=j)==null?void 0:(f=f.creative)==null?void 0:f.asset_feed_spec)!=null&&(j=b("adsACORemoveACOSpec")(d,g,a));if(b("AdsInstantCheckoutUtils").shouldTransformCreativeToTemplateDataForObjective(h)&&i&&j.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.path)){f=b("AdsUEditorAdgroupCreativePluginAdObjectsUtils").getAdgroupCreativePlugin({campaignGroup:d,campaign:g});f.usesTemplateDataForStaticCarousel()?j=b("AdsUEditorAdgroupDynamicMutators").transformAdgroupTemplateDataFromStaticToDynamic(a,h,null,null,f.defaultProductSalesChannel()):j=b("AdsUEditorAdgroupDynamicMutators").transformAdgroupFromLinkToCarouselTemplateData(j,h,null,null)}return j.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.INSTANT_CHECKOUT_AD_TYPE).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.INSTANT_CHECKOUT_AD_TYPE,c.instantCheckoutAdType)})},[b("AdsUEditorAdgroupSetNativeCheckoutActionFlux").actionType,b("AdsUEditorCampaignSetInstantCheckoutTypeActionFlux").actionType])};e.exports=a}),null);
__d("adsUEditorAdgroupPrefillersExtraDataSelector",["AdsAdgroupPrefillers","AdsSelectorUtils","adsCreateSelector","adsCreateStoreSelector","adsUEditorSelectedAdgroupsSelector","compactArray","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[].concat(b("AdsAdgroupPrefillers").orderedPrefillers,b("AdsAdgroupPrefillers").unorderedPrefillers);a=b("AdsSelectorUtils").getStores(b("compactArray")(g.map(function(a){return a.genExtraDataSelector||null})));c=b("adsCreateStoreSelector")(a,function(){return function(a,b){return a.genExtraDataSelector&&a.genExtraDataSelector({adgroup:b})}},{name:e.id+".genPrefillerExtraData"});d=b("adsCreateSelector")([b("adsUEditorSelectedAdgroupsSelector"),c],function(a,c){return b("immutable").Map(a.map(function(a){return[a.id,b("immutable").Map(g.map(function(b){return[b.key,c(b,a)]}))]}))},{name:e.id+".adsUEditorAdgroupPrefillersExtraDataSelector"});e.exports=d}),null);
__d("AdsUEditorAdgroupSetObjectivesReducerPlugin",["AdsMutators","AdsUEditorAdgroupObjectiveMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCampaignGroupSetObjectivesActionFlux","adsUEditorAccountSelector","adsUEditorAdgroupPrefillersExtraDataSelector","emptyFunction","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("AdsUEditorAdgroupObjectiveMutators")).convertAdgroup,h=a.getAdgroupExtraData,i=a.getOldAdgroupExtraData,j=a.removeEmptyTrackingSpec;c={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),adObjectsListMap:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("emptyFunction").thatReturnsArgument),prefillersExtraDataMap:b("adsUEditorAdgroupPrefillersExtraDataSelector")},function(a,c,d){var e=d.account,f=d.adObjectsListMap,k=d.prefillersExtraDataMap;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){var l=i(a,c.oldCampaignGroups,c.oldCampaigns,c.pages),m=b("nullthrows")(f.get(d)),n=m.campaign;m=m.campaignGroup;n=h(a,n,m);m=c.accountBlockLists;m={account:e,accountBlockList:m,hostID:c.hostID,newAdgroupExtraData:n,oldAdgroupExtraData:l,prefillersExtraData:b("nullthrows")(k.get(d))};return j(g(a,d,m))})},b("AdsUEditorCampaignGroupSetObjectivesActionFlux").actionType)};e.exports=c}),null);
__d("AdsUEditorAdgroupSetOfferIDReducerPlugin",["AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupOfferMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCampaignPromotedObjectCreateOfferDataActionFlux","adsACOIsACOAdgroup","adsACORemoveACOSpec","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.parentData;console;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){d=b("nullthrows")(e.get(d));var f=d.specPlugin;d=babelHelpers.objectWithoutPropertiesLoose(d,["specPlugin"]);var g=a;b("adsACOIsACOAdgroup")(a)&&(g=b("adsACORemoveACOSpec")(d.campaignGroup,d.campaign,a));return b("AdsUEditorAdgroupOfferMutators").setOfferInfo(d,g,f,c.offerID,c.offerTitle,c.offerURL)})},b("AdsUEditorCampaignPromotedObjectCreateOfferDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetPACInteractiveComponentReducerPlugin",["invariant","AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetFeedVideosFields","AdsAPIObjectives","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsInteractivePollLinkUtils","AdsMutators","AdsUEditorAdgroupImageMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetPACInteractiveComponentDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorAdgroupVideoMutators","AdsUEditorCampaignSelectors","AdsUnifiedCreativeAPIFields","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({eligibilityInformation:b("AdsUEditorCampaignSelectors").eligibilityInformation,plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){__p&&__p();var e=d.eligibilityInformation,f=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();var d,j=b("nullthrows")(f.get(a.id)),k=Boolean(c.hasPollOptionLink);d=(d=a.creative)==null?void 0:(d=d.asset_feed_spec)==null?void 0:d.videos;if(d!=null){d=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(d,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,c.label).index;d!=null||g(0,561);var l=a;d=b("AdsUEditorAdgroupVideoMutators").isolateVideoAssetWithLabel(a,j,d,c.label);var m=d.adgroupWithIsolatedVideoAsset;d=d.isolatedVideoAssetIndex;l=h(m,j,d,c.componentsSpec);m=e.objective;m===b("AdsAPIObjectives").APP_INSTALLS?l=b("AdsInteractivePollLinkUtils").updateAppInstallDisplayLink(l,j):(l=b("AdsInteractivePollLinkUtils").updateAdgroupWebsiteLink(l,j,c.canUsePacOptionalLinks,k),l=b("AdsInteractivePollLinkUtils").updateDisplayLink(l,j));l=b("AdsUEditorAdgroupVideoMutators").removeDuplicateVideoAssets(l,j);return l}else{k=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((d=a.creative)==null?void 0:(m=d.asset_feed_spec)==null?void 0:m.images,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,c.label).index;k!=null||g(0,561);l=a;d=b("AdsUEditorAdgroupImageMutators").isolateImageAssetWithLabel(a,j,k,c.label);m=d.adgroupWithIsolatedImageAsset;a=d.isolatedImageAssetIndex;l=i(m,j,a,c.componentsSpec);l=b("AdsUEditorAdgroupImageMutators").removeDuplicateImageAssets(l,j);return l}})},b("AdsUEditorAdgroupSetPACInteractiveComponentDataActionFlux").actionType)};function h(a,c,d,e){if(e!=null&&e.size>0)return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").videoID,d,b("AdsAPIAdAssetFeedVideosFields").INTERACTIVE_COMPONENTS_SPEC,b("immutable").fromJS({components:e.toJS()}));else return b("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").videoID,d,b("AdsAPIAdAssetFeedVideosFields").INTERACTIVE_COMPONENTS_SPEC)}function i(a,c,d,e){if(e!=null&&e.size>0)return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,d,b("AdsAPIAdAssetFeedImagesFields").INTERACTIVE_COMPONENTS_SPEC,b("immutable").fromJS({components:e}));else return b("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,d,b("AdsAPIAdAssetFeedImagesFields").INTERACTIVE_COMPONENTS_SPEC)}e.exports=a}),null);
__d("AdsUEditorAdgroupSetPageIdAndRemoveOfferReducerPlugin",["AdsCanvasAdUtils","AdsMutators","AdsPageStore","AdsSponsoredMessageUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupCanvasMutator","AdsUEditorAdgroupMutators","AdsUEditorAdgroupOfferMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCampaignAdObjectsUtils","AdsUEditorCampaignSetPageIdAndRemoveOfferActionFlux","adsAuthorizationCategoryMutate","adsPagesInAuthorizationSelector","adsUEditorAccountSelector","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),getPage:b("AdsPageStore").getSelector,pagesInAuthorizations:b("adsPagesInAuthorizationSelector"),parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.account,f=d.getPage,g=d.pagesInAuthorizations,h=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){d=b("nullthrows")(h.get(d));var i=d.campaign,j=d.campaignGroup;d=d.specPlugin;var k=c.pageID?f(c.pageID):null,l=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:i,campaignGroup:j});a=a;a=b("AdsUEditorAdgroupMutators").setPageID(c.pageID,k,a,e,b("AdsSponsoredMessageUtils").isNewVersionSponsoredMessage(i),(i=j.promoted_object)==null?void 0:i.page_id,j.objective);b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&(a=b("AdsUEditorAdgroupCanvasMutator").clearCanvasLink(a,d),a=b("AdsUEditorAdgroupCanvasMutator").clearCollectionsFields(a,d,l));a=b("adsAuthorizationCategoryMutate")(a,c.pageID,g);return b("AdsUEditorAdgroupOfferMutators").removeOfferInfo(e,a,d,j.objective,k)})},b("AdsUEditorCampaignSetPageIdAndRemoveOfferActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetPagePostReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetPagePostDataActionFlux","adsPlacementCustomizationConvertToStaticAdWithExistingPost"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID;a=a.setIn(d,c.pagePostID);c.objectType&&(a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE,c.objectType));a=a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_STORY_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.SOURCE_INSTAGRAM_MEDIA_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.BRANDED_CONTENT_SPONSOR_PAGE_ID);return b("adsPlacementCustomizationConvertToStaticAdWithExistingPost")(a)})},b("AdsUEditorAdgroupSetPagePostDataActionFlux").actionType)};e.exports=a}),null);
__d("adsUEditorAdgroupDefaultPagePostSelector",["AdsCampaignGroupRecordAccessors","AdsCampaignRecordAccessors","AdsDefaultPageDataProvider","AdsPagePostUtils","AdsUEditorSelectors","adsCreateSelector","adsUEditorAccountSelector","adsUEditorSelectedCampaignIDsSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsDefaultPageDataProvider").toFluxSelector();d=b("adsCreateSelector")([b("adsUEditorAccountSelector"),b("adsUEditorSelectedCampaignIDsSelector"),a,(c=b("AdsUEditorSelectors")).campaignGroup.bulkByAccessor(b("AdsCampaignGroupRecordAccessors").buying_type.get),c.campaignGroup.bulkByAccessor(b("AdsCampaignGroupRecordAccessors").objective.get),c.campaign.bulkByAccessor(b("AdsCampaignRecordAccessors").optimization_goal.get),c.campaign.bulkByAccessor(b("AdsCampaignRecordAccessors").billing_event.get),c.campaign.bulkByAccessor(b("AdsCampaignRecordAccessors").destination_type.get)],function(a,c,d,e,f,g,h,i){if(a==null||c.length!==1)return null;c=d.get(a.account_id).getValue();d=c==null?void 0:c.pagePost;c=c==null?void 0:c.createdTime;return d==null||c==null?null:b("AdsPagePostUtils").getFilterErrors(d,f.getValueForIndex(0),g.getValueForIndex(0),h.getValueForIndex(0),a,e.getValueForIndex(0),i.getValueForIndex(0)).length===0?{pagePost:d,createdTime:c}:null},{name:e.id+".adsUEditorAdgroupDefaultPagePostSelector"});e.exports=d}),null);
__d("AdsUEditorAdgroupSetPageReducerPlugin",["AdsAPIAdgroupPaths","AdsInstagramApplicabilityUtils","AdsMutators","AdsPageStore","AdsPageUtils","AdsPromotedObjectTypes","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupInstagramUtils","AdsUEditorAdgroupMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetPageDataActionFlux","AdsUEditorCampaignAdObjectsUtils","AdsUEditorCampaignWhatsAppStatusSelectors","AdsUEditorWhatsAppMutators","AdsUnifiedCreativeAPIFields","adsPagesInAuthorizationSelector","adsUEditorAccountSelector","adsUEditorAdgroupDefaultPagePostSelector","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),defaultPagePost:b("adsUEditorAdgroupDefaultPagePostSelector"),getPage:b("AdsPageStore").getSelector,hasWhatsAppPlacement:b("AdsUEditorCampaignWhatsAppStatusSelectors").someHaveWhatsAppStatusPosition,isWhatsAppStatusAdsEnabled:b("AdsUEditorCampaignWhatsAppStatusSelectors").isWhatsAppStatusAdsEnabledSelector,placementSpecsMap:b("AdsUEditorAdgroupSelectors").placementSpecsMap,pagesInAuthorizations:b("adsPagesInAuthorizationSelector"),parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.account,f=d.defaultPagePost,g=d.getPage,h=d.hasWhatsAppPlacement,i=d.isWhatsAppStatusAdsEnabled,j=d.placementSpecsMap,k=d.pagesInAuthorizations,l=d.parentData,m={};d=b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();var e=b("nullthrows")(l.get(d)),n=e.campaign,o=e.campaignGroup;e=e.specPlugin;var p=o.objective;n=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:n,campaignGroup:o});o=a;b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramPlacement(j.get(d))?m[d]=b("AdsUnifiedCreativeAPIFields").instagramActorID.getValue(a,e):o=o.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_ACTOR_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.INSTAGRAM_ACTOR_ID);if(i){d=null;h&&(d=b("AdsPageUtils").getWhatsAppBusinessProfileID(g(c.pageID)));o=b("AdsUEditorWhatsAppMutators").setWhatsAppBusinessProfileID({adgroup:o,whatsAppBusinessProfileID:d})}return b("AdsUEditorAdgroupMutators").adgroupProcessing(c.pageID,o,n===b("AdsPromotedObjectTypes").SPONSORED_MESSAGES,k,n,p,e,c.adgroupIDs.length===1?f:null)});b("AdsUEditorAdgroupInstagramUtils").initiateInstagramDefaulting(e,m,c.pageID,c.hostID);return d},b("AdsUEditorAdgroupSetPageDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetPlayableAssetIdReducerPlugin",["AdsAdgroupSetPlayableAssetIdDataActionFlux","AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c,d){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.PLAYABLE_ASSET_ID,c.playableAssetID)})},b("AdsAdgroupSetPlayableAssetIdDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetPortraitBackgroundColorReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetPortraitBackgroundColorDataActionFlux"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d,e=c.colorField,f=c.color,g=c.index;d=(d=a.creative)==null?void 0:(d=d.portrait_customizations)==null?void 0:d.specifications;if(d&&d.count()>=g+1){e=d.get(g).setIn(["background_color",e],f);d=d.set(g,e)}return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.PORTRAIT_CUSTOMIZATIONS.SPECIFICATIONS,d)})},b("AdsUEditorAdgroupSetPortraitBackgroundColorDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetPostClickConfigurationReducerPlugin",["AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetPostClickConfigurationDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsMutators").chain;a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,g(function(a){return a.setIn(b("AdsUnifiedCreativeAPIFields").postClickItemHeadline.getPathOrThrow(a,b("nullthrows")(e.get(a.id))),c.itemHeadlineTemplate)},function(a){return a.setIn(b("AdsUnifiedCreativeAPIFields").postClickItemDescription.getPathOrThrow(a,b("nullthrows")(e.get(a.id))),c.itemDescriptionTemplate)}))},b("AdsUEditorAdgroupSetPostClickConfigurationDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetPostEditModeReducerPlugin",["AdsAPICampaignRecordUtils","AdsEditorPostEditMode","AdsMutators","AdsStoreUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupCachedUIStore","AdsUEditorAdgroupCachedUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetPostEditModeDataActionFlux","AdsUEditorHostIDs","AdsUEditorSetPostEditModeMutators","adsUEditorAccountSelector","adsUEditorAdgroupDefaultPagePostSelector","adsUEditorAdgroupPrefillersExtraDataSelector","adsUEditorBlockListAccountListSelector","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),accountBlockLists:b("adsUEditorBlockListAccountListSelector"),parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData),cachedStoreState:b("AdsStoreUtils").toSelector(b("AdsUEditorAdgroupCachedUIStore")),prefillersExtraDataMap:b("adsUEditorAdgroupPrefillersExtraDataSelector"),defaultPagePost:b("adsUEditorAdgroupDefaultPagePostSelector")},function(a,c,d){__p&&__p();var e=d.account,f=d.accountBlockLists,g=d.parentData,h=d.cachedStoreState,i=d.defaultPagePost,j=d.prefillersExtraDataMap;d=a;c.hostID===b("AdsUEditorHostIDs").CREATION&&c.postEditMode===b("AdsEditorPostEditMode").EXISTING&&(d=d.slice(0,1));return b("AdsMutators").mutateEach(d,c.adgroupIDs,function(a,d){__p&&__p();var k=b("nullthrows")(g.get(d)),l=k.campaignGroup,m=k.campaign;k=k.specPlugin;var n=l.objective,o=b("AdsAPICampaignRecordUtils").getPromotedObjectType(n,m),p=b("AdsUEditorAdgroupCachedUtils").getCreative(h,d,c.postEditMode),q=b("AdsUEditorAdgroupCachedUtils").getMetadata(h,d),r=b("AdsUEditorAdgroupCachedUtils").getPageID(h,d);d=j.get(d);p={account:e,accountBlockLists:f,hostID:c.hostID,adgroup:a,cachedCreative:p,cachedMetadata:q,cachedPageID:r,defaultPagePost:c.adgroupIDs.length===1?i:null,objective:n,campaignGroup:l,campaign:m,specPathPlugin:k,promotedObjectType:o,mockupAdObjects:c.mockupAdObjects,prefillersExtraData:d};switch(c.postEditMode){case b("AdsEditorPostEditMode").INLINE:return b("AdsUEditorSetPostEditModeMutators").setToUsingInlineCreation(p);case b("AdsEditorPostEditMode").EXISTING:return b("AdsUEditorSetPostEditModeMutators").setToUsingExistingPost(p);case b("AdsEditorPostEditMode").USE_MOCKUP:return b("AdsUEditorSetPostEditModeMutators").setToUsingMockup(p)}return a})},b("AdsUEditorAdgroupSetPostEditModeDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetProductSetIDReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetProductSetIDDataActionFlux","AdsUnifiedCreativeAPIFields","nullthrows","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();d=b("nullthrows")(e.get(d));d=d.specPlugin;a=a;a=a.setIn(b("AdsUnifiedCreativeAPIFields").productSetID.getPathOrThrow(a,d),c.productSetID);d=b("AdsUnifiedCreativeAPIFields").catalogAssetFormatOption.getPath(a,d);if(d==null){b("recoverableViolation")("tried to add a product set id to an adgroup that does not support catalogAssetFormatOption","dpa");return a}return c.formatOption==="single_image"?a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.FORCE_SINGLE_LINK,!0).deleteIn(d):a.setIn(d,c.formatOption)})},b("AdsUEditorAdgroupSetProductSetIDDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsClipboardDialogPreloadTriggerReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.get("clipboardDialog")!==!0&&b.copiedIDs.length>0?a.set("clipboardDialog",!0):a}};e.exports=a}),null);
__d("AdsAdCreationUtils",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={getAdObjectWithDefaultName:function(a,b,c){var d;return babelHelpers["extends"]({},a,(d={},d[c]=a[c]&&a[c].trim()?a[c]:b,d))},DEFAULT_ADGROUP_NAME:g._("Untitled Ad"),DEFAULT_CAMPAIGN_NAME:g._("Untitled Ad Set"),DEFAULT_CAMPAIGN_GROUP_NAME:g._("Untitled Campaign")};e.exports=a}),null);
__d("adsConvergenceGetDefaultAdgroupRecord",["AdsAdCreationUtils","AdsAdgroupCreativePluginResolver","AdsAdgroupSpecPathPluginResolver","AdsAPIAdgroupPaths","AdsAPICampaignRecordUtils","AdsAudienceDirectConfig","AdsConvergenceAdgroupPluginResolver","AdsOfferState","CatalogVertical"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();k===void 0&&(k=b("AdsAudienceDirectConfig").accountType);l===void 0&&(l=b("AdsOfferState").NO_OFFER);m===void 0&&(m=b("CatalogVertical").NONE);var n=b("AdsAPICampaignRecordUtils").getPromotedObjectType(c,d);l=b("AdsAdgroupCreativePluginResolver").resolve({objective:c,promotedObjectType:n,accountType:k,offerStateType:l,catalogVertical:m});m=b("AdsAdgroupSpecPathPluginResolver").resolve({objective:c,promotedObjectType:n,accountType:k});n=b("AdsConvergenceAdgroupPluginResolver").resolve({objective:c});k=n.generateDefaultAdgroupSpec({account:a,campaign:d,isAuthorizedPage:e,locationPage:f,pageID:g,pageDestination:i,catalogSalesData:j},l,m);h!=null&&(k=k.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.INSTAGRAM_ACTOR_ID,h));return k.setIn(b("AdsAPIAdgroupPaths").NAME,b("AdsAdCreationUtils").DEFAULT_ADGROUP_NAME)};e.exports=a}),null);
__d("adsUEditorAdgroupSetObjectiveReduceFn",["AdsAdCreationUtils","AdsAPIAdgroupPaths","AdsMutators","adsConvergenceGetDefaultAdgroupRecord","immutable"],(function(a,b,c,d,e,f){function a(a,c,d){var e=d.account,f=d.campaignsMap;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){var g,h;g=(g=a.creative)==null?void 0:(g=g.object_story_spec)==null?void 0:g.instagram_actor_id;h=b("adsConvergenceGetDefaultAdgroupRecord")(e,c.newObjective,f.get(d),c.isAuthorizedPage,(h=c.objectiveSpecificDependencies.storeTrafficData)==null?void 0:h.locationPage,c.pageID,g,c.pageDestination,c.objectiveSpecificDependencies.catalogSalesData);return h.setIn(b("AdsAPIAdgroupPaths").NAME,b("AdsAdCreationUtils").DEFAULT_ADGROUP_NAME).setIn(b("AdsAPIAdgroupPaths").ID,d).setIn(b("AdsAPIAdgroupPaths").ADSET_ID,a.adset_id).setIn(b("AdsAPIAdgroupPaths").CAMPAIGN_ID,a.campaign_id).setIn(b("AdsAPIAdgroupPaths").STATUS,a.status)})}e.exports=a}),null);
__d("AdsUEditorAdgroupSetRFObjectiveReducerPlugin",["AdsConvergenceGatingUtils","AdsDataAtom","AdsDeleteAdObjectsDataAction","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCampaignGroupSetRFObjectiveActionFlux","adsUEditorAccountSelector","adsUEditorAdgroupSetObjectiveReduceFn"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[],h=[];a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),campaignsMap:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(function(a){a=a.campaign;return a})},function(a,c,d){if(b("AdsConvergenceGatingUtils").getIsRFL1Enabled())return b("adsUEditorAdgroupSetObjectiveReduceFn")(a,c,d);b("AdsDataAtom").addPostDispatchCallback(function(){b("AdsDeleteAdObjectsDataAction").dispatch({adgroupIDs:c.adgroupIDs,campaignGroupIDs:g,campaignIDs:h},{line:"50",module:"AdsUEditorAdgroupSetRFObjectiveReducerPlugin.js"})});return a},b("AdsUEditorCampaignGroupSetRFObjectiveActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetRetailerItemIDsReducerPlugin",["AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetRetailerItemIDsDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){d=e.get(d);return!b("AdsUnifiedCreativeAPIFields").retailerItemIDs.isSupported(a,d)?a:a.setIn(b("AdsUnifiedCreativeAPIFields").retailerItemIDs.getPathOrThrow(a,d),c.retailerItemIDs).deleteIn(b("AdsUnifiedCreativeAPIFields").collectionThumbnails.getPathOrThrow(a,d))})},b("AdsUEditorAdgroupSetRetailerItemIDsDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetShowEndCardReducerPlugin",["AdsAdgroupMultiProductMutatorUtils","AdsAPIAdgroupRecordUtils","AdsAPICampaignGroupRecordUtils","AdsAppUtils","AdsLocalUtils","AdsMutators","AdsPageStore","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetShowEndCardDataActionFlux","AdsUEditorCampaignAdObjectsUtils","AdsUEditorWebsiteMutators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData),getPage:b("AdsPageStore").getSelector},function(a,c,d){__p&&__p();var e=d.parentData,f=d.getPage;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();d=e.get(d);var h=d.campaign,i=d.campaignGroup;d=d.specPlugin;var j=i.objective,k=b("AdsAPICampaignGroupRecordUtils").getPromotedObjectPageID(i);h=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:h,campaignGroup:i});i=b("AdsAPIAdgroupRecordUtils").getPageID(a,d);var l=a;if(b("AdsLocalUtils").isLocalObjective(j)&&i!=null&&i!==g){i=f(i);var m=g;i!=null&&i.website!=null&&(m=i.website);i=c.showEndCard?m:g;l=b("AdsUEditorWebsiteMutators").setWebsiteURL({adgroup:a,campaignGroupPromotedPageID:k,objective:j,promotedObjectType:h,specPlugin:d,websiteURL:i})}if(c.showEndCard)return b("AdsAdgroupMultiProductMutatorUtils").enableShowEndCard(l,d);m=!b("AdsAppUtils").isAppObjective(j,h);return b("AdsAdgroupMultiProductMutatorUtils").disableShowEndCard(l,d,m)})},b("AdsUEditorAdgroupSetShowEndCardDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetSpecialObjectivesReducerPlugin",["AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCampaignGroupSetSpecialObjectivesActionFlux","adsUEditorAccountSelector","adsUEditorAdgroupSetObjectiveReduceFn"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),campaignsMap:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(function(a){a=a.campaign;return a})},b("adsUEditorAdgroupSetObjectiveReduceFn"),b("AdsUEditorCampaignGroupSetSpecialObjectivesActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorStaticFallbackSpecMutators",["AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";var g=["staticFallbackCallToActionType","staticFallbackDescription","staticFallbackLink","staticFallbackHeadline","staticFallbackImageHash","staticFallbackMessage"];a=function(a){var c=a.adgroup,d=a.staticFallbackFieldName,e=a.staticFallbackFieldValue;a=a.specPlugin;return!g.includes(d)?c:c.setIn(b("AdsUnifiedCreativeAPIFields")[d].getPath(c,a),e)};c={setStaticFallbackSpec:a};e.exports=c}),null);
__d("AdsUEditorAdgroupSetStaticFallbackSpecReducerPlugin",["AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetStaticFallbackSpecDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorStaticFallbackSpecMutators","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsUEditorStaticFallbackSpecMutators").setStaticFallbackSpec({staticFallbackFieldName:c.staticFallbackFieldName,staticFallbackFieldValue:c.staticFallbackFieldValue,adgroup:a,specPlugin:b("nullthrows")(e.get(a.id))})})},b("AdsUEditorAdgroupSetStaticFallbackSpecDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetStoriesInteractiveComponentPollReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetStoriesInteractiveComponentPollDataActionFlux"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d,e=c.field,f=c.value,g=c.index;d=(d=a.creative)==null?void 0:(d=d.interactive_components_spec)==null?void 0:d.components;if(d&&d.count()>g){e=d.get(g).setIn(["poll_spec",e],f);d=d.set(g,e)}return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.INTERACTIVE_COMPONENTS_SPEC.COMPONENTS,d)})},b("AdsUEditorAdgroupSetStoriesInteractiveComponentPollDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetStoriesInteractiveComponentPositionReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetStoriesInteractiveComponentPositionDataActionFlux"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d,e=c.field,f=c.value,g=c.index;d=(d=a.creative)==null?void 0:(d=d.interactive_components_spec)==null?void 0:d.components;if(d&&d.count()>g){e=d.get(g).setIn(["position_spec",e],f);d=d.set(g,e)}return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.INTERACTIVE_COMPONENTS_SPEC.COMPONENTS,d)})},b("AdsUEditorAdgroupSetStoriesInteractiveComponentPositionDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetStoriesInteractiveComponentReducerPlugin",["AdsAPIAdgroupPaths","AdsAPIObjectives","AdsInteractivePollLinkUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetStoriesInteractiveComponentDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorCampaignSelectors","adsInteractivePollHasFbFeedVideoPollSpec"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin),eligibilityInformation:b("AdsUEditorCampaignSelectors").eligibilityInformation},function(a,c,d){__p&&__p();var e=d.eligibilityInformation,f=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();d=f.get(d);var g=Boolean(c.hasPollOptionLink);if(d==null)return a;a=a;a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.INTERACTIVE_COMPONENTS_SPEC.COMPONENTS,c.componentsSpec);if(b("adsInteractivePollHasFbFeedVideoPollSpec")(a,e.spec)){var h=e.objective;h===b("AdsAPIObjectives").APP_INSTALLS?a=b("AdsInteractivePollLinkUtils").updateAppInstallDisplayLink(a,d):(a=b("AdsInteractivePollLinkUtils").updateAdgroupWebsiteLink(a,d,c.canUsePacOptionalLinks,g),a=b("AdsInteractivePollLinkUtils").updateDisplayLink(a,d))}return a})},b("AdsUEditorAdgroupSetStoriesInteractiveComponentDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetTrackingSpecReducerPlugin",["AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetTrackingSpecDataActionFlux","AdsUEditorAdgroupTrackingSpecMutators"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){var d=c.adgroupIDs,e=c.conversionType,f=c.trackingSpec;return b("AdsMutators").mutateEach(a,d,function(a){return b("AdsUEditorAdgroupTrackingSpecMutators").setTrackingSpec(f,a,e)})},b("AdsUEditorAdgroupSetTrackingSpecDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetUrlTagsReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetURLTagsDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsMutators").setIn(b("AdsAPIAdgroupPaths").CREATIVE.URL_TAGS,c.urlTags,a)})},b("AdsUEditorAdgroupSetURLTagsDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetUseDynamicReducerPlugin",["AdsAdgroupTypeUtils","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupDynamicMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetUseDynamicDataActionFlux","AdsUnifiedCreativeAPIFieldMappings","AdsUnifiedCreativeAPIFields","ApiAdObjectTypes","isTruthy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){return b("AdsMutators").chain(function(a){return a.setIn(b("AdsUnifiedCreativeAPIFieldMappings").TEMPLATE_MAPPING.linkURL,a.getIn(b("AdsUnifiedCreativeAPIFieldMappings").VIDEO_MAPPING.linkURL)).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE,b("ApiAdObjectTypes").SHARE).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.path)},b("AdsUEditorAdgroupDynamicMutators").removeThumbnail,function(a){return b("AdsUEditorAdgroupDynamicMutators").addDefaultCarouselTemplateDataFields(a,c,null,null,!0)})(a)}a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){var f;a=a;var h=e.get(d),i=h.campaignGroup;h=h.specPlugin;i=i.objective;var j=c.adgroupProductSetVerticalsMap;b("isTruthy")((f=a.creative)==null?void 0:(f=f.object_story_spec)==null?void 0:f.link_data)?a=b("AdsUEditorAdgroupDynamicMutators").transformAdgroupFromLinkToCarouselTemplateData(a,i,c.productSetID,c.vertical):b("AdsAdgroupTypeUtils").isVideoAd(a)?a=g(a,i):b("AdsAPIAdgroupRecordUtils").isTemplateCreative(a)&&j!=null&&j.get(d)!==c.vertical&&(a=b("AdsUEditorAdgroupDynamicMutators").addDefaultCommonTemplateDataFields(a,i,c.productSetID,c.vertical,!0));return a.setIn(b("AdsUnifiedCreativeAPIFields").productSetID.getPathOrThrow(a,h),c.productSetID)})},b("AdsUEditorAdgroupSetUseDynamicDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetUsePageActorOverrideReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetUsePageActorOverrideDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsMutators").setIn(b("AdsAPIAdgroupPaths").CREATIVE.USE_PAGE_ACTOR_OVERRIDE,c.usePageActorOverride,a)})},b("AdsUEditorAdgroupSetUsePageActorOverrideDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetVideoCustomOverlaySpecReducerPlugin",["AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetVideoCustomOverlaySpecActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d=b("nullthrows")(e.get(a.id));return a.setIn(b("AdsUnifiedCreativeAPIFields").videoCustomOverlaySpec.getPathOrThrow(a,d),c.customOverlaySpec)})},b("AdsUEditorAdgroupSetVideoCustomOverlaySpecActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetVideoIDReducerPlugin",["AdsAdgroupTypeUtils","AdsMediaFormatMutators","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetVideoIDDataActionFlux","AdsVideoStore","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({getVideo:b("AdsVideoStore").getSelector,parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.getVideo,f=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){var g=c.videoID!=null?e(c.videoID):null;d=f.get(d);var h=d.campaignGroup,i=d.specPlugin;return b("AdsMutators").chain(function(a){var c=b("AdsAdgroupTypeUtils").isVideoAd(a);return!c&&b("gkx")("852501")?b("AdsMediaFormatMutators").setMediaFormat("VIDEO",a,i,h.objective):a},function(a){return b("AdsUEditorAdgroupMutators").setVideoID({adgroup:a,specPathPlugin:i,videoID:g==null?void 0:g.id,preferredThumbnailURL:g==null?void 0:(a=g.preferredThumbnail)==null?void 0:a.uri})})(a)})},b("AdsUEditorAdgroupSetVideoIDDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetVideoImageURLReducerPlugin",["AdsMutators","AdsUEditorAdgroupMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetVideoImageURLDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){return b("AdsUEditorAdgroupMutators").setVideoImageURL(a,e.get(d),c.imageURL,c.thumbnailSource)})},b("AdsUEditorAdgroupSetVideoImageURLDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetViewTagsReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetViewTagsDataActionFlux","immutable"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return c.viewTags?b("AdsMutators").setIn(b("AdsAPIAdgroupPaths").VIEW_TAGS,b("immutable").fromJS(c.viewTags),a):a.deleteIn(b("AdsAPIAdgroupPaths").VIEW_TAGS)})},b("AdsUEditorAdgroupSetViewTagsDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetWebsitePromotedObjectOptimizationFieldsReducerPlugin",["AdsAdgroupTrackingSpecUpdateUtils","AdsInstantCheckoutUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorPromotedObjectSetWebsiteOptimizationFieldsDataActionFlux"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c,d){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){a=a;a=b("AdsInstantCheckoutUtils").unsetInstantCheckoutAdTypeInAdgroup(a);return c.websiteOptimizationObject.pixel_id!=null&&c.websiteOptimizationObject.product_set_id!=null?a:b("AdsAdgroupTrackingSpecUpdateUtils").mergeWithNewPixelTrackingSpec(g(c.websiteOptimizationObject),a)})},b("AdsUEditorPromotedObjectSetWebsiteOptimizationFieldsDataActionFlux").actionType)};function g(a){var b,c=a.pixel_id,d=a.custom_event_type;a=a.custom_conversion_id;b=(b={},b["action.type"]=["offsite_conversion"],b);c!=null&&d!=null?b.fb_pixel=[c]:a!=null&&(b.custom_conversion=[a]);return[b]}e.exports=a}),null);
__d("AdsUEditorAdgroupSetWebsiteUrlDeepLinkReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetWebsiteURLDeepLinkDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){if(c.websiteUrlDeepLink=="")return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL_SPEC.WEB.URL).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL);else return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL_SPEC.WEB.URL,c.websiteUrlDeepLink).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL)})},b("AdsUEditorAdgroupSetWebsiteURLDeepLinkDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetWebsiteUrlReducerPlugin",["AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetWebsiteURLDataActionFlux","AdsUEditorWebsiteMutators","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){d=b("nullthrows")(e.get(d));var f=d.campaign,g=d.campaignGroup;d=d.specPlugin;return b("AdsUEditorWebsiteMutators").setWebsiteURLReducerUtil({adgroup:a,campaign:f,campaignGroup:g,specPlugin:d,websiteURL:c.websiteURL})})},b("AdsUEditorAdgroupSetWebsiteURLDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetWhatsAppAccountReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetWhatsAppAccountDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.WHATSAPP_BUSINESS_PROFILE_ID,c.whatsAppAccountID)})},b("AdsUEditorAdgroupSetWhatsAppAccountDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetWhatsAppPromotedObjectTypeForMessagesReducerPlugin",["AdsMutators","AdsPromotedObjectTypes","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCampaignSetWhatsAppPromotedObjectTypeDataActionFlux","AdsUEditorWhatsAppMutators","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){c=b("nullthrows")(e.get(c));var d=c.campaign,f=c.campaignGroup;c=c.specPlugin;d=(d=d.promoted_object)==null?void 0:d.page_id;return b("AdsUEditorWhatsAppMutators").setFieldsForSelectingPromotedObjectType({adgroup:a,campaignPromotedPageID:d,objective:f.objective,promotedObjectType:b("AdsPromotedObjectTypes").WHATSAPP,specPlugin:c})})},b("AdsUEditorCampaignSetWhatsAppPromotedObjectTypeDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupTransformDynamicToStaticCarouselMediaReducerPlugin",["AdsAPIAdgroupPaths","AdsAPIObjectives","AdsMutators","AdsPromotedObjectUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupCreativePluginAdObjectsUtils","AdsUEditorAdgroupDynamicMutators","AdsUEditorAdgroupMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupTransformDynamicToStaticCarouselMediaActionFlux","AdsUEditorCampaignAdObjectsUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsUEditorAdgroupMutators").transformAdgroupFromTemplateToLinkData,h=b("AdsUEditorAdgroupMutators").transformAdgroupTemplateDataFromDynamicToStatic;a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){__p&&__p();c=b("nullthrows")(e.get(c));var d=c.campaign,f=c.campaignGroup;c=c.specPlugin;var i=f.objective,j=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:d,campaignGroup:f});f=b("AdsUEditorAdgroupCreativePluginAdObjectsUtils").getAdgroupCreativePlugin({campaignGroup:f,campaign:d});a=a;a=b("AdsUEditorAdgroupDynamicMutators").removeDynamicAdSpecificCreativeFields(a);if(f.usesTemplateDataForStaticCarousel())return h(a,i,j,c);a=g(a,i,j,c);i===b("AdsAPIObjectives").CONVERSIONS&&b("AdsPromotedObjectUtils").shouldDisableMultiShareEndCardForCollaborativeAdsPixelConversion(d)&&(a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MULTI_SHARE_END_CARD,!1));return a})},b("AdsUEditorAdgroupTransformDynamicToStaticCarouselMediaActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupTransformDynamicToStaticSingleMediaReducerPlugin",["AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupDynamicMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupTransformDynamicToStaticSingleMediaActionFlux","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){c=e.get(c);c=c.campaignGroup;if(c==null){b("recoverableViolation")("Parent campaign group in reducer should not have been null","dpa");return a}c=c.objective;return b("AdsUEditorAdgroupDynamicMutators").transformAdgroupFromTemplateToSingleMediaLinkData(a,c)})},b("AdsUEditorAdgroupTransformDynamicToStaticSingleMediaActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupTransformFromACOTemplateDataReducerPlugin",["AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupTransformFromACOTemplateDataActionFlux","adsACORemoveACOSpec","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){c=e.get(c);var d=c.campaign,f=c.campaignGroup;c=c.specPlugin;if(d==null||f==null||c==null){b("recoverableViolation")("Parent campaign related data in reducer should not have been null","aco");return a}return b("adsACORemoveACOSpec")(f,d,a)})},b("AdsUEditorAdgroupTransformFromACOTemplateDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupTransformStaticToDynamicCarouselMediaReducerPlugin",["AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupCreativePluginAdObjectsUtils","AdsUEditorAdgroupDynamicMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupTransformStaticToDynamicCarouselMediaActionFlux","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){d=b("nullthrows")(e.get(d));var f=d.campaign;d=d.campaignGroup;var g=d.objective;d=b("AdsUEditorAdgroupCreativePluginAdObjectsUtils").getAdgroupCreativePlugin({campaignGroup:d,campaign:f});return d.usesTemplateDataForStaticCarousel()?b("AdsUEditorAdgroupDynamicMutators").transformAdgroupTemplateDataFromStaticToDynamicWithLeadingStaticCard(a,g,c.defaultProductSetID,c.defaultProductSetVertical,d.defaultProductSalesChannel()):b("AdsUEditorAdgroupDynamicMutators").transformAdgroupFromLinkToCarouselTemplateData(a,g,c.defaultProductSetID,c.defaultProductSetVertical)})},b("AdsUEditorAdgroupTransformStaticToDynamicCarouselMediaActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupTransformStaticToDynamicSingleMediaReducerPlugin",["AdsAdgroupTypeUtils","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupDynamicMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupTransformStaticToDynamicSingleMediaActionFlux","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){d=e.get(d);d=d.campaignGroup;if(d==null){b("recoverableViolation")("Parent campaign group in reducer should not have been null","dpa");return a}if(b("AdsAdgroupTypeUtils").isVideoAd(a))return b("AdsUEditorAdgroupDynamicMutators").transformAdgroupFromVideoToSingleMediaTemplateData(a,d.objective,c.defaultProductSetID,c.defaultProductSetVertical);else return b("AdsUEditorAdgroupDynamicMutators").transformAdgroupFromLinkToSingleMediaTemplateData(a,d.objective,c.defaultProductSetID,c.defaultProductSetVertical)})},b("AdsUEditorAdgroupTransformStaticToDynamicSingleMediaActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupTransformToACOTemplateDataReducerPlugin",["AdsAPIAdgroupRecordUtils","AdsAssetFeedUtils","AdsDynamicAdCustomizationCustomizationSpecUtils","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupCreativePluginAdObjectsUtils","AdsUEditorAdgroupDynamicMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupTransformToACOTemplateDataActionFlux","adsACOConvertToACOAd","adsCollectionAdClearCanvasLinkURL","adsCollectionAdRemoveCollectionRetailersItemIDs","adsCollectionAdRemoveCollectionThumbnails","nullthrows","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();var f=e.get(d),g=f.campaign,h=f.campaignGroup,i=f.specPlugin;if(h==null){b("recoverableViolation")("Parent campaign group in reducer should not have been null","aco");return a}var j=h.objective,k=b("AdsUEditorAdgroupCreativePluginAdObjectsUtils").getAdgroupCreativePlugin({campaignGroup:h,campaign:g});f=c.adgroupPromotedOrDefaultProductSet;h=f!=null?f.get(d):null;var l=h==null?void 0:h.id,m=h==null?void 0:h.vertical;return b("AdsMutators").chain(function(a){return a.deleteIn(b("AdsDynamicAdCustomizationCustomizationSpecUtils").getCustomizationSpecPathFromAdgroup(a))},function(a){return b("adsCollectionAdRemoveCollectionThumbnails")(a,i)},function(a){return b("adsCollectionAdRemoveCollectionRetailersItemIDs")(a,i,j)},function(a){return b("adsCollectionAdClearCanvasLinkURL")(a,i,j,"")},function(a){return b("AdsAssetFeedUtils").hasLanguageOrPlacementCustomizationFromRecord(a)?b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(b("AdsAPIAdgroupRecordUtils").getObjectType(a),a,b("nullthrows")(i.pivots.objective)):a},function(a){var c;return((c=a.creative)==null?void 0:(c=c.object_story_spec)==null?void 0:c.link_data)?b("AdsUEditorAdgroupDynamicMutators").transformAdgroupFromLinkToCarouselTemplateData(a,j,l,m):a},function(a){var c;return((c=a.creative)==null?void 0:(c=c.object_story_spec)==null?void 0:c.video_data)?b("AdsUEditorAdgroupDynamicMutators").transformAdgroupFromVideoToSingleMediaTemplateData(a,j,l,m):a},function(a){var c;return((c=a.creative)==null?void 0:(c=c.object_story_spec)==null?void 0:c.template_data)?b("AdsUEditorAdgroupDynamicMutators").transformAdgroupTemplateDataFromStaticToDynamic(a,j,l,m,k.defaultProductSalesChannel()):a},function(a){return b("adsACOConvertToACOAd")(a)})(a)})},b("AdsUEditorAdgroupTransformToACOTemplateDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupUpdateCollectionProductSetDetailsReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupUpdateCollectionProductSetDetailsActionFlux","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){var f=(d=e.get(d))==null?void 0:d.specPlugin;return b("AdsMutators").chain(function(a){var d=f!=null?b("AdsUnifiedCreativeAPIFields").retailerItemIDs.getPath(a,f):null;return d!=null?a.setIn(d,c.retailerItemIDs):a},function(a){return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID,c.productSetID)})(a)})},b("AdsUEditorAdgroupUpdateCollectionProductSetDetailsActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupUseACODynamicVideoReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupUseACODynamicVideoDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS)})},b("AdsUEditorAdgroupUseACODynamicVideoDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupWhatsAppSelectPageReducerPlugin",["AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCampaignAdObjectsUtils","AdsUEditorCampaignPromotedObjectWhatsAppPageSelectActionFlux","AdsUEditorWhatsAppMutators","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.parentData,f=c.whatsAppNumber;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){c=b("nullthrows")(e.get(c));var d=c.campaign,g=c.campaignGroup;c=c.specPlugin;var h=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:d,campaignGroup:g});d=(d=d.promoted_object)==null?void 0:d.page_id;return b("AdsUEditorWhatsAppMutators").setFieldsForSelectingPage({adgroup:a,campaignPromotedPageID:d,objective:g.objective,promotedObjectType:h,specPlugin:c,whatsAppNumber:f})})},b("AdsUEditorCampaignPromotedObjectWhatsAppPageSelectActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupAddCustomizationBodyAtIndexReducerPlugin",["AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetTargetRuleFields","AdsAssetFeedMutationUtils","AdsMutators","AdsPlacementAssetTargetingRuleUtils","AdsUEditorAdgroupAddCustomizationBodyAtIndexActionFlux","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUnifiedCreativeAPIFields","adsPlacementAssetMutationConvertToPACSpecForAdditionalCustomizations","adsUEditorAccountSelector","immutable","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.account,f=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();var d,g=b("nullthrows")(f.get(a.id));g=g.specPlugin;var h=b("adsPlacementAssetMutationConvertToPACSpecForAdditionalCustomizations")(a,g,e),i=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromAssetCustomizationPlacement(h,c.placements,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL);d=(d=(d=h.creative)==null?void 0:(d=d.asset_feed_spec)==null?void 0:d.bodies)!=null?d:b("immutable").List();var j=d.size;d=d.findIndex(function(a){return a.get("text")===c.assetValue});if(d!==-1){var k;k=(k=(k=h.creative)==null?void 0:(k=k.asset_feed_spec)==null?void 0:k.bodies)!=null?k:b("immutable").List();var l=k.get(d).update(b("AdsAPIAdAssetFeedBodiesFields").ADLABELS,function(a){if(!(a instanceof b("immutable").List))throw b("unrecoverableViolation")("adlabels on title asset must be a list","ads_dynamic_creative_optimization");return a.push(b("immutable").Map((a={},a.name=i,a)))});k=k.push(l)["delete"](d);h=h.setIn(b("AdsUnifiedCreativeAPIFields").message.getPathOrThrow(a,g),k)}else h=b("AdsAssetFeedMutationUtils").insertAssetValueWithLabelAtIndex(h,g,b("AdsUnifiedCreativeAPIFields").message,b("AdsAPIAdAssetFeedBodiesFields").TEXT,c.assetValue,b("AdsAPIAdAssetFeedBodiesFields").ADLABELS,i,j);return h})},b("AdsUEditorAdgroupAddCustomizationBodyAtIndexActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupAddCustomizationBodyReducerPlugin",["AdsMutators","AdsUEditorAdgroupAddCustomizationBodyActionFlux","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupBodyMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","adsPlacementAssetMutationConvertToPACSpecForAdditionalCustomizations","adsUEditorAccountSelector","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.account,f=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d=b("nullthrows")(f.get(a.id));d=d.specPlugin;a=b("adsPlacementAssetMutationConvertToPACSpecForAdditionalCustomizations")(a,d,e);return b("AdsUEditorAdgroupBodyMutators").addPlacementCustomizationBody(a,d,c.placements,c.messages,c.isDefaultPlacementAsset)})},b("AdsUEditorAdgroupAddCustomizationBodyActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupAddCustomizationDisplayUrlReducerPlugin",["AdsMutators","AdsUEditorAdgroupAddCustomizationDisplayUrlActionFlux","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupUrlMutators","adsPlacementAssetMutationConvertToPACSpecForAdditionalCustomizations","adsUEditorAccountSelector","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.account,f=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d=f.get(a.id);d||b("recoverableViolation")("[PAC] ParentData not be null when AdsUEditorAdgroupAddCustomizationWebsiteUrlReducerPlugin","csol_pac");a=b("adsPlacementAssetMutationConvertToPACSpecForAdditionalCustomizations")(a,d.specPlugin,e);var g={display_url:c.displayUrl};return b("AdsUEditorAdgroupUrlMutators").addPlacementCustomizationUrl(a,d.specPlugin,c.placements,g,c.isDefaultPlacementAsset)})},b("AdsUEditorAdgroupAddCustomizationDisplayUrlActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupAddCustomizationHeadlineAtIndexReducerPlugin",["AdsAPIAdAssetFeedTitlesFields","AdsAPIAdAssetTargetRuleFields","AdsAssetFeedMutationUtils","AdsMutators","AdsPlacementAssetTargetingRuleUtils","AdsUEditorAdgroupAddCustomizationHeadlineAtIndexActionFlux","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUnifiedCreativeAPIFields","adsPlacementAssetMutationConvertToPACSpecForAdditionalCustomizations","adsUEditorAccountSelector","immutable","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.account,f=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();var d,g=b("nullthrows")(f.get(a.id));g=g.specPlugin;var h=b("adsPlacementAssetMutationConvertToPACSpecForAdditionalCustomizations")(a,g,e),i=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromAssetCustomizationPlacement(h,c.placements,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL);d=(d=(d=h.creative)==null?void 0:(d=d.asset_feed_spec)==null?void 0:d.titles)!=null?d:b("immutable").List();var j=d.size;d=d.findIndex(function(a){return a.get("text")===c.assetValue});if(d!==-1){var k;k=(k=h.creative)==null?void 0:(k=k.asset_feed_spec)==null?void 0:k.titles;if(k==void 0)throw b("unrecoverableViolation")("title asset cannot be null","ads_dynamic_creative_optimization");var l=k.get(d).update(b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,function(a){if(!(a instanceof b("immutable").List))throw b("unrecoverableViolation")("adlabels on title asset must be a list","ads_dynamic_creative_optimization");return a.push(b("immutable").Map((a={},a.name=i,a)))});k=k.push(l)["delete"](d);h=h.setIn(b("AdsUnifiedCreativeAPIFields").headline.getPathOrThrow(a,g),k)}else h=b("AdsAssetFeedMutationUtils").insertAssetValueWithLabelAtIndex(h,g,b("AdsUnifiedCreativeAPIFields").headline,b("AdsAPIAdAssetFeedTitlesFields").TEXT,c.assetValue,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,i,j);return h})},b("AdsUEditorAdgroupAddCustomizationHeadlineAtIndexActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupAddCustomizationHeadlineReducerPlugin",["AdsMutators","AdsUEditorAdgroupAddCustomizationHeadlineActionFlux","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupHeadlineMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","adsPlacementAssetMutationConvertToPACSpecForAdditionalCustomizations","adsUEditorAccountSelector","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.account,f=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d=f.get(a.id);d||b("recoverableViolation")("[PAC] ParentData not be null when AdsUEditorAdgroupAddCustomizationHeadlineReducerPlugin","csol_pac");a=b("adsPlacementAssetMutationConvertToPACSpecForAdditionalCustomizations")(a,d.specPlugin,e);return b("AdsUEditorAdgroupHeadlineMutators").addPlacementCustomizationHeadline(a,d.specPlugin,c.placements,c.headlines,c.isDefaultPlacementAsset)})},b("AdsUEditorAdgroupAddCustomizationHeadlineActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupAddCustomizationImageReducerPlugin",["AdsAPIAdgroupPaths","AdsAssetFeedUtils","AdsDCOImageCropDoFUtils","AdsMutators","AdsPlacementAssetUtils","AdsUEditorAdgroupAddCustomizationImageDataActionFlux","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupImageMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","adsPlacementAssetMutationCopyDefaultCustomizations","adsUEditorAccountSelector","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.account,f=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d=b("nullthrows")(f.get(a.id)),g=d.campaign;d=d.specPlugin;g=b("AdsUEditorAdgroupImageMutators").addPlacementCustomizationImage({adgroup:a,sourceReducer:"ADD_CUSTOMIZATION_IMAGE",campaign:g,specPlugin:d,adAccount:e,assetGroup:c.assetGroup,validAssetGroupsByAsset:c.validAssetGroupsByAsset,imageHash:c.imageHash,imageURL:c.imageURL,backgroundColor:c.backgroundColor,crops:c.crops,placementList:c.placementList,isUsingPlacementEditor:!0});a=b("AdsDCOImageCropDoFUtils").hasDoFSpecWithFAMToggleExpType(a);a&&(g=g.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.DEGREES_OF_FREEDOM_SPEC.path));a=c.validAssetGroupsByAsset?b("AdsPlacementAssetUtils").getAssetLabelIfSingleValidAssetGroup(c.assetGroup,c.validAssetGroupsByAsset):null;a=a==null;var h=b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(g);return a&&!h?b("adsPlacementAssetMutationCopyDefaultCustomizations")(e,g,d,c.placementList):g})},b("AdsUEditorAdgroupAddCustomizationImageDataActionFlux").actionType)};e.exports=a}),null);
__d("StorifyEligibilityUtils",["AdsAPIObjectives","AdsPlacementAssetCustomizationTypes","adsAccountGK"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatVideo,h=["INSTAGRAM_STORY","FACEBOOK_STORY","MESSENGER_STORY"],i=["FACEBOOK_STORY","MESSENGER_STORY"],j=[(a=b("AdsAPIObjectives")).APP_INSTALLS,a.CONVERSIONS,a.LINK_CLICKS,a.WILDCARD_INTERNAL_ONLY],k=[a.APP_INSTALLS,a.CONVERSIONS,a.LINK_CLICKS,a.REACH,a.BRAND_AWARENESS,a.LEAD_GENERATION,a.WILDCARD_INTERNAL_ONLY],l=(c={},c.INSTAGRAM_STORY="INSTAGRAM_STORY",c.FACEBOOK_STORY="FACEBOOK_STORY_MOBILE",c.MESSENGER_STORY="MESSENGER_MOBILE_STORY_MEDIA",c),m={canUsePACMixedFormat:function(a){return b("adsAccountGK")._(a,"1o96rqAA7")},getStorifyEnabledFeatureGks:function(a){var c=[];b("adsAccountGK")._(a,"2UfWvWwQR")&&c.push("storify_cta_animation");return c},getStorifyEligiblePlacements:function(a){var c=h;a=b("adsAccountGK")._(a,"2YUajQGK6");a&&(c=c.concat(i));return c},isStorifyBetaEnabled:function(a){var c=b("adsAccountGK")._(a,"5dZ2uN3tU");return c?b("adsAccountGK")._(a,"1o96rqAA7"):!1},isStorifyBetaExperiment:function(a){return b("adsAccountGK")._(a,"1hTrZPOnB")},isStorifyEligibleInPlacementEditor:function(a,b){a=m.getStorifyEligiblePlacements(a);return a.includes(b)},isStorifyObjective:function(a,b){b=b?k:j;return b.includes(a)},isStorifyBetaEligible:function(a,b){return m.isStorifyBetaEnabled(a)&&m.isStorifyEligibleInPlacementEditor(a,b)},isStorifyDraftEligible:function(a){return b("adsAccountGK")._(a,"2Rcv2VffB")&&b("adsAccountGK")._(a,"5dZ2uN3tU")&&b("adsAccountGK")._(a,"1o96rqAA7")},getPreviewFormatForAssetGroup:function(a){return l[a]},isStorifyVideo:function(a,b){return h.includes(b)&&a!=null&&a.format===g&&a.value.video.creator_product===48}};e.exports=m}),null);
__d("AdsUEditorAdgroupAddCustomizationVideoReducerPlugin",["AdsAPIAdAssetFeedVideosFields","AdsAPIAdgroupPaths","AdsAssetFeedUtils","AdsInteractiveComponentConstants","AdsMutators","AdsPlacementAssetUtils","AdsUEditorAdgroupAddCustomizationVideoDataActionFlux","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupVideoMutators","AdsVideoStore","StorifyEligibilityUtils","adsAccountGK","adsContainsAssetCustomizationPlacement","adsPlacementAssetMutationCopyDefaultCustomizations","adsUEditorAccountSelector","immutable","isFalsey","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),getVideo:b("AdsVideoStore").getSelector,parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.account,f=d.getVideo,g=d.parentData,h=b("StorifyEligibilityUtils").canUsePACMixedFormat(e);return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();var d=c.thumbnailURL,i=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_THUMBNAIL_SOURCE),j=null;if(b("isFalsey")(d)){if(b("AdsAssetFeedUtils").isPACAdgroupFromSpec(a)){var k=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS);k=k&&k.find(function(a){a=a instanceof b("immutable").Map?a.get(b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID):a.video_id;return a===c.videoID});k!=null&&(d=k.get(b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL),i=k.get(b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_SOURCE),j=k.get(b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_HASH))}else d=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_URL);if(b("isFalsey")(d)){k=f(c.videoID);d=k&&k.preferredThumbnail&&k.preferredThumbnail.uri}}k=null;var l=c.placements.size===1&&b("adsContainsAssetCustomizationPlacement")(b("AdsInteractiveComponentConstants").SUPPORTED_PLACEMENTS,c.placements.get(0));l&&(k=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.INTERACTIVE_COMPONENTS_SPEC.path),!k&&b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a)&&(k=b("AdsPlacementAssetUtils").getDefaultPlacementInteractiveComponentsSpec(a)));l=b("nullthrows")(g.get(a.id));var m=l.campaign;l=l.specPlugin;m=b("AdsUEditorAdgroupVideoMutators").addPlacementCustomizationVideo(a,m,l,e,c.existingLabel,c.isBaseAsset,c.videoID,d,c.backgroundColor,(a=i)!=null?a:"generated_default",c.placements,"ADD_CUSTOMIZATION_VIDEO",!0,h,k,j);d=b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(m);return d?m:b("adsPlacementAssetMutationCopyDefaultCustomizations")(e,m,l,c.placements)})},b("AdsUEditorAdgroupAddCustomizationVideoDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupAddCustomizationWebsiteUrlReducerPlugin",["AdsMutators","AdsUEditorAdgroupAddCustomizationWebsiteUrlActionFlux","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupUrlMutators","adsPlacementAssetMutationConvertToPACSpecForAdditionalCustomizations","adsUEditorAccountSelector","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.account,f=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d=f.get(a.id);d||b("recoverableViolation")("[PAC] ParentData not be null when AdsUEditorAdgroupAddCustomizationWebsiteUrlReducerPlugin","csol_pac");a=b("adsPlacementAssetMutationConvertToPACSpecForAdditionalCustomizations")(a,d.specPlugin,e);var g={website_url:c.websiteUrl};return b("AdsUEditorAdgroupUrlMutators").addPlacementCustomizationUrl(a,d.specPlugin,c.placements,g,c.isDefaultPlacementAsset)})},b("AdsUEditorAdgroupAddCustomizationWebsiteUrlActionFlux").actionType)};e.exports=a}),null);
__d("DCOFastConsts",["immutable"],(function(a,b,c,d,e,f){"use strict";e.exports={RECOMMENDED_LENGTH:(a=b("immutable")).Map({bodies:90,descriptions:30,linkURLs:992,titles:25,displayURL:992}),MAX_LENGTH:a.Map({bodies:255,descriptions:255,linkURLs:992,titles:255,displayURL:992}),ASSET_LIMITS:a.Map({images:10,bodies:5,descriptions:5,videos:10,titles:5,linkURLs:1,callToActions:5,displayURL:1}),ASSET_MIN_REQUIRED:a.Map({SINGLE_IMAGE:a.Map({images:1,bodies:1,videos:0,descriptions:1,titles:1,linkURLs:1,callToActions:1}),CAROUSEL:a.Map({images:3,bodies:1,videos:0,descriptions:1,titles:2,linkURLs:1,callToActions:0}),SINGLE_VIDEO:a.Map({images:0,bodies:1,videos:1,descriptions:1,titles:1,linkURLs:1,callToActions:0})}),TOTAL_ASSET_LIMIT:30,CURRENT_SPREADSHEET_VERSION:5,AD_PREVIEW_CONSTS:a.Map({DEFAULT_MAX_CAROUSEL_IMAGES:10}),AD_PREVIEW_SIZE:a.Map({PREVIEW_DEFAULT_HEIGHT:500,PREVIEW_DEFAULT_WIDTH:520}),AVAILABLE_ADFORMATS:a.Map({SINGLE_IMAGE:"SINGLE_IMAGE",CAROUSEL:"CAROUSEL_IMAGE",SINGLE_VIDEO:"SINGLE_VIDEO"}),CAROUSEL_MIN_IMAGES:3,CAROUSEL_MAX_IMAGES:10}}),null);
__d("AdsUEditorAdgroupAddVideoAssetReducerPlugin",["AdsAPIAdAssetFeedVideosFields","AdsAPIAdgroupPaths","AdsAssetFeedMutationUtils","AdsLoadState_LEGACY","AdsMutators","AdsUEditorAdgroupAddVideoAssetDataActionFlux","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUnifiedCreativeAPIFields","AdsVideoStore","DCOFastConsts","immutable","isTruthy","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("DCOFastConsts").ASSET_LIMITS;a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData),getVideo:b("AdsVideoStore").getSelector},function(a,c,d){__p&&__p();var e,f=c.adgroupIDs,h=c.videoID;c=c.thumbnailURL;var i=d.parentData;d=d.getVideo;d=d(h);var j=b("immutable").Map((e={},e[b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID]=h,e));d!=null&&d.loadState!==b("AdsLoadState_LEGACY").LOADING?j=j.set(b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL,d.preferredThumbnail.uri):b("isTruthy")(c)&&(j=j.set(b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL,c));return b("AdsMutators").mutateEach(a,f,function(a){var c=b("nullthrows")(i.get(a.id));c=c.specPlugin;var d=(a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS)||b("immutable").List()).unshift(j).take(g.get("videos"));return b("AdsAssetFeedMutationUtils").setAssetsArrayInField(a,c,b("AdsUnifiedCreativeAPIFields").videoID,d.toArray())})},b("AdsUEditorAdgroupAddVideoAssetDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupChangeCustomizationImageMutatorsUtils",["AdsAPIAdAssetFeedImagesFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsDCOImageCropDoFUtils","AdsUEditorAdgroupImageMutators","AdsUnifiedCreativeAPIFields","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d,e,f){a=b("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,d,b("AdsAPIAdAssetFeedImagesFields").IMAGE_CROPS);return b("AdsAssetFeedMutationUtils").setImageAssetAtIndex(a,c,d,e,f)}function a(a){__p&&__p();var c=a.account,d=a.adgroup,e=a.specPathPlugin,f=a.hash,h=a.url,i=a.page;a=a.assetFeedLabel;if(!b("AdsAssetFeedUtils").hasPlacementCustomizationFromRecord(d)){c=b("AdsUEditorAdgroupImageMutators").setImage(c,f,h,null,null,null,null,d,e,i);i=b("AdsDCOImageCropDoFUtils").hasDoFSpecWithFAMToggleExpType(d);i&&(c=c.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.DEGREES_OF_FREEDOM_SPEC.path));return c}i=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(d.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES),b("AdsAPIAdAssetFeedImagesFields").ADLABELS,a,b("AdsAPIAdAssetFeedImagesFields").HASH).index;if(i==null)throw b("unrecoverableViolation")("asset with given label must exist in asset feed","csol_pac");c=b("AdsUEditorAdgroupImageMutators").isolateImageAssetWithLabel(d,e,i,a);d=c.adgroupWithIsolatedImageAsset;i=c.isolatedImageAssetIndex;a=g(d,e,i,f,h);a=b("AdsUEditorAdgroupImageMutators").removeDuplicateImageAssets(a,e);a=b("AdsUEditorAdgroupImageMutators").setImageThumbnail(null,null,null,a);return a}c={setCustomizationImage:a};e.exports=c}),null);
__d("AdsUEditorAdgroupChangeCustomizationImageReducerPlugin",["AdsMutators","AdsPageStore","AdsUEditorAdgroupChangeCustomizationImageDataActionFlux","AdsUEditorAdgroupChangeCustomizationImageMutatorsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","adsUEditorAccountSelector","isTruthy","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),getPage:b("AdsPageStore").getSelector,plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.account,f=d.getPage,g=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){var h=c.hash,i=c.url;d=b("nullthrows")(g.get(d));var j=b("AdsUnifiedCreativeAPIFields").pageID.getValue(a,d);j=b("isTruthy")(j)?f(j):null;return b("AdsUEditorAdgroupChangeCustomizationImageMutatorsUtils").setCustomizationImage({account:e,adgroup:a,specPathPlugin:d,hash:h,url:i,page:j,assetFeedLabel:c.label})})},b("AdsUEditorAdgroupChangeCustomizationImageDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupChangeCustomizationImageToVideoReducerPlugin",["AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedUtils","AdsMutators","AdsPlacementAssetTargetingRuleUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupChangeCustomizationImageToVideoDataActionFlux","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupVideoMutators","AdsVideoStore","StorifyEligibilityUtils","adsPlacementAssetCopyCustomizationsToPlacement","adsPlacementAssetMutationCopyDefaultCustomizations","adsPlacementAssetMutationRemoveCustomizationImage","adsUEditorAccountSelector","immutable","isFalsey","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),getVideo:b("AdsVideoStore").getSelector,parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.account,f=d.getVideo,g=d.parentData;d=f(c.videoID);var h=c.thumbnailURL;b("isFalsey")(h)&&d!=null&&d.preferredThumbnail!=null&&(h=d.preferredThumbnail.uri);var i=b("StorifyEligibilityUtils").canUsePACMixedFormat(e);return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();var d=b("nullthrows")(g.get(a.id)),f=d.campaign;d=d.specPlugin;var j=b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a)?b("AdsPlacementAssetTargetingRuleUtils").getTargetRuleWithLabelField(a,b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL,c.existingLabel):null,k=b("immutable").Map();j!=null&&(j.has(b("AdsAPIAdAssetTargetRuleFields").LINK_URL_LABEL)&&(k=k.set(b("AdsAPIAdAssetTargetRuleFields").LINK_URL_LABEL,j.get(b("AdsAPIAdAssetTargetRuleFields").LINK_URL_LABEL))));j=b("adsPlacementAssetMutationRemoveCustomizationImage")(a,d,c.existingLabel,"REMOVE_CUSTOMIZATION_IMAGE",!1,!1);a=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_THUMBNAIL_SOURCE);j=b("AdsUEditorAdgroupVideoMutators").addPlacementCustomizationVideo(j,f,d,e,null,!1,c.videoID,h,null,(f=a)!=null?f:"generated_default",c.placements,"CHANGE_IMAGE_TO_VIDEO",!0,i);j=b("adsPlacementAssetMutationCopyDefaultCustomizations")(e,j,d,c.placements);j=b("adsPlacementAssetCopyCustomizationsToPlacement")(j,c.placements,k);return j})},b("AdsUEditorAdgroupChangeCustomizationImageToVideoDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupChangeMediaAssetReducerPlugin",["AdsAPIAdgroupPaths","AdsAssetFeedUtils","AdsMutators","AdsPlacementAssetTargetingRuleUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupChangeMediaAssetDataActionFlux","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsVideoStore","adsPlacementAssetMutationUpdateMediaAsset","adsUEditorAccountSelector","nullthrows","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAssetTargetingRuleUtils").getMediaAssetTypeFromTargetRuleLabel;a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),getVideo:b("AdsVideoStore").getSelector,parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.account,f=d.getVideo,h=d.parentData,i=c.asset;if(i.format==="video"){d=i.videoID;f=d!=null&&typeof d==="string"?f(d):null;d=i.thumbnailURL;if(d==null||d===""&&f!=null&&f.preferredThumbnail!=null){i.thumbnailURL=f==null?void 0:(d=f.preferredThumbnail)==null?void 0:d.uri;i.thumbnailSource="generated_default"}}return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();if(!b("AdsAssetFeedUtils").hasPlacementCustomizationFromSpec(a))return a;var d=g(a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),c.existingLabel);if(d==="carousel"){b("recoverableViolation")("Unexpected fromMediaType carousel in AdsUEditorAdgroupChangeMediaAssetReducerPlugin","csol_pac");return a}var f=b("nullthrows")(h.get(a.id));f=f.specPlugin;return b("adsPlacementAssetMutationUpdateMediaAsset")(e,a,f,c.existingLabel,d,i)})},b("AdsUEditorAdgroupChangeMediaAssetDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupConvertToAssetFeedReducerPlugin",["AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAssetFeedMutationUtils","AdsMutators","AdsPlacementAssetUtils","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupConvertToAssetFeedDataActionFlux","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","ApiDynamicCreativeOptimizationTypes","adsPlacementAssetMutationSetInitialTargetingRule","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){__p&&__p();var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();a=b("AdsUEditorAdgroupAssetFeedMutators").convertToAssetFeedSpec(b("AdsAPIAdgroupRecordUtils").getObjectType(a),a,null,c.optimizationType).setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("immutable").List.of(c.dcoAdFormat)).setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.OPTIMIZATION_TYPE,c.optimizationType);if(c.optimizationType==b("ApiDynamicCreativeOptimizationTypes").PLACEMENT){var d,f,g;d=(d=a.creative)==null?void 0:(d=d.asset_feed_spec)==null?void 0:d.images;f=(f=a.creative)==null?void 0:(f=f.asset_feed_spec)==null?void 0:f.videos;g=(g=a.creative)==null?void 0:(g=g.asset_feed_spec)==null?void 0:g.asset_customization_rules;if(c.placementTargeting&&(!g||g.size===0))if(f&&f.size===1){g=b("AdsPlacementAssetUtils").makeUniqueLabelNameForPlacementAsset();a=b("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(a,e.get(a.id),b("AdsUnifiedCreativeAPIFields").videoID,0,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,g);a=b("adsPlacementAssetMutationSetInitialTargetingRule")(a,b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL,g)}else if(d&&d.size===1){f=b("AdsPlacementAssetUtils").makeUniqueLabelNameForPlacementAsset();a=b("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(a,e.get(a.id),b("AdsUnifiedCreativeAPIFields").imageHash,0,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,f);a=b("adsPlacementAssetMutationSetInitialTargetingRule")(a,b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL,f)}}return a})},b("AdsUEditorAdgroupConvertToAssetFeedDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupDuplicateAddDefaultRuleReducerPlugin",["AdsAPIAdgroupPaths","AdsAssetFeedUtils","AdsCopyCopyCompletedAddDefaultRuleActionFlux","AdsMutators","AdsPlacementAssetTargetingRuleUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorHostIDs","adsAccountGK","adsUEditorAccountSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector")},function(a,c,d){__p&&__p();d=d.account;if(c.hostID!==b("AdsUEditorHostIDs").EDITING)return a;if(!b("adsAccountGK")._(d,"SWb5wYsa"))return a;d=b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){if(!b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a))return a;c=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES);c=b("AdsPlacementAssetTargetingRuleUtils").addDefaultPlacementToRules(c);return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,c)});return d},b("AdsCopyCopyCompletedAddDefaultRuleActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupDuplicatePAC1ToPAC2ReducerPlugin",["AdsCopyCopyCompletedDataActionFlux","AdsEditingAdgroupEditorContext","AdsMutators","AdsPlacementAssetEligibilityUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorHostIDs","adsPlacementAssetMutationConvertPhase1ToPhase2","adsUEditorAccountSelector","adsUEditorAdObjectsLoadObjectForSelectedAdgroupsSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),eligibilityInfoMap:b("AdsUEditorAdgroupSelectors").placementEligibilityInfoMap},function(a,c,d){__p&&__p();var e=d.account,f=d.eligibilityInfoMap;if(c.hostID!==b("AdsUEditorHostIDs").EDITING)return a;d=b("adsUEditorAdObjectsLoadObjectForSelectedAdgroupsSelector")(b("AdsEditingAdgroupEditorContext"));if(!d.isDone()||!d.hasValue())return a;var g=b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)(b("AdsEditingAdgroupEditorContext"));return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){if(g.get(c)==null||f.get(c)==null)return a;var d=g.get(c),h=d.campaign;d=d.campaignGroup;c=b("AdsPlacementAssetEligibilityUtils").shouldConvertPhase1ToPhase2(a,h,f.get(c));return c?b("adsPlacementAssetMutationConvertPhase1ToPhase2")(a,h,d,e):a})},b("AdsCopyCopyCompletedDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupEditCustomizationBodyAtIndexReducerPlugin",["AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetTargetRuleFields","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsMutators","AdsPlacementAssetTargetingRuleUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupBodyMutators","AdsUEditorAdgroupEditCustomizationBodyAtIndexActionFlux","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUnifiedCreativeAPIFields","adsPlacementAssetMutationConvertToPACSpecForAdditionalCustomizations","adsUEditorAccountSelector","immutable","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.account,f=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();var d,g,h=b("nullthrows")(f.get(a.id));h=h.specPlugin;var i=b("adsPlacementAssetMutationConvertToPACSpecForAdditionalCustomizations")(a,h,e),j=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromAssetCustomizationPlacement(i,c.placements,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL);d=(d=b("AdsUEditorAdgroupBodyMutators").getBodyAssetsFromLabel(i,j))!=null?d:b("immutable").List();g=(g=(g=i.creative)==null?void 0:(g=g.asset_feed_spec)==null?void 0:g.bodies)!=null?g:b("immutable").List();var k=g.findIndex(function(a){return a.get("text")===c.assetValue})!==-1;if(k){k=b("AdsAssetFeedFieldUtils").findAssetIndex(i,h,b("AdsUnifiedCreativeAPIFields").message,d.get(c.assetIndex));var l=b("AdsAssetFeedMutationUtils").isolateAssetWithLabel(i,h,b("AdsUnifiedCreativeAPIFields").message,k,b("AdsAPIAdAssetFeedBodiesFields").ADLABELS,j,!1),m=l.adgroupWithIsolatedAsset;l=l.isolatedAssetIndex;i=b("AdsAssetFeedMutationUtils").removeAssetAtIndex(m,h,b("AdsUnifiedCreativeAPIFields").message,l);g=(m=(m=i.creative)==null?void 0:(l=m.asset_feed_spec)==null?void 0:l.bodies)!=null?m:b("immutable").List();l=g.findIndex(function(a){return a.get("text")===c.assetValue});m=g.get(l).update(b("AdsAPIAdAssetFeedBodiesFields").ADLABELS,function(a){if(!(a instanceof b("immutable").List))throw b("unrecoverableViolation")("adlabels on title asset must be a list","ads_dynamic_creative_optimization");return a.push(b("immutable").Map((a={},a.name=j,a)))});g=g.splice(k+1,0,m);g=g["delete"](l>k?l+1:l);i=i.setIn(b("AdsUnifiedCreativeAPIFields").message.getPathOrThrow(a,h),g)}else{m=b("AdsAssetFeedFieldUtils").findAssetIndex(i,h,b("AdsUnifiedCreativeAPIFields").message,d.get(c.assetIndex));k=b("AdsAssetFeedMutationUtils").isolateAssetWithLabel(i,h,b("AdsUnifiedCreativeAPIFields").message,m,b("AdsAPIAdAssetFeedBodiesFields").ADLABELS,j,!0);l=k.adgroupWithIsolatedAsset;a=k.isolatedAssetIndex;i=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(l,h,b("AdsUnifiedCreativeAPIFields").message,a,b("AdsAPIAdAssetFeedBodiesFields").TEXT,c.assetValue)}return i})},b("AdsUEditorAdgroupEditCustomizationBodyAtIndexActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupEditCustomizationHeadlineAtIndexReducerPlugin",["AdsAPIAdAssetFeedTitlesFields","AdsAPIAdAssetTargetRuleFields","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsMutators","AdsPlacementAssetTargetingRuleUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupEditCustomizationHeadlineAtIndexActionFlux","AdsUEditorAdgroupHeadlineMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUnifiedCreativeAPIFields","adsPlacementAssetMutationConvertToPACSpecForAdditionalCustomizations","adsUEditorAccountSelector","immutable","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.account,f=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();var d,g,h=b("nullthrows")(f.get(a.id));h=h.specPlugin;var i=b("adsPlacementAssetMutationConvertToPACSpecForAdditionalCustomizations")(a,h,e),j=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromAssetCustomizationPlacement(i,c.placements,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL);d=(d=b("AdsUEditorAdgroupHeadlineMutators").getHeadlineAssetsFromLabel(i,j))!=null?d:b("immutable").List();g=(g=(g=i.creative)==null?void 0:(g=g.asset_feed_spec)==null?void 0:g.titles)!=null?g:b("immutable").List();var k=g.findIndex(function(a){return a.get("text")===c.assetValue})!==-1;if(k){k=b("AdsAssetFeedFieldUtils").findAssetIndex(i,h,b("AdsUnifiedCreativeAPIFields").headline,d.get(c.assetIndex));var l=b("AdsAssetFeedMutationUtils").isolateAssetWithLabel(i,h,b("AdsUnifiedCreativeAPIFields").headline,k,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,j,!1),m=l.adgroupWithIsolatedAsset;l=l.isolatedAssetIndex;i=b("AdsAssetFeedMutationUtils").removeAssetAtIndex(m,h,b("AdsUnifiedCreativeAPIFields").headline,l);g=(m=(m=i.creative)==null?void 0:(l=m.asset_feed_spec)==null?void 0:l.titles)!=null?m:b("immutable").List();l=g.findIndex(function(a){return a.get("text")===c.assetValue});m=g.get(l).update(b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,function(a){if(!(a instanceof b("immutable").List))throw b("unrecoverableViolation")("adlabels on title asset must be a list","ads_dynamic_creative_optimization");return a.push(b("immutable").Map((a={},a.name=j,a)))});g=g.splice(k+1,0,m);g=g["delete"](l>k?l+1:l);i=i.setIn(b("AdsUnifiedCreativeAPIFields").headline.getPathOrThrow(a,h),g)}else{m=b("AdsAssetFeedFieldUtils").findAssetIndex(i,h,b("AdsUnifiedCreativeAPIFields").headline,d.get(c.assetIndex));k=b("AdsAssetFeedMutationUtils").isolateAssetWithLabel(i,h,b("AdsUnifiedCreativeAPIFields").headline,m,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,j,!0);l=k.adgroupWithIsolatedAsset;a=k.isolatedAssetIndex;i=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(l,h,b("AdsUnifiedCreativeAPIFields").headline,a,b("AdsAPIAdAssetFeedTitlesFields").TEXT,c.assetValue)}return i})},b("AdsUEditorAdgroupEditCustomizationHeadlineAtIndexActionFlux").actionType)};e.exports=a}),null);
__d("AdsPlacementPositionGroupPluginList",["AdsPlacementExternalDisplayPositionGroupPlugin","AdsPlacementFeedPositionGroupPlugin","AdsPlacementInContextPositionGroupPlugin","AdsPlacementInStreamPositionGroupPlugin","AdsPlacementMessagingPositionGroupPlugin","AdsPlacementSearchPositionGroupPlugin","AdsPlacementStoryPositionGroupPlugin","immutable","memoize"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("memoize")(function(){return b("immutable").OrderedSet([b("AdsPlacementFeedPositionGroupPlugin"),b("AdsPlacementStoryPositionGroupPlugin"),b("AdsPlacementInStreamPositionGroupPlugin"),b("AdsPlacementSearchPositionGroupPlugin"),b("AdsPlacementMessagingPositionGroupPlugin"),b("AdsPlacementInContextPositionGroupPlugin"),b("AdsPlacementExternalDisplayPositionGroupPlugin")])});function h(a){var b=g();return a?b.filter(function(b){return b.isEnabled(a.capabilities)}):b}function i(a,b){var c=h(b).find(function(b){return b.key===a});return c.positions.filter(function(a){return a.isEnabled(b.capabilities)&&!a.getIneligibilityReason(b)})}function a(a,b){return i(a,b).map(function(a){return a.key})}e.exports={getEligiblePositionsFromPositionGroup:i,getEligiblePositionKeysFromPositionGroup:a,getOrderedPositionGroups:h}}),null);
__d("AdsUEditorAdgroupPlacementAddToCustomizationReducerPlugin",["AdsAdgroupTypeUtils","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedUtils","AdsCampaignPlacementAddToCustomizationDataActionFlux","AdsMutators","AdsPlacementAPISpecDefaultsUtils","AdsPlacementAssetEligibilityUtils","AdsPlacementAssetPluginUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementPositionGroupPluginList","AdsUEditorAdgroupReducerUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){__p&&__p();return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();if(!b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a))return a;var d=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),e="image";b("AdsAdgroupTypeUtils").isVideoAd(a)&&(e="video");var f=b("AdsPlacementAssetUtils").getFirstAssetLabels(a,e),g=a;if(f!=null&&f.size!==0){var h;if(c.positionKey!=null){var i=b("AdsPlacementAssetPluginUtils").getPositionPluginForPlacementPosition(c.positionKey);i!=null&&(h=[i])}else c.platformKey!=null?h=b("AdsPlacementAPISpecDefaultsUtils").getEligiblePositionPluginsForPlatform(c.platformKey,c.eligibilityInformation):c.positionGroupKey!=null&&(h=b("AdsPlacementPositionGroupPluginList").getEligiblePositionsFromPositionGroup(c.positionGroupKey,c.eligibilityInformation));if(h){i=h.map(function(a){return{platform:c.platformKey||a.platformKey,position:String(a.apiPosition)}});i=i.filter(function(a){return b("AdsPlacementAssetEligibilityUtils").isEligiblePlacementForPlacementAssetCustomizationPhase2(a,c.eligibilityInformation.capabilities)});d=b("AdsPlacementAssetTargetingRuleUtils").movePlacementsInTargetingRules(d||b("immutable").List(),e==="image"?b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL:b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL,f.first(),b("immutable").List(i)).updatedTargetingRules;g=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,d)}}return g})},b("AdsCampaignPlacementAddToCustomizationDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupPlacementRemoveFromCustomizationReducerPlugin",["AdsAssetFeedUtils","AdsMutators","AdsPlacementAPISpecDefaultsUtils","AdsPlacementAssetPluginUtils","AdsPlacementAssetUtils","AdsPlacementPositionGroupPluginList","AdsUEditorAdgroupPlacementRemoveFromCustomizationDataActionFlux","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","adsPlacementAssetMutationRemovePlacementFromCustomization","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){__p&&__p();var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();if(!b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a))return a;var f=b("nullthrows")(e.get(d)),g;if(c.positionKey){var h=b("AdsPlacementAssetPluginUtils").getPositionPluginForPlacementPosition(c.positionKey);h!=null&&(g=[h])}else c.platformKey!=null?g=b("AdsPlacementAPISpecDefaultsUtils").getEligiblePositionPluginsForPlatform(c.platformKey,c.eligibilityInformation):c.positionGroupKey!=null&&(g=b("AdsPlacementPositionGroupPluginList").getEligiblePositionsFromPositionGroup(c.positionGroupKey,c.eligibilityInformation));var i=a,j=c.adgroupIDToDefaultRulePlacementsMap!=null?c.adgroupIDToDefaultRulePlacementsMap.get(d):null;d=(h=i.creative)==null?void 0:(a=h.asset_feed_spec)==null?void 0:a.ad_formats;j=b("AdsPlacementAssetUtils").getFilteredSupportedPlacements(j,d);g!=null&&g.forEach(function(a){var d={platform:c.platformKey||a.platformKey,position:String(a.apiPosition)};i=b("adsPlacementAssetMutationRemovePlacementFromCustomization")(i,f,d,j);j!=null&&(j=j.filter(function(a){return a.platform!=d.platform||a.position!=d.position}))});return i})},b("AdsUEditorAdgroupPlacementRemoveFromCustomizationDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveAllCustomizationsReducerPlugin",["AdsAPIAdgroupPaths","AdsDCOImageCropDoFUtils","AdsMutators","AdsPageStore","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveAllCustomizationsDataActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","adsUEditorAccountSelector","isTruthy","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),getPage:b("AdsPageStore").getSelector,plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.account,f=d.getPage,g=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){c=b("nullthrows")(g.get(c));var d=b("AdsUnifiedCreativeAPIFields").pageID.getValue(a,c);d=b("isTruthy")(d)?f(d):null;d=b("AdsUEditorAdgroupMutators").removeImagesAndVideos(e,a,c,d);a=b("AdsDCOImageCropDoFUtils").hasDoFSpecWithFAMToggleExpType(a);a&&(d=d.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.DEGREES_OF_FREEDOM_SPEC.path));return b("AdsUEditorAdgroupAssetFeedMutators").removeAllMediaAssets(d,b("nullthrows")(c.pivots.objective),c)})},b("AdsUEditorAdgroupRemoveAllCustomizationsDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveCallToActionTypeAtIndexReducerPlugin",["AdsAPIOptimizationGoals","AdsAssetFeedMutationUtils","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveCallToActionTypeAtIndexDataActionFlux","AdsUEditorAdgroupSelectors","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d=b("nullthrows")(e.get(a.id)),f=d.campaignGroup,g=d.specPlugin,h=f.objective;return b("AdsMutators").chain(function(a){return b("AdsAssetFeedMutationUtils").removeAssetAtIndex(a,g,b("AdsUnifiedCreativeAPIFields").callToActionType,c.assetIndex)},function(a){return h!==b("AdsAPIOptimizationGoals").LEAD_GENERATION?a:b("AdsAssetFeedMutationUtils").removeAssetAtIndex(a,g,b("AdsUnifiedCreativeAPIFields").callToAction,c.assetIndex)})(a)})},b("AdsUEditorAdgroupRemoveCallToActionTypeAtIndexDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveCustomizationBodyAtIndexReducerPlugin",["AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetTargetRuleFields","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsMutators","AdsPlacementAssetTargetingRuleUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupBodyMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveCustomizationBodyAtIndexActionFlux","AdsUEditorAdgroupSelectors","AdsUnifiedCreativeAPIFields","adsUEditorAccountSelector","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();d.account;var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();var d,f=b("nullthrows")(e.get(a.id));f=f.specPlugin;var g=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromAssetCustomizationPlacement(a,c.placements,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL);d=(d=b("AdsUEditorAdgroupBodyMutators").getBodyAssetsFromLabel(a,g))!=null?d:b("immutable").List();d=b("AdsAssetFeedFieldUtils").findAssetIndex(a,f,b("AdsUnifiedCreativeAPIFields").message,d.get(c.assetIndex));a=b("AdsAssetFeedMutationUtils").isolateAssetWithLabel(a,f,b("AdsUnifiedCreativeAPIFields").message,d,b("AdsAPIAdAssetFeedBodiesFields").ADLABELS,g,!1);d=a.adgroupWithIsolatedAsset;g=a.isolatedAssetIndex;a=b("AdsAssetFeedMutationUtils").removeAssetAtIndex(d,f,b("AdsUnifiedCreativeAPIFields").message,g);return a})},b("AdsUEditorAdgroupRemoveCustomizationBodyAtIndexActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveCustomizationBodyReducerPlugin",["AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveCustomizationBodyActionFlux","AdsUEditorAdgroupSelectors","adsPlacementAssetMutationCopyDefaultCustomizations","adsUEditorAccountSelector","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.account,f=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d=b("nullthrows")(f.get(a.id));d=d.specPlugin;return b("adsPlacementAssetMutationCopyDefaultCustomizations")(e,a,d,c.placements)})},b("AdsUEditorAdgroupRemoveCustomizationBodyActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveCustomizationHeadlineAtIndexReducerPlugin",["AdsAPIAdAssetFeedTitlesFields","AdsAPIAdAssetTargetRuleFields","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsMutators","AdsPlacementAssetTargetingRuleUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupHeadlineMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveCustomizationHeadlineAtIndexActionFlux","AdsUEditorAdgroupSelectors","AdsUnifiedCreativeAPIFields","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();var d,f=b("nullthrows")(e.get(a.id));f=f.specPlugin;var g=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromAssetCustomizationPlacement(a,c.placements,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL);d=(d=b("AdsUEditorAdgroupHeadlineMutators").getHeadlineAssetsFromLabel(a,g))!=null?d:b("immutable").List();d=b("AdsAssetFeedFieldUtils").findAssetIndex(a,f,b("AdsUnifiedCreativeAPIFields").headline,d.get(c.assetIndex));a=b("AdsAssetFeedMutationUtils").isolateAssetWithLabel(a,f,b("AdsUnifiedCreativeAPIFields").headline,d,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,g,!1);d=a.adgroupWithIsolatedAsset;g=a.isolatedAssetIndex;a=b("AdsAssetFeedMutationUtils").removeAssetAtIndex(d,f,b("AdsUnifiedCreativeAPIFields").headline,g);return a})},b("AdsUEditorAdgroupRemoveCustomizationHeadlineAtIndexActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveCustomizationImageReducerPlugin",["AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveCustomizationImageDataActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","adsCreateAdAccountGKSelector","adsPlacementAssetMutationRemoveCustomizationImage","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({shouldUseDofWithImageOptType:b("adsCreateAdAccountGKSelector")._("duei9M2Yz"),plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.shouldUseDofWithImageOptType,f=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d=b("nullthrows")(f.get(a.id));return b("adsPlacementAssetMutationRemoveCustomizationImage")(a,d,c.label,"REMOVE_CUSTOMIZATION_IMAGE",!0,e)})},b("AdsUEditorAdgroupRemoveCustomizationImageDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveCustomizationVideoReducerPlugin",["AdsAPIAdAssetFeedVideosFields","AdsAssetFeedFieldUtils","AdsMutators","AdsPACSpecMutationAsyncLog","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveCustomizationVideoDataActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorAdgroupVideoMutators","adsPlacementAssetMutationRemoveCustomizationVideo","adsUEditorAccountSelector","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){__p&&__p();var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();var d;b("AdsPACSpecMutationAsyncLog").log(a,"REMOVE_VIDEO_START","REMOVE_CUSTOMIZATION_VIDEO");var f=b("nullthrows")(e.get(a.id));d=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((d=a.creative)==null?void 0:(d=d.asset_feed_spec)==null?void 0:d.videos,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,c.label,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID).index;if(d==null)throw b("unrecoverableViolation")("asset with given label must exist in asset feed","csol_pac");a=b("AdsUEditorAdgroupVideoMutators").isolateVideoAssetWithLabel(a,f,d,c.label);d=a.adgroupWithIsolatedVideoAsset;a=b("adsPlacementAssetMutationRemoveCustomizationVideo")(d,f,c.label);b("AdsPACSpecMutationAsyncLog").log(a,"REMOVE_VIDEO_END","REMOVE_CUSTOMIZATION_VIDEO");return a})},b("AdsUEditorAdgroupRemoveCustomizationVideoDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveImageAtIndexReducerPlugin",["AdsAssetFeedMutationUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveImageAtIndexDataActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsAssetFeedMutationUtils").removeAssetAtIndex(a,b("nullthrows")(e.get(a.id)),b("AdsUnifiedCreativeAPIFields").imageHash,c.assetIndex)})},b("AdsUEditorAdgroupRemoveImageAtIndexDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveLinkDescriptionAtIndexReducerPlugin",["AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsDCODegreesOfFreedomUtils","AdsMutators","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveLinkDescriptionAtIndexDataActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){d=b("AdsAssetFeedMutationUtils").removeAssetAtIndex(a,b("nullthrows")(e.get(a.id)),b("AdsUnifiedCreativeAPIFields").linkDescription,c.assetIndex);if(b("AdsDCODegreesOfFreedomUtils").isDOFAdgroupWithUniqueDOFAssets(d)){a=b("AdsAssetFeedUtils").isDofWithImageAdgroupFromRecord(a);d=b("AdsUEditorAdgroupAssetFeedMutators").convertFromDOFAssetFeedSpec(d,a)}return d})},b("AdsUEditorAdgroupRemoveLinkDescriptionAtIndexDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveLinkURLAtIndexReducerPlugin",["AdsAssetFeedMutationUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveLinkURLAtIndexDataActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsAssetFeedMutationUtils").removeAssetAtIndex(a,b("nullthrows")(e.get(a.id)),b("AdsUnifiedCreativeAPIFields").linkURL,c.assetIndex)})},b("AdsUEditorAdgroupRemoveLinkURLAtIndexDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveMessageAtIndexReducerPlugin",["AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetTargetRuleFields","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsDCODegreesOfFreedomUtils","AdsMutators","AdsPlacementAssetTargetingRuleUtils","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupBodyMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveMessageAtIndexDataActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){__p&&__p();var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();if(!b("AdsAssetFeedUtils").isPACAdgroupFromSpec(a)){d=b("AdsAssetFeedMutationUtils").removeAssetAtIndex(a,b("nullthrows")(e.get(a.id)),b("AdsUnifiedCreativeAPIFields").message,c.assetIndex);if(b("AdsDCODegreesOfFreedomUtils").isDOFAdgroupWithUniqueDOFAssets(d)){var f=b("AdsAssetFeedUtils").isDofWithImageAdgroupFromRecord(d);d=b("AdsUEditorAdgroupAssetFeedMutators").convertFromDOFAssetFeedSpec(d,f)}return d}f=a;d=b("AdsPlacementAssetTargetingRuleUtils").getDefaultTargetRuleLabel(f,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL);var g=b("AdsUEditorAdgroupBodyMutators").getBodyAssetsFromLabel(f,d);g=g!=null?g.get(c.assetIndex):null;if(g==null){b("recoverableViolation")("assetToRemove should never be null or undefined.","ads_dynamic_creative_optimization");return f}g=b("AdsAssetFeedFieldUtils").findAssetIndex(f,b("nullthrows")(e.get(f.id)),b("AdsUnifiedCreativeAPIFields").message,g);g=b("AdsAssetFeedMutationUtils").isolateAssetWithLabel(f,b("nullthrows")(e.get(a.id)),b("AdsUnifiedCreativeAPIFields").message,g,b("AdsAPIAdAssetFeedBodiesFields").ADLABELS,d);d=g.adgroupWithIsolatedAsset;g=g.isolatedAssetIndex;f=b("AdsAssetFeedMutationUtils").removeAssetAtIndex(d,b("nullthrows")(e.get(a.id)),b("AdsUnifiedCreativeAPIFields").message,g);return f})},b("AdsUEditorAdgroupRemoveMessageAtIndexDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemovePlatformCustomizationsReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemovePlatformCustomizationsDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path)})},b("AdsUEditorAdgroupRemovePlatformCustomizationsDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveVideoAtIndexReducerPlugin",["AdsAssetFeedMutationUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveVideoAtIndexDataActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsAssetFeedMutationUtils").removeAssetAtIndex(a,b("nullthrows")(e.get(a.id)),b("AdsUnifiedCreativeAPIFields").videoID,c.assetIndex)})},b("AdsUEditorAdgroupRemoveVideoAtIndexDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveVideoThumbnailAtIndexReducerPlugin",["AdsAPIAdAssetFeedVideosFields","AdsAssetFeedMutationUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveVideoThumbnailAtIndexDataActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(a,b("nullthrows")(e.get(a.id)),b("AdsUnifiedCreativeAPIFields").videoThumbnailURL,c.assetIndex,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL)})},b("AdsUEditorAdgroupRemoveVideoThumbnailAtIndexDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveWebsiteUrlAtIndexReducerPlugin",["AdsAssetFeedMutationUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveWebsiteURLAtIndexActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsAssetFeedMutationUtils").removeAssetAtIndex(a,b("nullthrows")(e.get(a.id)),b("AdsUnifiedCreativeAPIFields").linkURL,c.assetIndex)})},b("AdsUEditorAdgroupRemoveWebsiteURLAtIndexActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetCallToActionTypeAssetsReducerPlugin",["AdsAPIOptimizationGoals","AdsAssetFeedMutationUtils","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetCallToActionTypeAssetsDataActionFlux","AdsUnifiedCreativeAPIFields","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){a=b("AdsUnifiedCreativeAPIFields").callToAction.getValue(a,c);if(!(a instanceof b("immutable").List))return null;c=a.first().get("value");return c instanceof b("immutable").Map?c:null}function h(a,c){return a.map(function(a){var d;a=b("immutable").Map((d={},d.type=a,d));return c?a.set("value",c):a})}a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d=b("nullthrows")(e.get(a.id)),f=d.campaignGroup,i=d.specPlugin,j=f.objective;return b("AdsMutators").chain(function(a){return b("AdsAssetFeedMutationUtils").setAssetsArrayInField(a,i,b("AdsUnifiedCreativeAPIFields").callToActionType,c.callToActionTypes)},function(a){return j!==b("AdsAPIOptimizationGoals").LEAD_GENERATION?a:b("AdsAssetFeedMutationUtils").setAssetsArrayInField(a,i,b("AdsUnifiedCreativeAPIFields").callToAction,h(c.callToActionTypes,g(a,i)))})(a)})},b("AdsUEditorAdgroupSetCallToActionTypeAssetsDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetCallToActionTypeAtIndexReducerPlugin",["AdsAssetFeedMutationUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetCallToActionAtIndexDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsAssetFeedMutationUtils").setAssetAtIndex(a,b("nullthrows")(e.get(a.id)),b("AdsUnifiedCreativeAPIFields").callToActionType,c.assetIndex,c.callToActionType)})},b("AdsUEditorAdgroupSetCallToActionAtIndexDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetCreativeDoFTypeReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupCreativeSetDoFTypeDataActionFlux","AdsUEditorAdgroupReducerUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.DEGREES_OF_FREEDOM_SPEC.DEGREES_OF_FREEDOM_TYPE,c.dofType)})},b("AdsUEditorAdgroupCreativeSetDoFTypeDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetCustomizationImageBackgroundColorReducerPlugin",["AdsAPIAdAssetFeedImagesFields","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsMutators","AdsUEditorAdgroupImageMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetCustomizationImageBackgroundColorDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","immutable","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){__p&&__p();var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();var d,f=b("nullthrows")(e.get(a.id));d=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((d=a.creative)==null?void 0:(d=d.asset_feed_spec)==null?void 0:d.images,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,c.label,b("AdsAPIAdAssetFeedImagesFields").HASH).index;if(d==null)throw b("unrecoverableViolation")("asset with given label must exist in asset feed","csol_pac");var h=a;a=b("AdsUEditorAdgroupImageMutators").isolateImageAssetWithLabel(a,f,d,c.label);d=a.adgroupWithIsolatedImageAsset;a=a.isolatedImageAssetIndex;h=g(d,f,a,c.backgroundColor);h=b("AdsUEditorAdgroupImageMutators").removeDuplicateImageAssets(h,f);return h})},b("AdsUEditorAdgroupSetCustomizationImageBackgroundColorDataActionFlux").actionType)};function g(a,c,d,e){if(e!=null){var f,g;return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,d,b("AdsAPIAdAssetFeedImagesFields").PORTRAIT_CUSTOMIZATIONS,b("immutable").fromJS((g={},g.specifications=[(f={},f.background_color=e,f)],g)))}else return b("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,d,b("AdsAPIAdAssetFeedImagesFields").PORTRAIT_CUSTOMIZATIONS)}e.exports=a}),null);
__d("AdsUEditorAdgroupSetCustomizationImageCropsReducerPlugin",["AdImageSpecCropKeys","AdsAPIAdAssetFeedImagesFields","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsMutators","AdsUEditorAdgroupImageMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetCustomizationImageCropsDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","immutable","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){__p&&__p();var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();var d,f=b("nullthrows")(e.get(a.id));d=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((d=a.creative)==null?void 0:(d=d.asset_feed_spec)==null?void 0:d.images,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,c.label,b("AdsAPIAdAssetFeedImagesFields").HASH).index;if(d==null)throw b("unrecoverableViolation")("asset with given label must exist in asset feed","csol_pac");a=b("AdsUEditorAdgroupImageMutators").isolateImageAssetWithLabel(a,f,d,c.label);d=a.adgroupWithIsolatedImageAsset;a=a.isolatedImageAssetIndex;d=g(d,f,a,c.crops);d=b("AdsUEditorAdgroupImageMutators").removeDuplicateImageAssets(d,f);return d})},b("AdsUEditorAdgroupSetCustomizationImageCropsDataActionFlux").actionType)};function g(a,c,d,e){var f=Object.keys(e);if(f.length===0||f.length===1&&e[b("AdImageSpecCropKeys").NO_CROP])return b("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,d,b("AdsAPIAdAssetFeedImagesFields").IMAGE_CROPS);else return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,d,b("AdsAPIAdAssetFeedImagesFields").IMAGE_CROPS,b("immutable").fromJS(e))}e.exports=a}),null);
__d("AdsUEditorAdgroupSetCustomizationVideoBackgroundColorReducerPlugin",["AdsAPIAdAssetFeedVideosFields","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetCustomizationVideoBackgroundColorDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorAdgroupVideoMutators","AdsUnifiedCreativeAPIFields","immutable","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){__p&&__p();var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();var d,f=b("nullthrows")(e.get(a.id));d=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((d=a.creative)==null?void 0:(d=d.asset_feed_spec)==null?void 0:d.videos,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,c.label).index;if(d==null)throw b("unrecoverableViolation")("asset with given label must exist in asset feed","csol_pac");var h=a;a=b("AdsUEditorAdgroupVideoMutators").isolateVideoAssetWithLabel(a,f,d,c.label);d=a.adgroupWithIsolatedVideoAsset;a=a.isolatedVideoAssetIndex;h=g(d,f,a,c.backgroundColor);h=b("AdsUEditorAdgroupVideoMutators").removeDuplicateVideoAssets(h,f);return h})},b("AdsUEditorAdgroupSetCustomizationVideoBackgroundColorDataActionFlux").actionType)};function g(a,c,d,e){if(e!=null){var f,g;return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").videoID,d,b("AdsAPIAdAssetFeedVideosFields").PORTRAIT_CUSTOMIZATIONS,b("immutable").fromJS((g={},g.specifications=[(f={},f.background_color=e,f)],g)))}else return b("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").videoID,d,b("AdsAPIAdAssetFeedVideosFields").PORTRAIT_CUSTOMIZATIONS)}e.exports=a}),null);
__d("AdsUEditorAdgroupSetDeepLinkURLAtIndexReducerPlugin",["AdsAPIAdAssetFeedLinkURLsFields","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetDeepLinkURLAtIndexDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","immutable","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d,e){__p&&__p();var f=b("AdsUnifiedCreativeAPIFields").linkURL.getValue(a,c);f===void 0&&(f=b("immutable").List());if(!(f instanceof b("immutable").List))throw b("unrecoverableViolation")("this function must be invoked on an asset feed field","csol_pac");if(d<0||d>f.count())throw b("unrecoverableViolation")("assetIndex should be non-negative and no greater than the asset count","csol_pac");d===f.count()&&(f=f.set(d,b("immutable").Map()));f=f.update(d,function(a){return a.set(b("AdsAPIAdAssetFeedLinkURLsFields").DEEPLINK_URL,e)});return a.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,c),f)}a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d=g(a,b("nullthrows")(e.get(a.id)),c.assetIndex,c.deepLinkURL);return b("AdsAssetFeedUtils").isPACAdgroupFromRecord(d)?b("AdsAssetFeedMutationUtils").removeDuplicateAssets(d,b("nullthrows")(e.get(a.id)),b("AdsUnifiedCreativeAPIFields").linkURL,b("AdsAPIAdAssetFeedLinkURLsFields").ADLABELS):d})},b("AdsUEditorAdgroupSetDeepLinkURLAtIndexDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetHeadlineAtIndexReducerPlugin",["AdsAPIAdAssetFeedTitlesFields","AdsAPIAdAssetTargetRuleFields","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsMutators","AdsPlacementAssetTargetingRuleUtils","AdsUEditorAdgroupHeadlineMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetHeadlineAtIndexDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","adsPlacementAssetMutationConvertToPACSpecForAdditionalCustomizations","adsUEditorAccountSelector","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){__p&&__p();var e=d.account,f=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();var d;if(!b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a))return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,b("nullthrows")(f.get(a.id)),b("AdsUnifiedCreativeAPIFields").headline,c.assetIndex,b("AdsAPIAdAssetFeedTitlesFields").TEXT,c.headline);var g=b("adsPlacementAssetMutationConvertToPACSpecForAdditionalCustomizations")(a,b("nullthrows")(f.get(a.id)),e),h=b("AdsPlacementAssetTargetingRuleUtils").getDefaultTargetRuleLabel(g,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL);d=(d=b("AdsUEditorAdgroupHeadlineMutators").getHeadlineAssetsFromLabel(g,h))!=null?d:b("immutable").List();if(d.size===c.assetIndex){var i=d.size>=1?d.get(d.size-1):null;i=i!=null?b("AdsAssetFeedFieldUtils").findAssetIndex(g,b("nullthrows")(f.get(g.id)),b("AdsUnifiedCreativeAPIFields").headline,i):-1;g=b("AdsAssetFeedMutationUtils").insertAssetFieldAtIndex(a,b("nullthrows")(f.get(a.id)),b("AdsUnifiedCreativeAPIFields").headline,i+1,b("AdsAPIAdAssetFeedTitlesFields").TEXT,c.headline);g=b("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(g,f.get(g.id),b("AdsUnifiedCreativeAPIFields").headline,i+1,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,h);if(c.headline==="")return g}else if(c.assetIndex===0)g=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,b("nullthrows")(f.get(a.id)),b("AdsUnifiedCreativeAPIFields").headline,c.assetIndex,b("AdsAPIAdAssetFeedTitlesFields").TEXT,c.headline);else{i=d.get(c.assetIndex);d=b("AdsAssetFeedFieldUtils").findAssetIndex(g,b("nullthrows")(f.get(g.id)),b("AdsUnifiedCreativeAPIFields").headline,i);i=b("AdsAssetFeedMutationUtils").isolateAssetWithLabel(g,b("nullthrows")(f.get(a.id)),b("AdsUnifiedCreativeAPIFields").headline,d,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,h,!0);d=i.adgroupWithIsolatedAsset;h=i.isolatedAssetIndex;g=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(d,b("nullthrows")(f.get(a.id)),b("AdsUnifiedCreativeAPIFields").headline,h,b("AdsAPIAdAssetFeedTitlesFields").TEXT,c.headline)}g=b("AdsAssetFeedMutationUtils").removeDuplicateAssets(g,b("nullthrows")(f.get(a.id)),b("AdsUnifiedCreativeAPIFields").headline,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS);return g})},b("AdsUEditorAdgroupSetHeadlineAtIndexDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetImageAssetsReducerPlugin",["AdsAPIAdgroupPaths","AdsAssetFeedMutationUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetImageAssetsDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES),f=c.imageAssets.map(function(a){var b=d&&d.find(function(b){return a.isSubset(b)});return b?b:a});return b("AdsAssetFeedMutationUtils").setAssetsArrayInField(a,e.get(a.id),b("AdsUnifiedCreativeAPIFields").imageHash,f)})},b("AdsUEditorAdgroupSetImageAssetsDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetImageAtIndexReducerPlugin",["AdsAssetFeedMutationUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetImageAtIndexDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsAssetFeedMutationUtils").setImageAssetAtIndex(a,e.get(a.id),c.assetIndex,c.imageHash,c.imageURL)})},b("AdsUEditorAdgroupSetImageAtIndexDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetImageCropsAtIndexReducerPlugin",["AdImageSpecCropKeys","AdsAPIAdAssetFeedImagesFields","AdsAssetFeedMutationUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetImageCropsAtIndexDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d=b("nullthrows")(e.get(a.id)),f=c.crops,g=Object.keys(f);return g.length===0||g.length===1&&f[b("AdImageSpecCropKeys").NO_CROP]?b("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(a,d,b("AdsUnifiedCreativeAPIFields").imageHash,c.assetIndex,b("AdsAPIAdAssetFeedImagesFields").IMAGE_CROPS):b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,d,b("AdsUnifiedCreativeAPIFields").imageHash,c.assetIndex,b("AdsAPIAdAssetFeedImagesFields").IMAGE_CROPS,b("immutable").fromJS(f))})},b("AdsUEditorAdgroupSetImageCropsAtIndexDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetImageMasterVariantReducerPlugin",["AdsMutators","AdsPageStore","AdsPlacementAPISpecReaderUtils","AdsPlacementAssetUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupImageMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetImageMasterVariantDataActionFlux","AdsUnifiedCreativeAPIFields","adsUEditorAccountSelector","isTruthy","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),getPage:b("AdsPageStore").getSelector,parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.account,f=d.getPage,g=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();var d=b("nullthrows")(g.get(a.id)),h=d.campaign,i=d.specPlugin;d=b("AdsUnifiedCreativeAPIFields").pageID.getValue(a,i);d=b("isTruthy")(d)?f(d):null;a=b("AdsUEditorAdgroupImageMutators").setImage(e,c.imageHash,c.imageURL,c.platform,c.thumbnailURL,c.thumbnailHeight,c.thumbnailWidth,a,i,d,null);var j=b("AdsPlacementAPISpecReaderUtils").convertCampaignRecordToPlacementSpec(h);return c.variants.reduce(function(a,c){__p&&__p();var d=b("AdsPlacementAssetUtils").coerceAssetCustomizationGroup(c.placement_type);if(!d)return a;var f=b("AdsPlacementAssetUtils").getPlacementsFromAssetGroup(d);if(!f)return a;f=f.filter(function(a){var c=a.platform;a=a.position;return b("AdsPlacementAPISpecReaderUtils").isActivePosition(j,c,a)});return f.size===0?a:b("AdsUEditorAdgroupImageMutators").addPlacementCustomizationImage({adgroup:a,sourceReducer:"SET_IMAGE_MASTER_VARIANT",campaign:h,specPlugin:i,adAccount:e,assetGroup:d,imageHash:c.hash,crops:c.variant_crop,placementList:f})},a)})},b("AdsUEditorAdgroupSetImageMasterVariantDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetLeadGenFormAtIndexReducerPlugin",["AdsAPIAdAssetFeedLinkURLsFields","AdsAssetFeedMutationUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetLeadGenFormAtIndexDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","immutable","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="https://fb.me/";function h(a,c,d){var e=b("AdsUnifiedCreativeAPIFields").callToAction.getValue(a,c);e===void 0&&(e=b("immutable").List());if(!(e instanceof b("immutable").List))throw b("unrecoverableViolation")("this function must be invoked on an asset feed field","csol_pac");e=e.map(function(a){return a.set("value",d)});return a.setIn(b("AdsUnifiedCreativeAPIFields").callToAction.getPathOrThrow(a,c),e)}a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d;d=h(a,b("nullthrows")(e.get(a.id)),b("immutable").Map((d={},d.lead_gen_form_id=c.formID,d)));return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(d,b("nullthrows")(e.get(a.id)),b("AdsUnifiedCreativeAPIFields").linkURL,0,b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL,g)})},b("AdsUEditorAdgroupSetLeadGenFormAtIndexDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetMessageAtIndexReducerPlugin",["AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetTargetRuleFields","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsMutators","AdsPlacementAssetTargetingRuleUtils","AdsUEditorAdgroupBodyMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetMessageAtIndexDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","adsPlacementAssetMutationConvertToPACSpecForAdditionalCustomizations","adsUEditorAccountSelector","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){__p&&__p();var e=d.account,f=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();var d;if(!b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a))return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,b("nullthrows")(f.get(a.id)),b("AdsUnifiedCreativeAPIFields").message,c.assetIndex,b("AdsAPIAdAssetFeedBodiesFields").TEXT,c.message);var g=b("adsPlacementAssetMutationConvertToPACSpecForAdditionalCustomizations")(a,b("nullthrows")(f.get(a.id)),e),h=b("AdsPlacementAssetTargetingRuleUtils").getDefaultTargetRuleLabel(g,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL);d=(d=b("AdsUEditorAdgroupBodyMutators").getBodyAssetsFromLabel(g,h))!=null?d:b("immutable").List();if(d.size===c.assetIndex){var i=d.size>=1?d.get(d.size-1):null;i=i!=null?b("AdsAssetFeedFieldUtils").findAssetIndex(g,b("nullthrows")(f.get(g.id)),b("AdsUnifiedCreativeAPIFields").message,i):-1;g=b("AdsAssetFeedMutationUtils").insertAssetFieldAtIndex(g,b("nullthrows")(f.get(a.id)),b("AdsUnifiedCreativeAPIFields").message,i+1,b("AdsAPIAdAssetFeedBodiesFields").TEXT,c.message);g=b("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(g,f.get(g.id),b("AdsUnifiedCreativeAPIFields").message,i+1,b("AdsAPIAdAssetFeedBodiesFields").ADLABELS,h);if(c.message==="")return g}else if(c.assetIndex===0)g=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(g,b("nullthrows")(f.get(a.id)),b("AdsUnifiedCreativeAPIFields").message,c.assetIndex,b("AdsAPIAdAssetFeedBodiesFields").TEXT,c.message);else{i=d.get(c.assetIndex);d=b("AdsAssetFeedFieldUtils").findAssetIndex(g,b("nullthrows")(f.get(g.id)),b("AdsUnifiedCreativeAPIFields").message,i);i=b("AdsAssetFeedMutationUtils").isolateAssetWithLabel(g,b("nullthrows")(f.get(a.id)),b("AdsUnifiedCreativeAPIFields").message,d,b("AdsAPIAdAssetFeedBodiesFields").ADLABELS,h,!0);d=i.adgroupWithIsolatedAsset;h=i.isolatedAssetIndex;g=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(d,b("nullthrows")(f.get(a.id)),b("AdsUnifiedCreativeAPIFields").message,h,b("AdsAPIAdAssetFeedBodiesFields").TEXT,c.message)}g=b("AdsAssetFeedMutationUtils").removeDuplicateAssets(g,b("nullthrows")(f.get(a.id)),b("AdsUnifiedCreativeAPIFields").message,b("AdsAPIAdAssetFeedBodiesFields").ADLABELS);return g})},b("AdsUEditorAdgroupSetMessageAtIndexDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupImageVariationMutators",["AdsAPIAdgroupPaths"],(function(a,b,c,d,e,f){"use strict";function a(a){return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.DEGREES_OF_FREEDOM_SPEC.DEGREES_OF_FREEDOM_TYPE,"USER_ENROLLED_NON_DCO").setIn(b("AdsAPIAdgroupPaths").CREATIVE.DEGREES_OF_FREEDOM_SPEC.IMAGE_TRANSFORMATION_TYPES,["CROPPING"])}function c(a){return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.DEGREES_OF_FREEDOM_SPEC.path)}d={addImageCropOptimizationFileds:a,removeImageCropOptimizationFileds:c};e.exports=d}),null);
__d("AdsUEditorAdgroupSetMultiCustomizationImagesReducerPlugin",["AdsAPIAdgroupPaths","AdsAssetFeedUtils","AdsImageAspectRatioUtils","AdsMutators","AdsPageStore","AdsPlacementAssetUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupImageMutators","AdsUEditorAdgroupImageVariationMutators","AdsUEditorAdgroupMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetMultiCustomizationImagesDataActionFlux","AdsUnifiedCreativeAPIFields","adsPlacementAssetMutationCopyDefaultCustomizations","adsUEditorAccountSelector","adsUEditorPlacementCustomizationCanUseMixedFormatsSelector","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){return a&&b("AdsAssetFeedUtils").hasPlacementCustomizationFromRecord(c)&&!b("AdsAssetFeedUtils").hasPlacementCustomizationAutomaticFormat(c)?c.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("immutable").List.of("AUTOMATIC_FORMAT")):c}a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),canUseMixedFormats:b("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector"),getPage:b("AdsPageStore").getSelector,parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.account,f=d.canUseMixedFormats,h=d.getPage,i=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();var d=c.customizationMap,j=c.isAutoCropOptimizationEnabled,k=b("nullthrows")(i.get(a.id)),l=k.campaign,m=k.specPlugin;k=b("AdsUnifiedCreativeAPIFields").pageID.getValue(a,m);k=k!=null?h(k):null;d=d.entrySeq().map(function(a){var d=a[0];a=a[1];return{aspectRatioType:d,imageInfo:a,placements:b("AdsPlacementAssetUtils").getPlacementsFromAssetGroups(c.assetGroups.get(d,b("immutable").List([])))}}).filter(function(a){var b=a.imageInfo;a=a.placements;return b&&!a.isEmpty()}).toArray();var n=b("AdsImageAspectRatioUtils").getDefaultAspectRatio(d.map(function(a){a=a.aspectRatioType;return a})),o=d.find(function(a){a=a.aspectRatioType;return a===n});d=d.filter(function(a){a=a.aspectRatioType;return a!==n});var p=a;p=b("AdsUEditorAdgroupMutators").removeImagesAndVideos(e,p,m,k);p=b("AdsUEditorAdgroupAssetFeedMutators").removeAllMediaAssets(p,b("nullthrows")(m.pivots.objective),m);if(o){a=o.imageInfo;o=a.hash;var q=a.url;a=a.crops;p=b("AdsUEditorAdgroupImageMutators").setImage(e,o,q,null,null,null,null,p,m,k,a)}d.forEach(function(c){var d=c.imageInfo;c=c.placements;var f=d.hash,a=d.url;d=d.crops;p=b("AdsUEditorAdgroupImageMutators").addPlacementCustomizationImage({adgroup:p,sourceReducer:"MULTI_CUSTOMIZATION_IMAGE",campaign:l,specPlugin:m,adAccount:e,imageHash:f,imageURL:a,crops:d,placementList:c});f=b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(p);f||(p=b("adsPlacementAssetMutationCopyDefaultCustomizations")(e,p,m,c));j&&(p=b("AdsUEditorAdgroupImageVariationMutators").addImageCropOptimizationFileds(p))});return g(f,p)})},b("AdsUEditorAdgroupSetMultiCustomizationImagesDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetPlatformVideoIDReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetPlatformVideoIDDataActionFlux","AdsVideoStore","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({getVideo:b("AdsVideoStore").getSelector},function(a,c,d){__p&&__p();var e=d.getVideo,f=[].concat(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,[c.platform]),g=[].concat(f,["image_hash"]),h=[].concat(f,["image_url"]),i=[].concat(f,["thumbnail_source"]),j=[].concat(f,["video_id"]);return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();a=a;a=a.deleteIn(g);if(c.videoID!=null){var d=e(c.videoID);a=a.setIn(j,c.videoID);d=b("getByPath")(d,["preferredThumbnail","uri"]);a=a.setIn(i,"generated_default");return a.setIn(h,d)}return a.deleteIn(j).deleteIn(h).deleteIn(i).deleteIn([].concat(f,["caption_ids"]))})},b("AdsUEditorAdgroupSetPlatformVideoIDDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetPlatformVideoImageUrlReducerPlugin",["AdsAPIAdgroupPaths","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetPlatformVideoImageUrlDataActionFlux"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("AdsMutators")).chain,h=a.deleteIn,i=a.mutateEach,j=a.setIn;c={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){var d=c.platform,e=[].concat(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,[d]);return i(a,c.adgroupIDs,g(function(a){return j([].concat(e,["image_url"]),c.imageURL,a)},function(a){var b;return j([].concat(e,["thumbnail_source"]),(b=c.thumbnailSource)!=null?b:"generated_default",a)},function(a){return h([].concat(e,["image_hash"]),a)}))},b("AdsUEditorAdgroupSetPlatformVideoImageUrlDataActionFlux").actionType)};e.exports=c}),null);
__d("AdsUEditorAdgroupSetTargetingRuleForImageReducerPlugin",["AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedMutationUtils","AdsMutators","AdsPlacementAssetUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetTargetingRuleForImageDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d,e=c.image,f=e.get(b("AdsAPIAdAssetFeedImagesFields").HASH)?b("AdsAPIAdAssetFeedImagesFields").HASH:b("AdsAPIAdAssetFeedImagesFields").URL;e=e.get(f);var g=b("AdsPlacementAssetUtils").updateTargetingRuleForAsset(a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL,e,c.targeting);d=b("AdsAssetFeedMutationUtils").updateAdLabelForField((d=a.creative)==null?void 0:(d=d.asset_feed_spec)==null?void 0:d.images,f,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,e,e);return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES,d).setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,g)})},b("AdsUEditorAdgroupSetTargetingRuleForImageDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetTargetingRuleForVideoReducerPlugin",["AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedMutationUtils","AdsMutators","AdsPlacementAssetUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetTargetingRuleForVideoDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d,e=c.videoAsset;e=e.get(b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID);var f=b("AdsPlacementAssetUtils").updateTargetingRuleForAsset(a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL,e,c.targeting);d=b("AdsAssetFeedMutationUtils").updateAdLabelForField((d=a.creative)==null?void 0:(d=d.asset_feed_spec)==null?void 0:d.videos,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,e,e);return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS,d).setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,f)})},b("AdsUEditorAdgroupSetTargetingRuleForVideoDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetVideoAssetsReducerPlugin",["AdsAssetFeedMutationUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetVideoAssetsDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return b("AdsAssetFeedMutationUtils").setAssetsArrayInField(a,e.get(a.id),b("AdsUnifiedCreativeAPIFields").videoID,c.videoAssets)})},b("AdsUEditorAdgroupSetVideoAssetsDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetVideoAtIndexReducerPlugin",["AdsAPIAdAssetFeedVideosFields","AdsAssetFeedMutationUtils","AdsLoadState_LEGACY","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetVideoAtIndexDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","AdsVideoStore","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin),getVideo:b("AdsVideoStore").getSelector},function(a,c,d){var e=d.plugins;d=d.getVideo;var f=c.videoID,g=c.assetIndex,h=f?d(f):null;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var c=b("nullthrows")(e.get(a.id));a=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").videoID,g,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID,f);h!=null&&h.loadState!==b("AdsLoadState_LEGACY").LOADING&&(a=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").videoThumbnailURL,g,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL,h.preferredThumbnail.uri));return a})},b("AdsUEditorAdgroupSetVideoAtIndexDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetVideoCaptionIDsAtIndexReducerPlugin",["AdsAPIAdAssetFeedVideosFields","AdsAssetFeedMutationUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetVideoCaptionIDsAtIndexDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d=c.captionIDs,f=c.assetIndex;f=f;var g=b("nullthrows")(e.get(a.id));a=a;d&&d.length!==0?a=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,g,b("AdsUnifiedCreativeAPIFields").videoID,f,b("AdsAPIAdAssetFeedVideosFields").CAPTION_IDS,b("immutable").List(d)):a=b("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(a,g,b("AdsUnifiedCreativeAPIFields").videoID,f,b("AdsAPIAdAssetFeedVideosFields").CAPTION_IDS);return a})},b("AdsUEditorAdgroupSetVideoCaptionIDsAtIndexDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetVideoCaptionIDsForLabelReducerPlugin",["AdsAPIAdAssetFeedVideosFields","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsMutators","AdsUEditorAdgroupMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetVideoCaptionIDsForLabelDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","immutable","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){__p&&__p();var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();var f,g=c.captionIDs;if(!b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a))return b("AdsUEditorAdgroupMutators").setVideoCaptionIDs(a,e.get(d),g);f=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((f=a.creative)==null?void 0:(f=f.asset_feed_spec)==null?void 0:f.videos,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,c.label,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID).index;if(f==null)throw b("unrecoverableViolation")("asset with given label must exist in asset feed","csol_pac");d=b("nullthrows")(e.get(d));a=a;g&&g.length!==0?a=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,d,b("AdsUnifiedCreativeAPIFields").videoID,f,b("AdsAPIAdAssetFeedVideosFields").CAPTION_IDS,b("immutable").List(g)):a=b("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(a,d,b("AdsUnifiedCreativeAPIFields").videoID,f,b("AdsAPIAdAssetFeedVideosFields").CAPTION_IDS);return a})},b("AdsUEditorAdgroupSetVideoCaptionIDsForLabelDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetVideoIDsReducerPlugin",["AdsAPIAdAssetFeedVideosFields","AdsAPIAdgroupPaths","AdsAssetFeedMutationUtils","AdsLoadState_LEGACY","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetVideoIDsDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","AdsVideoStore","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin),getVideo:b("AdsVideoStore").getSelector},function(a,c,d){__p&&__p();var e=d.plugins,f=d.getVideo,g=c.videoIDs.map(function(a){var c=a!=null?f(a):null;a=b("immutable").Map().set(b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID,a);c!=null&&c.loadState!==b("AdsLoadState_LEGACY").LOADING&&(a=a.set(b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL,c.preferredThumbnail.uri),a=a.set(b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_SOURCE,"generated_default"));return a});return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var c=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS),d=new Map();c&&(d=new Map(c.map(function(a){return[a.get(b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID),a]})));c=g.map(function(a){var c=a.get(b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID);c=d.get(c);return c?c:a});return b("AdsAssetFeedMutationUtils").setAssetsArrayInField(a,e.get(a.id),b("AdsUnifiedCreativeAPIFields").videoID,c)})},b("AdsUEditorAdgroupSetVideoIDsDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetVideoThumbnailAtIndexReducerPlugin",["AdsAPIAdAssetFeedVideosFields","AdsAssetFeedMutationUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetVideoThumbnailAtIndexDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,b("nullthrows")(e.get(a.id)),b("AdsUnifiedCreativeAPIFields").videoThumbnailURL,c.assetIndex,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_SOURCE,c.videoThumbnailSource);return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(d,b("nullthrows")(e.get(a.id)),b("AdsUnifiedCreativeAPIFields").videoThumbnailURL,c.assetIndex,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL,c.videoThumbnailURL)})},b("AdsUEditorAdgroupSetVideoThumbnailAtIndexDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetWebsiteUrlAtIndexReducerPlugin",["AdsAdgroupTypeUtils","AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdgroupRecordUtils","AdsAPICampaignGroupRecordUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetWebsiteURLAtIndexDataActionFlux","AdsUEditorCampaignAdObjectsUtils","AdsUEditorWebsiteMutators","AdsUnifiedCreativeAPIFields","ApiAdObjectTypes","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();d=b("nullthrows")(e.get(d));var f=d.campaign,g=d.campaignGroup;d=d.specPlugin;var h=g.objective,i=b("AdsAPICampaignGroupRecordUtils").getPromotedObjectPageID(g);f=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:f,campaignGroup:g});if(!b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a))throw b("unrecoverableViolation")("action should only be fired from ad groups that use asset feeds","csol_pac");if(c.destinationType==="WEBSITE")return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,d,b("AdsUnifiedCreativeAPIFields").linkURL,c.assetIndex,b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL,c.websiteURL);g=b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(b("AdsAdgroupTypeUtils").isVideoAd(a)?b("ApiAdObjectTypes").VIDEO:b("AdsAPIAdgroupRecordUtils").getObjectType(a),a,h);return b("AdsUEditorWebsiteMutators").setWebsiteURL({websiteURL:c.websiteURL,adgroup:g,campaignGroupPromotedPageID:i,objective:h,promotedObjectType:f,specPlugin:d})})},b("AdsUEditorAdgroupSetWebsiteURLAtIndexDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupUpdateCustomizationVideoReducerPlugin",["AdsMutators","AdsUEditorAdgroupMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorAdgroupUpdateCustomizationVideoDataActionFlux","AdsVideoStore","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsUEditorAdgroupMutators").setCustomizationVideo;a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({getVideo:b("AdsVideoStore").getSelector,plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.getVideo,f=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var d,h=c.isBaseAsset,i=c.videoID,j=c.thumbnailURL,k=c.thumbnailSource,l=b("nullthrows")(f.get(a.id)),m=c.videoID!=null?e(c.videoID):null;d=m==null?void 0:(d=m.preferredThumbnail)==null?void 0:d.uri;return g({adgroup:a,videoID:i,specPathPlugin:l,actionThumbnailURL:j,preferredThumbnailURL:d,thumbnailSource:k,video:m,isBaseAsset:h,label:c.label})})},b("AdsUEditorAdgroupUpdateCustomizationVideoDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorPACAdgroupImageOptimizationReducerPlugin",["AdsAccountStore","AdsMutators","AdsUEditorAdgroupImageVariationMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorPACAdgroupImageOptimizationDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({account:b("AdsAccountStore").getSelectedAccount,plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){if(c.imageOptimizationEnabled)return b("AdsUEditorAdgroupImageVariationMutators").addImageCropOptimizationFileds(a);else return b("AdsUEditorAdgroupImageVariationMutators").removeImageCropOptimizationFileds(a)})},b("AdsUEditorPACAdgroupImageOptimizationDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetBrandedContentSponsorPageReducerPlugin",["AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetBrandedContentSponsorPageDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.setIn(b("AdsUnifiedCreativeAPIFields").brandedContentSponsorPageID.getPathOrThrow(a,b("nullthrows")(e.get(a.id))),c.pageID)})},b("AdsUEditorAdgroupSetBrandedContentSponsorPageDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorDCOAdgroupSetBrandedContentSponsorPageReducerPlugin",["AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorDCOAdgroupSetBrandContentPageDataActionFlux","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){return a.setIn(b("AdsUnifiedCreativeAPIFields").brandedContentSponsorPageID.getPathOrThrow(a,b("nullthrows")(e.get(a.id))),c.brandedContentSponsorPageID)})},b("AdsUEditorDCOAdgroupSetBrandContentPageDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUnifiedCreativeFieldPathResolvers",["AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdgroupPaths","AdsAPICallToActionPaths","AdsAppUtils","AdsAssetFeedUtils","AdsCreativeSpecTypes","AdsImageUtils","AdsObjectStorySpecUtils","AdsObjectTypeUtils","ApiAdObjectTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return b("AdsObjectTypeUtils").getCreativeSpecType(a)}function h(a){return!!(a==null?void 0:(a=a.creative)==null?void 0:a.object_story_spec)}a=function(a){if(!h(a))return null;a=g(a);return b("AdsObjectStorySpecUtils").getPaths(a).display_url};c=function(a){if(!h(a))return null;a=g(a);return b("AdsObjectStorySpecUtils").getPaths(a).eventID};d=function(a,c,d){__p&&__p();var e=g(a);if(e===b("AdsCreativeSpecTypes").STANDARD)return b("AdsAPIAdgroupPaths").CREATIVE.TITLE;if(!h(a))return null;a=c.objective;if(b("AdsAppUtils").isAppObjective(a,d))if(e===b("AdsCreativeSpecTypes").VIDEO_DATA)return b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.TITLE;else if(e!==b("AdsCreativeSpecTypes").TEMPLATE_DATA)return b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.NAME;return b("AdsObjectStorySpecUtils").getPaths(e).headline};f=function(a){return b("AdsImageUtils").getImageHashPath(a)};var i=function(a){var c;c=a==null?void 0:(c=a.creative)==null?void 0:c.object_type;if(c===b("ApiAdObjectTypes").DOMAIN)return b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_URL;c=g(a);if(c===b("AdsCreativeSpecTypes").STANDARD)return b("AdsAPIAdgroupPaths").CREATIVE.LINK_URL;return!h(a)?null:b("AdsObjectStorySpecUtils").getPaths(c).link},j=function(a){if(!h(a))return null;a=g(a);return b("AdsObjectStorySpecUtils").getPaths(a).link_description},k=function(a){var c=g(a);if(c===b("AdsCreativeSpecTypes").STANDARD)return b("AdsAPIAdgroupPaths").CREATIVE.BODY;return!h(a)?null:b("AdsObjectStorySpecUtils").getPaths(c).message},l=function(a){var c=g(a);return!h(a)?null:b("AdsObjectStorySpecUtils").getPaths(c).page_welcome_message},m=function(a){var c=g(a);if(c===b("AdsCreativeSpecTypes").STANDARD)return null;return!h(a)?null:b("AdsObjectStorySpecUtils").getPaths(c).call_to_action},n=function(a,c,d){a=m(a,c,d);return!a?null:[].concat(a,b("AdsAPICallToActionPaths").VALUE.LEAD_GEN_FORM_ID)},o=function(a,c,d){a=m(a,c,d);return!a?null:[].concat(a,b("AdsAPICallToActionPaths").VALUE.LINK)},p=function(a,c,d){var e=g(a);if(e===b("AdsCreativeSpecTypes").STANDARD)return b("AdsAPIAdgroupPaths").CREATIVE.CALL_TO_ACTION_TYPE;e=m(a,c,d);return!e?null:[].concat(e,b("AdsAPICallToActionPaths").TYPE)},q=function(a){var c=g(a);return!h(a)?null:b("AdsObjectStorySpecUtils").getPaths(c).retailer_item_ids},r=function(a,c,d){c=m(a,c,d);if(b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromSpec(a))return[].concat(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS,["0"],b("AdsAPIAdAssetFeedLinkURLsFields").DEEPLINK_URL);return!c?null:[].concat(c,b("AdsAPICallToActionPaths").VALUE.APP_LINK)},s=function(){return b("AdsAPIAdgroupPaths").CREATIVE.TEMPLATE_URL_SPEC.WEB.URL};r={appLink:r,callToAction:m,callToActionLeadGenFormID:n,callToActionType:p,callToActionValue:o,displayURL:a,eventID:c,headline:d,imageHash:f,link:i,linkDescription:j,message:k,pageWelcomeMessage:l,retailerItemIDs:q,websiteUrlDeepLink:s};e.exports=r}),null);
__d("AdsUEditorAdgroupAddChildAttachmentReducerPlugin",["AdsAdgroupChildAttachmentsFields","AdsAPIChildAttachmentPaths","AdsAPIObjectives","AdsAppUtils","AdsCallToActionTypesCond","AdsEditorMPAConstants","AdsLocalUtils","AdsMutators","AdsUEditorAdgroupAddChildAttachmentActionFlux","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorCampaignAdObjectsUtils","AdsUnifiedCreativeAPIFields","AdsUnifiedCreativeFieldPathResolvers","DeepRecordUtils","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d){c=b("AdsAdgroupChildAttachmentsFields").linkURL.get(c,d,0);return c.supported&&c.value?a.setIn(b("AdsAPIChildAttachmentPaths").LINK,c.value):a}function h(a,c,d,e){d=b("AdsUnifiedCreativeFieldPathResolvers").callToAction(c,d,e);e=d&&c.getIn(d);if(e){c=b("immutable").fromJS(b("DeepRecordUtils").clean(e).toJS());return a.setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.path,c)}return a}function i(a,c,d){var e=b("AdsUnifiedCreativeAPIFields").callToActionValue.getValue(c,d);e=e&&e.get("app_destination");c=b("AdsUnifiedCreativeAPIFields").eventID.getValue(c,d);return c||e?a.setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.EVENT_ID,c).setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.APP_DESTINATION,e):a}function j(a,c,d){var e=b("AdsUnifiedCreativeAPIFields").callToActionValue.getValue(c,d);if(e){e=e.get("whatsapp_number");e&&(a=a.setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.WHATSAPP_NUMBER,e))}e=b("AdsUnifiedCreativeAPIFields").headline.getValue(c,d);e&&(a=a.setIn(b("AdsAPIChildAttachmentPaths").NAME,e));return a}function k(a,c,d,e){if(e===b("AdsCallToActionTypesCond").TYPES.GET_DIRECTIONS.name){e=b("AdsUnifiedCreativeAPIFields").callToActionValue.getValue(c,d);if(e){c=e.get("link");c&&(a=a.setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.LINK,c))}}return a}a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){__p&&__p();var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();d=b("nullthrows")(e.get(d));var f=d.campaign,l=d.campaignGroup;d=d.specPlugin;var m=l.objective;f=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:f,campaignGroup:l});var n=b("AdsUnifiedCreativeAPIFields").childAttachments.getValue(a,d),o=b("AdsUnifiedCreativeAPIFields").childAttachments.getPath(a,d);if(!n||!o)return a;var p=b("AdsUnifiedCreativeAPIFields").callToActionType.getValue(a,d),q=g(b("immutable").Map(),a,d);c.isVideoFormat&&(q=q.setIn(b("AdsAPIChildAttachmentPaths").VIDEO_ID,b("AdsEditorMPAConstants").MPA_PLACEHOLDER_VIDEO_ID));m===b("AdsAPIObjectives").LEAD_GENERATION||b("AdsAppUtils").isAppObjective(m,f)||b("AdsLocalUtils").isLocalObjective(m)?(q=q.setIn(b("AdsAPIChildAttachmentPaths").LINK,b("AdsUnifiedCreativeAPIFields").linkURL.getValue(a,d)),q=h(q,a,l,f)):p&&(q=q.setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.TYPE,p),q=i(q,a,d),q=j(q,a,d),q=k(q,a,d,p));n=n.push(q);return a.setIn(o,n)})},b("AdsUEditorAdgroupAddChildAttachmentActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupAppendChildAttachmentReducerPlugin",["AdsAPIChildAttachmentPaths","AdsDynamicAdCustomizationConstants","AdsMutators","AdsUEditorAdgroupAppendChildAttachmentActionFlux","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){d=b("nullthrows")(e.get(d));var f=b("AdsUnifiedCreativeAPIFields").callToActionType.getValue(a,d),g=b("AdsUnifiedCreativeAPIFields").childAttachments.getValue(a,d);if(!g||!(g instanceof b("immutable").List))return a;var h=c.childSpecs.map(function(a){return b("immutable").fromJS(a).deleteIn(b("AdsAPIChildAttachmentPaths").STATIC_CARD).deleteIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.path)["delete"](b("AdsDynamicAdCustomizationConstants").CUSTOMIZATION_RULES_SPEC).setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.TYPE,f)});return a.setIn(b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(a,d),g.push.apply(g,h))})},b("AdsUEditorAdgroupAppendChildAttachmentActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveChildAttachmentReducerPlugin",["AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemoveChildAttachmentDataActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){d=b("nullthrows")(e.get(d));var f=b("AdsUnifiedCreativeAPIFields").childAttachments.getValue(a,d);if(!f)return a;f=f["delete"](c.index);return a.setIn(b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(a,d),f)})},b("AdsUEditorAdgroupRemoveChildAttachmentDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupRemovePlaceReducerPlugin",["AdsMutators","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupChildAttachmentsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupRemovePlaceDataDataActionFlux","AdsUEditorAdgroupSelectors"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData)},function(a,c,d){var e=d.parentData;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){var c=e.get(a.id),d=c.campaignGroup;c=c.specPlugin;d=d.objective;return b("AdsUEditorAdgroupChildAttachmentsMutators").removePlaceData(a,d,c)})},b("AdsUEditorAdgroupRemovePlaceDataDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupReorderChildAttachmentsReducerPlugin",["invariant","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupReorderChildAttachmentsDataActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){__p&&__p();var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){__p&&__p();var f=c.fromIndex,g=c.toIndex;d=b("nullthrows")(e.get(d));var h=b("AdsUnifiedCreativeAPIFields").childAttachments.getValue(a,d);if(!h)return a;var i=h.get(f),j=h.get(g);h=h.withMutations(function(a){return a.set(f,j).set(g,i)});d=b("AdsUnifiedCreativeAPIFields").childAttachments.getPath(a,d);return!d?a:a.setIn(d,h)})},b("AdsUEditorAdgroupReorderChildAttachmentsDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupReorderListChildAttachmentsReducerPlugin",["invariant","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupReorderListChildAttachmentsDataActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){__p&&__p();var e=c.adgroupIDs,f=c.childAttachmentIDs,g=d.plugins;return b("AdsMutators").mutateEach(a,e,function(a,c){__p&&__p();c=b("nullthrows")(g.get(c));var d=b("AdsUnifiedCreativeAPIFields").childAttachments.getValue(a,c);if(!d)return a;var e=f.map(function(a){return d.get(a)}),h=d.withMutations(function(a){return e.reduce(function(a,b,c){return a.set(c,b)},a)});c=b("AdsUnifiedCreativeAPIFields").childAttachments.getPath(a,c);return!c?a:a.setIn(c,h)})},b("AdsUEditorAdgroupReorderListChildAttachmentsDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupReplaceChildAttachmentReducerPlugin",["AdsAPIAdgroupRecordUtils","AdsAPIChildAttachmentPaths","AdsDynamicAdCustomizationConstants","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupReplaceChildAttachmentDataActionFlux","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){d=e.get(d);var f=b("AdsUnifiedCreativeAPIFields").callToActionType.getValue(a,d),g=b("AdsUnifiedCreativeAPIFields").childAttachments.getValue(a,d);if(!g)return a;g=b("immutable").fromJS(c.childSpec).deleteIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.path)["delete"](b("AdsDynamicAdCustomizationConstants").CUSTOMIZATION_RULES_SPEC).setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.TYPE,f);b("AdsAPIAdgroupRecordUtils").isTemplateCreative(a)&&(g=g.setIn(b("AdsAPIChildAttachmentPaths").STATIC_CARD,!0));return a.setIn(b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(a,d).concat(String(c.index)),g)})},b("AdsUEditorAdgroupReplaceChildAttachmentDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetChildCaptionIDsReducerPlugin",["AdsMutators","AdsUEditorAdgroupChildAttachmentsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetChildCaptionIDsDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){return b("AdsUEditorAdgroupChildAttachmentsMutators").setChildCaptionIDs(a,b("nullthrows")(e.get(d)),c.index,c.captionIDs)})},b("AdsUEditorAdgroupSetChildCaptionIDsDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetChildImageAndCropsReducerPlugin",["AdsAdgroupMultiProductMutatorUtils","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetChildImageAndCropsDataActionFlux"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({},function(a,c){return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){return b("AdsAdgroupMultiProductMutatorUtils").setChildImageAndCrops(c.index,c.childImageCrops,c.childImageHash,c.childImageURL,a,c.childThumbnailURL,c.childThumbnailHeight,c.childThumbnailWidth)})},b("AdsUEditorAdgroupSetChildImageAndCropsDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetChildImageURLReducerPlugin",["AdsMutators","AdsUEditorAdgroupChildAttachmentsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetChildImageURLDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){return b("AdsUEditorAdgroupChildAttachmentsMutators").setChildImageURL(a,b("nullthrows")(e.get(d)),c.index,c.imageURL)})},b("AdsUEditorAdgroupSetChildImageURLDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetChildMediaFormatReducerPlugin",["AdsMutators","AdsStoreUtils","AdsUEditorAdgroupCachedUIStore","AdsUEditorAdgroupCachedUtils","AdsUEditorAdgroupChildAttachmentsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetChildMediaFormatDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin),cachedStoreState:b("AdsStoreUtils").toSelector(b("AdsUEditorAdgroupCachedUIStore"))},function(a,c,d){var e=d.plugins,f=d.cachedStoreState;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){var g=b("nullthrows")(e.get(d));d=b("AdsUEditorAdgroupCachedUtils").getChildMediaFormatData(f,d,c.index);return b("AdsUEditorAdgroupChildAttachmentsMutators").setChildMediaFormat(a,g,c.index,c.mediaFormat,d)})},b("AdsUEditorAdgroupSetChildMediaFormatDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetChildPlaceDataLocationReducerPlugin",["AdsAdgroupChildAttachmentsFields","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetChildPlaceDataLocationDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","FBLogger","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins,f=c.index,g=c.addressString,h=c.latitude,i=c.longitude;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){c=b("nullthrows")(e.get(c));var d=b("AdsAdgroupChildAttachmentsFields").placeDataAddress.get(a,c,f),j=b("AdsAdgroupChildAttachmentsFields").placeDataLatitude.get(a,c,f);c=b("AdsAdgroupChildAttachmentsFields").placeDataLongitude.get(a,c,f);if(d.supported&&j.supported&&c.supported)return a.setIn(d.path,g).setIn(j.path,h).setIn(c.path,i);else b("FBLogger")("ads").mustfix("Some of the placeData card fields are not supported:addressField: %s, latitudeField: %s, longitudeField: %s",d.supported,j.supported,c.supported);return a})},b("AdsUEditorAdgroupSetChildPlaceDataLocationDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetChildTemplateVideoCustomizationReducerPlugin",["AdsAdgroupChildAttachmentsFields","AdsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetChildTemplateVideoCustomizationActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","immutable","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){__p&&__p();var e=d.plugins,f=c.childIndex,g=c.customization;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,c){__p&&__p();c=e.get(c);if(c==null){b("recoverableViolation")("failed to get specPathPlugin for adgroupID","dpa");return a}c=b("AdsAdgroupChildAttachmentsFields").templateVideoSpecCustomization.get(a,c,f);if(c.supported)return a.setIn(c.path,b("immutable").Map(g));b("recoverableViolation")("attempted to set template video spec customization on child, but field was not supported","dpa");return a})},b("AdsUEditorAdgroupSetChildTemplateVideoCustomizationActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetChildVideoIDReducerPlugin",["AdsMutators","AdsUEditorAdgroupChildAttachmentsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetChildVideoIDDataActionFlux","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({plugins:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin)},function(a,c,d){var e=d.plugins;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){return b("AdsUEditorAdgroupChildAttachmentsMutators").setChildVideoID(a,b("nullthrows")(e.get(d)),c.index,c.videoID,c.videoObj)})},b("AdsUEditorAdgroupSetChildVideoIDDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetPlaceReducerPlugin",["AdsMutators","AdsPageStore","AdsPlaceDataUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupChildAttachmentsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSetPlaceDataDataActionFlux","AdsUnifiedCreativeAPIFields","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({parentData:b("AdsUEditorAdgroupSelectors").adObjectsList.mapTransform(b("AdsUEditorAdgroupAdObjectsUtils").getParentAdObjectsExtraData),getPage:b("AdsPageStore").getSelector},function(a,c,d){__p&&__p();var e=d.parentData,f=d.getPage;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a){__p&&__p();var d=b("nullthrows")(e.get(a.id));d=d.specPlugin;var g=b("AdsUnifiedCreativeAPIFields").pageID.getValue(a,d);g=g?f(g):null;if(!g)return a;g=b("AdsPlaceDataUtils").initDefaultPlaceData(g,c.placeDataType);if(!g)return a;if(d.isDynamicProductCarouselAd(a))return b("AdsUEditorAdgroupChildAttachmentsMutators").appendPlaceData(a,g);var h=b("AdsUnifiedCreativeAPIFields").childAttachments.getValue(a,d);h||(h=b("immutable").List());h=h.filter(function(a){return a&&!a.get("place_data")});h=h.splice(c.index,0,g);g=a.setIn(b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(a,d),h);a=!!b("AdsUnifiedCreativeAPIFields").multiShareOptimized.getValue(g,d);a&&(g=g.setIn(b("AdsUnifiedCreativeAPIFields").multiShareOptimized.getPathOrThrow(g,d),!1));return g})},b("AdsUEditorAdgroupSetPlaceDataDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsUEditorAdgroupSetUseStaticCardReducerPlugin",["AdsMutators","AdsUEditorAdgroupChildAttachmentsMutators","AdsUEditorAdgroupReducerUtils","AdsUEditorAdgroupSetUseStaticCardDataActionFlux","adsCreateAdAccountGKSelector"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorAdgroupReducerUtils").createReducer({accountCanUseTemplateVideo:b("adsCreateAdAccountGKSelector")._("2h6naZzDi")},function(a,c,d){var e=d.accountCanUseTemplateVideo;return b("AdsMutators").mutateEach(a,c.adgroupIDs,function(a,d){return c.useStaticCard?b("AdsUEditorAdgroupChildAttachmentsMutators").addLeadingStaticCard(a,((d=c.templatePlugin)==null?void 0:d.supportsTemplateVideo)===!0&&e):b("AdsUEditorAdgroupChildAttachmentsMutators").removeLeadingStaticCard(a)})},b("AdsUEditorAdgroupSetUseStaticCardDataActionFlux").actionType)};e.exports=a}),null);
__d("AdsDynamicURLParametersUtil",["AdsAccountUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return b("AdsAccountUtils").hasCapabilityFromList(a,"DYNAMIC_URL_PARAMETERS_IDS")}function h(a){return b("AdsAccountUtils").hasCapabilityFromList(a,"DYNAMIC_URL_PARAMETERS_NAMES")}function i(a){return b("AdsAccountUtils").hasCapabilityFromList(a,"DYNAMIC_URL_PARAMETERS_PLACEMENTS")}function j(a){return b("AdsAccountUtils").hasCapabilityFromList(a,"DYNAMIC_URL_PARAMETERS_SITE_SOURCES")}function a(a){return g(a)||h(a)||i(a)||j(a)}e.exports={canUseIDsParameters:g,canUseNamesParameters:h,canUsePlacementsParameters:i,canUseSiteSourceNamesParameters:j,canUseDynamicParameters:a}}),null);
__d("AdsUEditorAdgroupWebsiteURLTagsBuilderUtils",["cx","fbt","AdsDynamicURLParametersUtil","AdsDynamicURLParameterTypes","AdsInterfacesLogEvents","AdsInterfacesLogger","PHPQuerySerializer","React","URI","ads-lib-urllib","immutable","keyMirror","mergeDeepInto"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l,m,n,o,p=(o=b("AdsDynamicURLParametersUtil")).canUseIDsParameters,q=o.canUseNamesParameters,r=o.canUsePlacementsParameters;o=o.canUseSiteSourceNamesParameters;var s=b("AdsInterfacesLogEvents").Event,t=b("keyMirror")({full_url_builder:null,url_parameter_builder:null}),u=h._("Build a URL Parameter"),v=b("keyMirror")({utm_source:null,utm_medium:null,utm_campaign:null,utm_content:null}),w=Object.keys(v);i=Object.freeze((i={},i[v.utm_source]=h._("Campaign Source"),i[v.utm_medium]=h._("Campaign Medium"),i[v.utm_campaign]=h._("Campaign Name"),i[v.utm_content]=h._("Campaign Content"),i));j=Object.freeze((j={},j[t.full_url_builder]=h._("URL Preview"),j[t.url_parameter_builder]=h._("Parameter Preview"),j));k=Object.freeze((k={},k[t.full_url_builder]="Ex: http://www.example.com?key1=value1&key2=value2",k[t.url_parameter_builder]="Ex: key1=value1&key2=value2",k));v=Object.freeze((l={},l[v.utm_source]=h._("To identify the source of traffic. For example: Facebook, Instagram, a search engine or other source."),l[v.utm_medium]=h._("To identify the advertising medium. For example: banner, email, Facebook_Feed or Instagram_Story."),l[v.utm_campaign]=h._("To identify a specific promotion or strategic campaign. For example: summer_sale."),l[v.utm_content]=h._("To differentiate ads or links that point to the same URL. For example: white_logo, black_logo."),l));l=Object.freeze({EMPTY_URL:h._("The website URL is required. Please complete the field to continue"),INVALID_URL:h._("The URL you provide is not valid. Please provide a valid URL and try again"),MISSING_PARAMKEY:h._("Please provide a name for your parameter value")});var x="={{ad.id}}";function y(a){var c=!1,d=b("immutable").List(),e=b("immutable").List(w.map(function(a){return{key:a,value:""}}));Object.keys(a).map(function(b){w.includes(b)?e=e.set(w.indexOf(b),{key:b,value:a[b]}):(c=!0,d=d.push({key:b,value:a[b]}))});return{customizedParameters:d,fixedFormParameters:e,isShown:c}}function a(a){return b("React").jsx("div",{className:"AdsUEditorAdgroupWebsiteURLTagsBuilderModal/errorSummary",children:h._({"*":{"*":"There are {=error} that need to be fixed."},"_1":{"_1":" There is {=error} that needs to be fixed."}},[h._plural(a),h._param("=error",b("React").jsx("span",{className:"_3h8x",children:h._({"*":"{number} errors","_1":"1 error"},[h._plural(a,"number")])})),h._plural(a)])})}function c(a,c,d,e,f){var g=null;c===s.ADGROUP_URL_BUILDER_MODAL_OPEN?g=JSON.stringify({current_url_value:e}):c===s.ADGROUP_URL_BUILDER_MODAL_CLOSE&&(g=JSON.stringify({old_url_value:e,new_url_value:f}));b("AdsInterfacesLogger").log({eventName:c,data:(e={},e.event_source=a,e.sub_event=d,e.changed_values=g,e)})}var z=[{eligibilityCheck:p,values:["{{campaign.id}}","{{adset.id}}","{{ad.id}}"]},{eligibilityCheck:q,values:["{{campaign.name}}","{{adset.name}}","{{ad.name}}"]},{eligibilityCheck:r,values:["{{placement}}"]},{eligibilityCheck:o,values:["{{site_source_name}}"],alternateValues:["[SITE_SOURCE_NAME]"]}],A=["{{campaign.name}}","{{adset.name}}","{{ad.name}}"];function B(a,b){b===void 0&&(b=!1);return z.filter(function(b){return b.eligibilityCheck(a)}).reduce(function(a,c){var d=c.alternateValues;c=c.values;return b&&d?a.concat(c).concat(d):a.concat(c)},[])}function d(a,c){__p&&__p();c=B(c,!0);var d=[],e=/{{([a-z_]+)(?:\.([a-z_]+))?}}|\[(SITE_SOURCE_NAME)\]/g,f=null;while(f=e.exec(a)){if(!Object.values(b("AdsDynamicURLParameterTypes")).includes(f[0]))continue;var g={rawParameter:f[0],objectType:(f[1]||f[3]).toLowerCase(),fieldType:f[2],supported:!1,frozen:!1};c.includes(f[0])&&(g.supported=!0);A.includes(g.rawParameter)&&(g.frozen=!0);d.push(g)}return d}function f(a){return!!a.find(function(a){return a.frozen&&a.supported})}var C={canSubmit:!1,customizedParameters:b("immutable").List(),errorMessages:{EMPTY_URL:{exist:!1,show:!1},INVALID_URL:{exist:!1,show:!1},MISSING_PARAMKEY:{exist:!1,show:{}}},fixedFormParameters:b("immutable").List(w.map(function(a){return{key:a,value:""}})),hoveringIdx:-1,isCustomizedFieldShown:!1,isURLBuilderDialogShown:!1,value:""};function g(a,c){var d={};b("mergeDeepInto")(d,a);d.MISSING_PARAMKEY.exist&&(delete d.MISSING_PARAMKEY.show[c],Object.keys(d.MISSING_PARAMKEY.show).map(function(a){a>c&&d.MISSING_PARAMKEY.show[a]&&(delete d.MISSING_PARAMKEY.show[a],d.MISSING_PARAMKEY.show[a-1]=!0)}),Object.keys(d.MISSING_PARAMKEY.show).length===0&&(d.MISSING_PARAMKEY.exist=!1));return babelHelpers["extends"]({},a,d)}function D(a,c){__p&&__p();var d=!1;c=c||"";var e=!1,f=b("immutable").List(),g=b("immutable").List(w.map(function(a){return{key:a,value:""}})),h={};b("mergeDeepInto")(h,C.errorMessages);if(a===t.full_url_builder)if(!c)h.EMPTY_URL={exist:!0,show:!1};else if(!b("ads-lib-urllib").isUrl(c))h.INVALID_URL={exist:!0,show:!1};else{d=!0;a=new(m||(m=b("URI")))(b("ads-lib-urllib").normalize(c));var i=a.getQueryData();if(i){var j=y(i);f=j.customizedParameters;g=j.fixedFormParameters;e=j.isShown}c=a.removeQueryData(Object.keys(i)).toString()}else if(c){d=!0;j=y((n||(n=b("PHPQuerySerializer"))).deserialize(c));f=j.customizedParameters;g=j.fixedFormParameters;e=j.isShown}f.size===0&&(f=f.push({key:"",value:""}));return{canSubmit:d,customizedParameters:f,errorMessages:babelHelpers["extends"]({},C.errorMessages,h),fixedFormParameters:g,isCustomizedFieldShown:e,value:c}}function E(a){return a.replace(/%7B%7B([a-z_]+).([a-z_]+)%7D%7D/g,(m||(m=b("URI"))).decodeComponent).replace(/%7B%7Bplacement%7D%7D/g,m.decodeComponent).replace(/%7B%7Bsite_source_name%7D%7D/g,m.decodeComponent)}var F=/[!\'()*\[\]]/g,G=/%20|%2B/g;function H(a){return a.replace(G,"+").replace(F,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}function I(a,c,d,e,f){__p&&__p();a=a===t.full_url_builder;if(d.EMPTY_URL.exist||d.INVALID_URL.exist)return"";if(a){if(!b("ads-lib-urllib").isUrl(c))return"";var g=new(m||(m=b("URI")))(b("ads-lib-urllib").normalize(c));e.forEach(function(a){a.value&&g.addQueryData(a.key,a.value)});f.forEach(function(a){a.key&&g.addQueryData(a.key,a.value)});return E(H(g.toString()))}else{var h={};e.forEach(function(a){a.value&&(h[a.key]=a.value)});f.forEach(function(a){a.key&&(h[a.key]=a.value)});return E(H((n||(n=b("PHPQuerySerializer"))).serialize(h)))}}e.exports={DEFAULT_STATE:C,DYNAMIC_PARAMETER_EXAMPLE:x,ERROR_MESSAGE:l,FIXED_FORM_LABEL:i,MODAL_HEADER:u,PREVIEW_LABEL:j,PREVIEW_PLACEHOLDER:k,URLBuilderEntryPoint:t,FIXED_FORM_SUB_BLURB:v,UTM_TYPEAHEAD_SOURCES_BY_CAPABILITY:z,anyParametersFrozen:f,buildErrorSummary:a,buildPreview:I,getDialogInitialState:D,getSupportedParams:B,getRawParametersFromURL:d,logDialogEvent:c,parseParameters:y,unescapeDynamicParameters:E,updateErrorMessageOnRemoveParam:g}}),null);
__d("AdsDialCodeCTASupportedPlacementsUtils",["AdsAPIDevicePlatform","AdsPlacementAPISpecReaderUtils","adsPlacementAPISpecReaderIsActivePublisherPlatform"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=b("AdsPlacementAPISpecReaderUtils").isActiveDevicePlatform(a.spec,b("AdsAPIDevicePlatform").MOBILE);a=b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(a.spec,"facebook");return c&&a};e.exports={hasSupportedPlacements:a}}),null);
__d("AdsReasonBindings",["DateConsts"],(function(a,b,c,d,e,f){"use strict";var g=(c=b("DateConsts")).SEC_PER_DAY*c.MS_PER_SEC;d=c.SEC_PER_HOUR+c.SEC_PER_MIN;var h=d*c.MS_PER_SEC;function a(a,b){if(a&&b)return Math.floor((b-a+h)/g);else return 0}f.getDaysBetween=a}),null);
__d("AdsAdBuilderUtils",["AdsAPIObjectives"],(function(a,b,c,d,e,f){"use strict";function a(a){return a===b("AdsAPIObjectives").WILDCARD_INTERNAL_ONLY}c={isWildcardObjective:a};e.exports=c}),null);
__d("AdsAuthorizationCategoryUtils",["AdsAPICampaignRecord","AdsLoadStateUtils_LEGACY","AdsTargetingCountryUtils","AdsTargetingUSTerritories","CurrencyConstants","PageAuthSettingsDataTypes","gkx","immutable","isFalsey"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PageAuthSettingsDataTypes").CountryCodes,h=["US"].concat(b("AdsTargetingUSTerritories").territories);function a(a,c){var d=b("immutable").Map().set(g.US,{isTargetingCountry:i(c,h),isAdAccountCountry:k(a)}).set(g.BR,{isTargetingCountry:i(c,[g.BR]),isAdAccountCountry:j(a)}).set(g.GB,{isTargetingCountry:i(c,[g.GB]),isAdAccountCountry:l(a)});b("gkx")("728036")&&(d=d.set(g.IN,{isTargetingCountry:i(c,[g.IN]),isAdAccountCountry:m(a)}));return d}function c(a){return a.creative?a.creative.authorization_category==="POLITICAL":!1}function i(a,c){if(!a||!a.targeting||!a.targeting.geo_locations)return!1;a=a instanceof b("AdsAPICampaignRecord")?a.targeting.geo_locations.toJS():a.targeting.geo_locations;var d=b("AdsTargetingCountryUtils").getUniqueCountries(a);return c.some(function(a){return d.includes(a)})}function d(a){return i(a,h)}function f(a){return i(a,[g.BR])}function j(a){if(a==null||!b("AdsLoadStateUtils_LEGACY").isLoaded(a))return!1;var c=a.business_country_code;a=a.currency;return a===b("CurrencyConstants").ISO_CURRENCY_BRAZILIAN_REAL?b("isFalsey")(c)||c===g.BR:!1}function k(a){return o(a,b("CurrencyConstants").ISO_CURRENCY_UNITED_STATES_DOLLAR)}function l(a){return o(a,b("CurrencyConstants").ISO_CURRENCY_BRITISH_POUND)}function m(a){return o(a,b("CurrencyConstants").ISO_CURRENCY_INDIAN_RUPEE)}function n(a){return k(a)||l(a)||m(a)?!0:!1}function o(a,c){return a==null||!b("AdsLoadStateUtils_LEGACY").isLoaded(a)?!1:a.currency===c}n={shouldCheckForInstagramAuthorization:n,hasAuthorizationCategory:c,isAdAccountBrazilian:j,isAdAccountUS:k,isTargetingUSAndTerritories:d,isTargetingBrazil:f,getCountryStatus:a};e.exports=n}),null);
__d("AdsInlinePostUtils",["AdsAPIObjectives"],(function(a,b,c,d,e,f){"use strict";c=[(a=b("AdsAPIObjectives")).LINK_CLICKS,a.CONVERSIONS];var g=[].concat(c,[a.BRAND_AWARENESS,a.OFFER_CLAIMS,a.POST_ENGAGEMENT,a.VIDEO_VIEWS]);d={getAPIObjectiveAllowsExistingPost:function(a){return g.includes(a)}};e.exports=d}),null);
__d("adsCallToActionIsCTASupportedByObjective",["AdsCallToActionTypesUtils"],(function(a,b,c,d,e,f){"use strict";function a(a,c){a=b("AdsCallToActionTypesUtils").typesForObjective(a);return a.some(function(a){return a.name===c})}e.exports=a}),null);
__d("AdsCampaignScheduleUtils",["DateConsts","DateTime","unixTimestampFromDate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={isCampaignOngoing:function(a,c){c=c.end_time;a=a==null?void 0:a.timezone_id;if(c){c=b("unixTimestampFromDate")(c);c=b("DateTime").fromLegacyArgs(c*b("DateConsts").MS_PER_SEC,a);a=b("DateTime").now(a);return a.getUnixTimestamp()<c.getUnixTimestamp()}return!0},isCampaignCompleted:function(a,b){return!g.isCampaignOngoing(a,b)}};e.exports=g}),null);
__d("AdsWhatsAppCTASupportedPlacementsUtils",["AdsAccountStore","AdsAPIDevicePlatform","AdsCampaignPlacementSetDataAction","AdsCampaignSetDevicePlatformDataAction","AdsPlacementAPISpecReaderUtils","AdsWhatsAppFeatureGating","adsPlacementAPISpecReaderIsActiveFacebookPosition"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){var c=b("AdsPlacementAPISpecReaderUtils").isActiveDevicePlatform(a.spec,b("AdsAPIDevicePlatform").MOBILE),d=b("adsPlacementAPISpecReaderIsActiveFacebookPosition")(a.spec,"feed"),e=b("AdsPlacementAPISpecReaderUtils").isActiveInstagramPosition(a.spec,"stream"),f=b("AdsAccountStore").getSelectedAccount().getValue();if(!b("AdsWhatsAppFeatureGating").canUseWhatsAppCTAOnMarketplacePlacement(f))return c&&(d||e);f=b("adsPlacementAPISpecReaderIsActiveFacebookPosition")(a.spec,"marketplace");return c&&(d||e||f)};c=function(a){__p&&__p();var c=b("AdsPlacementAPISpecReaderUtils").isOnlyActiveDevicePlatform(a.spec,b("AdsAPIDevicePlatform").MOBILE),d=b("AdsPlacementAPISpecReaderUtils").getAllActivePublisherPlatforms(a).every(function(a){return a==="facebook"||a==="instagram"});a=b("AdsPlacementAPISpecReaderUtils").getAllActiveEligiblePositions(a);var e=b("AdsAccountStore").getSelectedAccount().getValue();if(!b("AdsWhatsAppFeatureGating").canUseWhatsAppCTAOnMarketplacePlacement(e)){e=a.every(function(a){return a==="facebook/feed"||a==="instagram/stream"});return!c||!d||!e}e=a.every(function(a){return a==="facebook/feed"||a==="instagram/stream"||a==="facebook/marketplace"});return!c||!d||!e};d=function(a,c){var d=b("AdsPlacementAPISpecReaderUtils").isActiveDevicePlatform(c.spec,b("AdsAPIDevicePlatform").MOBILE);if(!d)b("AdsCampaignSetDevicePlatformDataAction").dispatch({ids:a,value:[b("AdsAPIDevicePlatform").DESKTOP,b("AdsAPIDevicePlatform").MOBILE],eligibilityInformation:c},{line:"111",module:"AdsWhatsAppCTASupportedPlacementsUtils.js"});else{d=["facebook/feed","instagram/stream"];var e=b("AdsAccountStore").getSelectedAccount().getValue();b("AdsWhatsAppFeatureGating").canUseWhatsAppCTAOnMarketplacePlacement(e)&&d.push("facebook/marketplace");b("AdsCampaignPlacementSetDataAction").dispatch({ids:a,removePlatforms:[],removeGroups:[],addGroups:d,eligibilityInformation:c},{line:"126",module:"AdsWhatsAppCTASupportedPlacementsUtils.js"})}};e.exports={addSupportedPlacements:d,hasSupportedPlacements:a,hasUnsupportedPlacements:c}}),null);
__d("AdsPlacementTestHelpers",["AdsAccountUtils","AdsAPICampaignRecord","AdsAPIObjectives","AdsBuyingTypes","AdsPromotedObjectTypes","LoadObject","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={imageAdsPreviewVideo:"1294653877303942",videoAdsPreviewVideo:"10150013094781918"};function a(a,c,d,e,f){return{type:"placements/platform",key:f||"platform/example",name:"Example",isEnabled:function(){return a},positions:b("immutable").OrderedSet(c||[]),apiPublisherPlatform:d,apiPositionsTargetField:e}}function c(a,c,d,e,f,g){e===void 0&&(e="feed");return{type:"placements/position",key:g||"position/example",name:"Example",nameWithPlatform:"Facebook Example Position",platformKey:"facebook",apiPosition:e,isEnabled:function(){return a},getIneligibilityReason:function(a){return c?null:{type:"GENERIC"}},getPlacementSpecificPreviewInfo:function(){return null},isActive:function(a){return d},isInactiveByDefault:f||void 0,positions:b("immutable").OrderedSet([])}}function d(a,c,d){return{type:"placements/position",key:d||"group/example",name:"Example",nameWithPlatform:"Facebook Example Position",platformKey:"facebook",apiPosition:"instream_video",isEnabled:function(){return a},isActive:function(a){return!0},positions:b("immutable").OrderedSet(c||[]),getIneligibilityReason:function(a){return null},getPlacementSpecificPreviewInfo:function(a){return b("AdsAccountUtils").hasCapabilityFromList(a,"CAN_SEE_INSTREAM_VIDEO_L2_IMAGE_PREVIEW")?g:null}}}function f(a){return babelHelpers["extends"]({capabilities:[],objective:b("AdsAPIObjectives").LINK_CLICKS,promotedObjectType:b("AdsPromotedObjectTypes").WEBSITE,buyingType:b("AdsBuyingTypes").AUCTION,spec:{}},a||{})}function h(a,c,d){c=b("immutable").Map({1:b("LoadObject").withValue(new(b("AdsAPICampaignRecord"))({id:"1",targeting:c}))});a=b("nullthrows")(a.adsetReducer);return a(c,{action:d}).get("1").getValue().toJS()}function i(a,b){return{formatType:a,categories:b}}e.exports={createExampleAdFormat:i,createExamplePlatformPlugin:a,createExamplePositionPlugin:c,createExampleEligibilityInformation:f,createFBInstreamVideoExampleGroupPlugin:d,InstreamPlacementFormatSpecificVideoPreviewInfo:g,testReducer:h}}),null);
__d("adsCacheFnUtils",["AdsDataAtom","isEmpty"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=function(a,c){var d=new Map(),e=function(){d=new Map()};(g||(g=b("isEmpty")))(c)?b("AdsDataAtom").register(e):c.map(function(a){return a.addListener(e)});return function(c){if(!b("AdsDataAtom").isDispatching()&&d.has(c))return d.get(c);d.set(c,a(c));return d.get(c)}};e.exports={adsCreateMultiCachedFn:a}}),null);
__d("getFieldPaths",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){var c=[],d=b||[];Object.keys(a).forEach(function(e){var b=d.concat(e);a[e]===null||typeof a[e]!=="object"?c.push(b):c=c.concat(g(a[e],b))});return c}e.exports=g}),null);
__d("isInvalidFacebookCapitalization",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=!!/(\s|^)\b(?!Facebook)[Ff][Aa][Cc][Ee][Bb][Oo][Oo][Kk]\b(?!.com)/.test(a);return a}e.exports=a}),null);
__d("adsReachFrequencyCreativeFormatGetNewCampaignState",["AdsAPITargetFields","AdsMutators","AdsPlacementAPISpecDefaultsUtils","AdsPlacementAPISpecWriterUtils","AdsReachFrequencyCreativeFormatPlugins"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f,g){__p&&__p();c=b("AdsReachFrequencyCreativeFormatPlugins").get(c);if(c){c=c.getNewCampaignState(a,d,e,f,g);return b("AdsMutators").mutateEach(c,a,function(a){var c=a.getIn(["targeting",b("AdsAPITargetFields").PUBLISHER_PLATFORMS]);c=c.reduce(function(a,c){return b("AdsPlacementAPISpecWriterUtils").recomputePublisherPlatform(a,c,e)},a);return c.setIn(["targeting",b("AdsAPITargetFields").DEVICE_PLATFORMS],b("AdsPlacementAPISpecDefaultsUtils").getDevicePlatforms(e))})}return d}e.exports=a}),null);
__d("AdsReachFrequencyCreativeFormatUtils",["invariant","AdsAPICampaignRecord","AdsBuyingTypes","AdsPlacementTestHelpers","AdsReachFrequencyCreativeFormatPlugins","AdsReachFrequencyRestrictedFormatTypes","FDSThreeStateCheckboxEnum","LoadObject","StrSet","adsCampaignGetID","adsPlacementAPISpecReaderIsActivePublisherPlatform","adsReachFrequencyCreativeFormatGetFormatLabels","adsReachFrequencyCreativeFormatGetNewCampaignState","adsReachFrequencyCreativeFormatIsSelectedFromFlags","getByPath","immutable","memoize"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsReachFrequencyRestrictedFormatTypes").RestrictedFormats,i=["UNSPECIFIED","CANVAS","VIDEO","VIDEO_360","PHOTO_360","STORIES_CAROUSEL"];a=function(a){a=new(b("AdsAPICampaignRecord"))(a);var c=b("adsCampaignGetID")(a);return b("immutable").Map([[c,b("LoadObject").creating().setValue(a)]])};var j=function(a,b){return b.get(a).getValueEnforcing()},k="store-state-with-ig",l=a({id:k,targeting:{publisher_platforms:["instagram"],instagram_positions:["story","stream"]}}),m={getReadableFormatsFromBitVector:function(a,c,d,e){return b("adsReachFrequencyCreativeFormatGetFormatLabels")(b("AdsReachFrequencyCreativeFormatPlugins").getArray().filter(function(b){var f=m.fromBitVector(a);return b.isEligible(c,d,e)&&m.getEffectiveValue(b,f,c,{},d)}),!0)},getFormatTypeFromPluginValue:function(a){switch(a){case 0:return h.UNSPECIFIED;case 128:return h.VIDEO;case 256:return h.CANVAS;case 512:return h.VIDEO_360;case 1024:return h.PHOTO_360;case 2048:return h.STORIES_CAROUSEL;default:g(0,12807)}},getFormatSpecsFromFlags:function(a,c,d,e,f){return b("AdsReachFrequencyCreativeFormatPlugins").getArray().sort(function(a,b){return i.findIndex(function(b){return b===a.key})-i.findIndex(function(a){return a===b.key})}).map(function(g){return{disabled:!g.isRequired(c,d,e),isEligible:g.isEligible(c,e,f),label:g.label,selectionStatus:m.getEffectiveValue(g,a,c,d,e)?b("FDSThreeStateCheckboxEnum").CHECKED:b("FDSThreeStateCheckboxEnum").UNCHECKED,tooltipContent:g.getTooltipContent(c,d,e),value:m.getFormatTypeFromPluginValue(g.value)}})},getIncompatibleFormatsForPost:function(a,c){return b("AdsReachFrequencyCreativeFormatPlugins").getArray().filter(function(b){return!m.isSelectedFromVector(b,c)&&b.isIncompatibleWithPost(a)})},isIncompatibleWithMockup:function(a,c){var d=c.story_event_type||0;return b("AdsReachFrequencyCreativeFormatPlugins").getArray().some(function(b){return!m.isSelectedFromVector(b,d)&&b.isIncompatibleWithMockup(a)})},isPagePostEligibleWithStoryEventType:function(a,b){return m.getIncompatibleFormatsForPost(a,b).length===0},isSelectedFormatFromVector:function(a,c){return m.isSelectedFromVector(b("AdsReachFrequencyCreativeFormatPlugins").get(a),c)},isSelectedFromVector:function(a,b){return!!(a.value&b)},isRequired:function(a,c,d){return b("AdsReachFrequencyCreativeFormatPlugins").get(a).isRequired(c,d)},getEffectiveValue:function(a,c,d,e,f){return a.isRequired(d,e,f)?b("adsReachFrequencyCreativeFormatIsSelectedFromFlags")(a,c):a.getDefaultValue(d,e,f)},areVectorsEqual:function(a,c,d,e){var f=m.fromBitVector(a),g=m.fromBitVector(c);return b("AdsReachFrequencyCreativeFormatPlugins").getArray().every(function(a){return m.getEffectiveValue(a,f,d,e)===m.getEffectiveValue(a,g,d,e)})},getErrorsForPost:function(a,c){return b("AdsReachFrequencyCreativeFormatPlugins").getArray().reduce(function(b,d){d=!m.isSelectedFromVector(d,a)&&d.isIncompatibleWithPost(c)?d.getErrors():[];return b.concat(d)},[])},getEffectiveVector:function(a,c,d){return b("AdsReachFrequencyCreativeFormatPlugins").getArray().reduce(function(b,e){var f;e.isRequired(c,d)?f=m.isSelectedFromVector(e,a)?e.value:0:f=e.getDefaultValue(c,d)?e.value:0;return b+f},0)},getDefaultVector:function(a,c,d){return b("AdsReachFrequencyCreativeFormatPlugins").getArray().reduce(function(b,e){return b+(e.getDefaultValue(a,c,d)?e.value:0)},0)},toBitVector:function(a){return b("AdsReachFrequencyCreativeFormatPlugins").getArray().reduce(function(c,d){return c+(b("adsReachFrequencyCreativeFormatIsSelectedFromFlags")(d,a)?d.value:0)},0)},fromBitVector:function(a){var c={canvasFlag:!1,photo360Flag:!1,video360Flag:!1,videoFlag:!1,storiesCarouselFlag:!1};b("AdsReachFrequencyCreativeFormatPlugins").getArray().forEach(function(b){b.key!=="UNSPECIFIED"&&(c[b.flag]=m.isSelectedFromVector(b,a))});return c},isSelectedFromEligibilityInfo:function(a,c){a=b("AdsReachFrequencyCreativeFormatPlugins").get(a);return b("getByPath")(c,["rfRestrictedFormatFlags",a.flag],!1)},isOnlySelectedFromFlags:function(a,c){return b("AdsReachFrequencyCreativeFormatPlugins").getArray().every(function(d){return d.value!==a&&!b("adsReachFrequencyCreativeFormatIsSelectedFromFlags")(d,c)||d.value===a&&b("adsReachFrequencyCreativeFormatIsSelectedFromFlags")(d,c)})},reduceFormatVector:function(a,c,d){var e=b("AdsReachFrequencyCreativeFormatPlugins").get(c);if(d===b("FDSThreeStateCheckboxEnum").CHECKED&&!m.isSelectedFromVector(e,a)){c=m.reduceFormatVectorForStoriesCarousel(a,c);return c+e.value}return d===b("FDSThreeStateCheckboxEnum").UNCHECKED&&m.isSelectedFromVector(e,a)?a-e.value:a},reduceFormatVectorForStoriesCarousel:function(a,b){if(b==="STORIES_CAROUSEL"){var c=a;m.isSelectedFormatFromVector("PHOTO_360",a)&&(c-=1024);m.isSelectedFormatFromVector("VIDEO_360",a)&&(c-=512);return c}if(b==="PHOTO_360"&&m.isSelectedFormatFromVector("STORIES_CAROUSEL",a))return a-2048;return b==="VIDEO_360"&&m.isSelectedFormatFromVector("STORIES_CAROUSEL",a)?a-2048:a},getAdFormatWithUpdatedCanvas:function(a,b,c){return a},changeHandler:function(a,c,d){b("AdsReachFrequencyCreativeFormatPlugins").get(a).onChange(c,d)},isIncompatibleWithInstagram:function(a){a=j(k,b("adsReachFrequencyCreativeFormatGetNewCampaignState")([k],a.key,l,b("AdsPlacementTestHelpers").createExampleEligibilityInformation({buyingType:b("AdsBuyingTypes").RESERVED,rfRestrictedFormatFlags:m.fromBitVector(a.value),promotedObjectType:"NONE"}),!0,!1)).toJS();return!b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(a.targeting,"instagram")},getIncompatibleFormatsWithInstagram:b("memoize")(function(){return new(b("StrSet"))(b("AdsReachFrequencyCreativeFormatPlugins").getArray().filter(function(a){return m.isIncompatibleWithInstagram(a)}).map(function(a){return a.key}))}),getIncompatibleFormatsWithIntagramForVector:function(a){return b("AdsReachFrequencyCreativeFormatPlugins").getArray().filter(function(b){return m.isSelectedFromVector(b,a)&&m.getIncompatibleFormatsWithInstagram().contains(b.key)})},getByID:j,getNewCampaignStoreState:a};e.exports=m}),null);
__d("adsReachFrequencyAdFormatsGetStoryEventTypeFromAdFormats",["AdsReachFrequencyAdFormatsConstants","React","adsReachFrequencyAdFormatsUtilsGetHasNonCanvasAdFormats"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsReachFrequencyAdFormatsConstants").AD_FORMATS_TO_RESTRICTED_FORMATS_MAP;function a(a){var c=a.reduce(function(a,b){return a|g[b.formatType]},0);return!b("adsReachFrequencyAdFormatsUtilsGetHasNonCanvasAdFormats")(a)?c|256:c}e.exports=a}),null);