if (self.CavalryLogger) { CavalryLogger.start_js(["EyYXN"]); }

__d("AdsInstagramCommentAddedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"INSTAGRAM_COMMENT.ADDED"}}),null);
__d("AdsInstagramCommentRemovedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"INSTAGRAM_COMMENT.REMOVED"}}),null);
__d("AdsInstagramMediaCommentsDisableDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"INSTAGRAM_MEDIA.DISABLE_COMMENTS"}}),null);
__d("AdsInstagramMediaCommentsDisableErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"INSTAGRAM_MEDIA.DISABLE_COMMENTS_ERROR");e.exports=a}),null);
__d("AdsInstagramMediaCommentsDisableErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"INSTAGRAM_MEDIA.DISABLE_COMMENTS_ERROR"}}),null);
__d("AdsInstagramMediaCommentsDisabledDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"INSTAGRAM_MEDIA.COMMENTS_DISABLED");e.exports=a}),null);
__d("AdsInstagramMediaCommentsDisabledDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"INSTAGRAM_MEDIA.COMMENTS_DISABLED"}}),null);
__d("AdsInstagramMediaCommentsEnableDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"INSTAGRAM_MEDIA.ENABLE_COMMENTS"}}),null);
__d("AdsInstagramMediaCommentsEnableErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"INSTAGRAM_MEDIA.ENABLE_COMMENTS_ERROR");e.exports=a}),null);
__d("AdsInstagramMediaCommentsEnableErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"INSTAGRAM_MEDIA.ENABLE_COMMENTS_ERROR"}}),null);
__d("AdsInstagramMediaCommentsEnabledDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"INSTAGRAM_MEDIA.COMMENTS_ENABLED");e.exports=a}),null);
__d("AdsInstagramMediaCommentsEnabledDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"INSTAGRAM_MEDIA.COMMENTS_ENABLED"}}),null);
__d("AdsInstagramMediaLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"INSTAGRAM_MEDIA.LOAD_ERROR");e.exports=a}),null);
__d("AdsInstagramMediaLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"INSTAGRAM_MEDIA.LOAD_ERROR"}}),null);
__d("AdsInstagramMediaLoadedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"INSTAGRAM_MEDIA.LOADED");e.exports=a}),null);
__d("AdsInstagramMediaLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"INSTAGRAM_MEDIA.LOADED"}}),null);
__d("AdsInstagramPreviewStrings",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){"use strict";a={VIEW_PRODUCTS:h._("View Products"),IN_THIS_PHOTO:h._("In This Photo"),MORE_FROM_MERCHANT:function(a){return h._("More from {merchantUsername}",[h._param("merchantUsername",a)])},VIEW_ALL_PRODUCTS:h._("View All Products")};c={PAID_PARTNERSHIP_WITH:function(a){return h._("Paid partnership with {=[sponsor name]}",[h._param("=[sponsor name]",b("React").jsx("div",{className:"_843s",children:h._("{sponsor name}",[h._param("sponsor name",a)])}))])}};d={SPONSORED:h._("Sponsored"),KEEP_WATCHING:h._("Keep Watching")};e.exports={BRANDED_CONTENT_AD_STRINGS:c,COMMON_STRINGS:d,SHOPPING_AD_STRINGS:a}}),null);
__d("SubRipText",[],(function(a,b,c,d,e,f){__p&&__p();var g={size:"90%"};function h(a){__p&&__p();var b=Number(a.substr(0,a.length-1)),c=a.substr(-1);switch(c){case"s":return b;case"m":return b*60;case"h":return b*3600}c=a.split(":");b=Number(c[c.length-1].replace(/,/,"."));c.length>1&&(b+=Number(c[c.length-2])*60);c.length>2&&(b+=Number(c[c.length-3])*3600);return b}function i(a){__p&&__p();a=a.split(/\r\n|\r|\n/).map(function(a){return a.trim()});var b=[],c=0;do{var d=a.indexOf("",c);d<0&&(d=a.length);var e=k(a.slice(c,d));e&&b.push(e);c=d+1}while(c>0&&c<a.length);return b}function j(a){a=a.split("-->");if(a.length!=2)return null;var b=h(a[0].trim());a=h(a[1].trim());return Number.isNaN(a)||Number.isNaN(b)?null:{begin:b,end:a}}function k(a){if(a.length<3)return null;var b=l(a[0]),c=j(a[1]);return!c?null:{counter:b,begin:c.begin,end:c.end,text:a.slice(2,6)}}function l(a){return Number(a.trim())}function m(a){a=a.split(".");return a[0].length<2?"0"+a.join("."):a.join(".")}function n(a){var b=m(Math.floor(a/3600).toString()),c=m(Math.floor(a%3600/60).toString());a=m((a%60).toFixed(3));return b+":"+c+":"+a}function o(a,b,c){var d="";if(c)for(var e in c)d+=" "+e+":"+c[e];return n(a)+" --> "+n(b)+d}function p(a,b){return a.counter+"\n"+o(a.begin,a.end,b)+"\n"+a.text.join("\n")+"\n"}function q(a,b){return"WEBVTT\n\n"+a.map(function(a){return p(a,b)}).join("\n")}a=function(){"use strict";__p&&__p();function a(a){var b=this;this.$1=i(a);this.$1.sort(function(a,b){return a.counter-b.counter});this.$2=this.$1.map(function(a,b){return b}).sort(function(a,c){return b.$1[a].begin-b.$1[c].begin});this.invalidateCache();this.$6=g}var b=a.prototype;b.$7=function(a){return this.$1[this.$2[a]]};b.$8=function(a){var b=this.$3;while(b<this.$2.length){var c=this.$7(b);if(c.begin<=a)this.$4.push(c),b++;else break}this.$3=b};b.$9=function(a){this.$4=this.$4.filter(function(b){return b.end>a})};b.invalidateCache=function(){this.$5=0,this.$4=[],this.$3=0};b.setStyle=function(a){this.$6=a};b.getSubtitles=function(a){a<this.$5&&this.invalidateCache();this.$5=a;this.$8(a);this.$9(a);return this.$4.reduce(function(a,b){return a.concat(b.text)},[])};b.renderVTT=function(){return q(this.$1,this.$6)};return a}();e.exports=a}),null);
__d("AdsInstagramAdPreviewCustomHooks",["EventListener","React","SubRipText","XHRRequest","getCrossOriginTransport"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useEffect,h=b("React").useRef;function i(a,c){if(a==null||c==null)return;var d=c.current;d instanceof HTMLVideoElement&&(Array.prototype.forEach.call(d.textTracks,function(a){return a.mode="hidden"}),b("EventListener").listen(d,"play",function(){Array.prototype.forEach.call(d.textTracks,function(b){b.mode="showing",a&&Array.prototype.forEach.call(b.cues,function(b){return b.line=a})})}))}function a(a,c,d){__p&&__p();var e=h(null);g(function(){var f=e.current,g=new(b("XHRRequest"))(a);a!==null&&f&&f instanceof HTMLTrackElement&&(g.setTransportBuilder(b("getCrossOriginTransport")).setMethod("GET").setResponseHandler(function(a){a=new(b("SubRipText"))(a);a=new Blob([a.renderVTT()],{type:"text/vtt"});a=URL.createObjectURL(a);f.src=a;i(c,d)}),g.send());return function(){g.abort()}},[a,c,d]);return e}e.exports={useVideoSubtitleTrack:a}}),null);
__d("AdsInstagramStoryPreviewConstants",[],(function(a,b,c,d,e,f){"use strict";e.exports={BOTTOM_MARGIN_BASE:18,BOTTOM_MARGIN_BASE_V2:42,BOTTOM_MARGIN_HAS_CTA:63,BOTTOM_MARGIN_HAS_DISCLAIMER:86,BOTTOM_MARGIN_HAS_CTA_HAS_DISCLAIMER:107,CAPTION_MAX_WIDTH:282,CAROUSEL_DURATION_IN_MS:5e3,CAROUSEL_INITIAL_SPACE:4,CAROUSEL_NON_9_BY_16_MEDIA_HEIGHT:318,CAROUSEL_NON_9_BY_16_DYNAMIC_MEDIA_HEIGHT:342,CAROUSEL_PRE_OPT_IN_VIDEO_MAX_DURATION_IN_MS:15e3,CAROUSEL_SEGMENT_BAR_WIDTH:312,DEFAULT_MEDIA_DURATION_IN_MS:5e3,DYNAMIC_MEDIA_OFFSET_HEIGHT:68,DYNAMIC_MEDIA_OFFSET_HEIGHT_ONE_LINE:50,DYNAMIC_MEDIA_SCALED_OFFSET_HEIGHT:24,DYNAMIC_MEDIA_SCALED_OFFSET_HEIGHT_ONE_LINE:6,FRAME_HEIGHT:565,FRAME_WIDTH:318,HORIZONTAL_MARGIN_CAPTION:48,LINE_HEIGHT:18,MAX_CAPTION_HEIGHT_WITH_FLAT_MEDIA:113,MAX_CAPTION_LINE_COUNT:6,MAX_FONT_SIZE:20,MIN_FONT_SIZE:13,MIN_SPACE:11,PROGRESS_BAR_ANIMATION_DURATION_IN_MS:250,TIMER_UPDATE_INTERVAL_IN_MS:250,TOP_MARGIN:44,UPDATE_TIMEOUT_IN_MS:25,VIDEO_STORY_TRUNCATION_LENGTH_IN_SEC:15,INITIAL_MEDIA_CARD_INDEX:0,OPT_IN_BUTTON_CLICK_ACTION:"OPT_IN_BUTTON_CLICK_ACTION",REPEAT_OPT_IN_FIRST_FRAME_ACTION:"REPEAT_OPT_IN_FIRST_FRAME_ACTION",PLAY_PREV_MEDIA_ACTION:"PLAY_PREV_MEDIA_ACTION",PLAY_NEXT_MEDIA_ACTION:"PLAY_NEXT_MEDIA_ACTION",SCHEDULE_AUTOPLAY:"SCHEDULE_AUTOPLAY"}}),null);
__d("AdsInstagramPollingSticker.react",["cx","AdsInstagramInteractiveComponentConstants","AdsInstagramStoryPreviewConstants","EmojiRenderer","InstagramAdsPreview","React","Style"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=(c=b("AdsInstagramInteractiveComponentConstants")).DEFAULT_OPTION_TEXT_SIZE,i=c.DEFAULT_POLLING_STICKER_WIDTH,j=c.MAX_OPTION_TEXT_LINE_COUNT,k=c.MAX_OPTION_TEXT_SIZE,l=c.MIN_OPTION_TEXT_SIZE,m=c.OPTION_BOX_TEXT_BLOCK_HEIGHT,n=c.OPTION_BOX_TEXT_BLOCK_WIDTH,o=b("AdsInstagramStoryPreviewConstants").FRAME_WIDTH,p=b("React").useEffect,q=b("React").useRef;function r(a){__p&&__p();if(!a||!a.offsetHeight)return;b("InstagramAdsPreview").setDynamicTextSizeForCaption(a,m-1,n,j,k,l);var c=(m-a.offsetHeight)/2;if(a.offsetHeight>=m){var d=parseInt(window.getComputedStyle(a,null).getPropertyValue("line-height"),10);d=d*j;b("Style").set(a,"maxHeight",d+"px");c=(m-d)/2}b("Style").set(a,"bottom",c+"px")}function s(a){var c=b("EmojiRenderer").parse(a.text),d=[],e=0;c.map(function(b){e<b.offset&&d.push({isEmoji:!1,text:a.text.substr(e,b.offset-e)}),d.push({isEmoji:!0,text:b.emoji.join("")}),e=b.offset+b.length});e<a.text.length&&d.push({isEmoji:!1,text:a.text.substr(e,a.text.length-e)});return b("React").jsx("div",{children:d.map(function(a,c){return b("React").jsx("span",{className:a.isEmoji?"":"_6-0b",children:a.text},a.text+"_"+c)})})}function t(a,c){__p&&__p();var d=c.current!=null?c.current:a,e=q(null);p(function(){if(e.current&&e.current instanceof HTMLElement&&d!=null){b("Style").set(e.current,"maxHeight","54px");var a=function(){r(e.current)};d instanceof window.HTMLMediaElement?d.readyState>3?a():d.addEventListener("canplaythrough",a):d instanceof window.HTMLImageElement&&d.addEventListener("load",a)}else r(e.current);return function(){d instanceof window.HTMLMediaElement?d.removeEventListener("canplaythrough"):d instanceof window.HTMLImageElement&&d.removeEventListener("load")}},[d]);return e}function a(a){var c=t(a.media,a.mediaRef),d=t(a.media,a.mediaRef),e=a.component,f=a.height,g=a.width,j=e.position_spec.x*g,k=e.position_spec.y*f,l=e.position_spec.width*o/i,m=360*e.position_spec.rotation;m="rotate("+m+"deg) scale("+l+")";a=[(l=a.component.poll_spec)==null?void 0:l.option_a_text,(l=a.component.poll_spec)==null?void 0:l.option_b_text].map(function(a){return(a||"").toUpperCase()});l=a[0];a=a[1];return b("React").jsxs("div",{className:"_6se2",style:{height:f,width:g,top:k,left:j,transform:m},children:[b("React").jsx("div",{className:"_6sfb"}),b("React").jsx("div",{className:"_6sfc"}),b("React").jsx("text",{className:"_6sfd",style:{fontFamily:"SFUIText-Heavy"},children:(f=e.poll_spec)==null?void 0:f.question_text}),b("React").jsx("div",{className:"_6sfe",children:b("React").jsx("div",{className:"_6sff",ref:c,style:{fontFamily:"aveny t reg",fontSize:h},children:b("React").jsx(s,{text:l})})}),b("React").jsx("div",{className:"_6sfg",children:b("React").jsx("div",{className:"_6sfh",ref:d,style:{fontFamily:"aveny t reg",fontSize:h},children:b("React").jsx(s,{text:a})})})]})}e.exports=a}),null);
__d("AdsInstagramInteractiveComponentList.react",["cx","AdsInstagramPollingSticker.react","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(!a.components||a.components.size<1)return null;var c=a.components.map(function(c,d){return c.type===1?b("React").jsx(b("AdsInstagramPollingSticker.react"),{component:c,height:a.mediaHeight,media:a.media,mediaRef:a.mediaRef,width:a.mediaWidth},"polling_sticker_"+d):null});return b("React").jsx("div",{className:"_6se1",style:{height:a.mediaHeight},children:c})}e.exports=a}),null);
__d("AdsInstagramMultiMediaProgressBar.react",["AdsInstagramStoryPreviewConstants","Event","React","clearInterval","setInterval"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("AdsInstagramStoryPreviewConstants")).CAROUSEL_INITIAL_SPACE,h=a.CAROUSEL_SEGMENT_BAR_WIDTH,i=a.DEFAULT_MEDIA_DURATION_IN_MS,j=a.PROGRESS_BAR_ANIMATION_DURATION_IN_MS,k=a.UPDATE_TIMEOUT_IN_MS;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={progressStartTime:0,animationStartTime:0,progressPercent:0,animationRemainingPercent:0,maxTimeDurationMS:j},c.$4=function(){var a=c.$6(),b=c.$5();c.setState({progressPercent:a,animationRemainingPercent:b})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1(),this.$2()};d.componentDidUpdate=function(a){this.props.firstFrame!==a.firstFrame&&this.setState({animationStartTime:Date.now(),animationRemainingPercent:100}),(this.props.mediaIndex!==a.mediaIndex||this.props.customMaxPlayDurationInMS!==a.customMaxPlayDurationInMS)&&this.$1(),this.props.mediaIndex!==a.mediaIndex&&this.$2()};d.componentWillUnmount=function(){b("clearInterval")(this.interval)};d.render=function(){__p&&__p();var a=this,c=this.props,d=c.medias,e=c.mediaIndex,f=c.firstFrame,g=c.barClass,h=c.fillClass,i=this.state.progressPercent;return b("React").jsx("div",{children:d.map(function(c,j){c=d.length;if(c<1||f===!0&&j>0)return null;c=a.$3(j);var k=c.left;c=c.right;var l=(e-j)*100+i;l>100?l=100:l<0&&(l=0);return b("React").jsx("div",{className:g,style:{left:k,right:c},children:b("React").jsx("div",{className:h,style:{width:l+"%"}})},j)})})};d.$2=function(){this.setState({progressStartTime:Date.now()}),this.interval&&b("clearInterval")(this.interval),this.interval=b("setInterval")(this.$4,k)};d.$5=function(){var a=Date.now()-this.state.animationStartTime;a=(1-a/j)*100;return Math.max(0,a)};d.$6=function(){var a=this.state,b=a.maxTimeDurationMS;a=a.progressStartTime;var c=this.props.mediaRef.current!=null?this.props.mediaRef.current:this.props.medias[this.props.mediaIndex];c instanceof HTMLVideoElement?c=c.currentTime*1e3:c=(Date.now()-a)%b;return Math.max(0,c/b*100)};d.$1=function(){var a=this,c=this.props.mediaRef.current!=null?this.props.mediaRef.current:this.props.medias[this.props.mediaIndex],d=this.props.customMaxPlayDurationInMS,e=d!=null&&d>0?d:Infinity;c instanceof HTMLVideoElement?c.readyState>=c.HAVE_METADATA?this.setState({maxTimeDurationMS:Math.min(e,c.duration*1e3)}):b("Event").listen(c,"loadedmetadata",function(){a.setState({maxTimeDurationMS:Math.min(e,c.duration*1e3)})}):this.setState({maxTimeDurationMS:Math.min(e,i)})};d.$3=function(a){__p&&__p();var b=this.state.animationRemainingPercent,c=this.props.firstFrame===!0?1:this.props.medias.length,d,e,f=Math.floor(h/c),i=f*c;i=h-i;var j=g+Math.floor(i/2);i=g+Math.ceil(i/2);if(b==0)d=j+f*a,e=i+f*(c-a-1);else{var k=f*((c-1)/c);k=k*(1-b/100);b=f-k;if(a==0)d=j,e=j+k;else{f=j+b;j=c-1;b=a-1;d=f+k/j*b;e=i+k/j*(j-b-1)}}return{left:d,right:e}};return c}(b("React").Component);e.exports=c}),null);
__d("AdsInstagramStoryProgressBar",["Event","Style","clearTimeout","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=5e3,h=25;a={init:function(a,c,d){__p&&__p();var e,f=Date.now(),i=0,j,k=0,l=function a(){e&&(i=(Date.now()-f+i)%e,f=Date.now(),k=Math.max(0,i/e*100),b("Style").set(c,"width",k+"%")),j=b("setTimeout")(a,h)};if(a instanceof HTMLVideoElement){var m=a;d!=null&&typeof d==="number"&&d>0?e=d*1e3:m.readyState>=m.HAVE_METADATA?e=m.duration*1e3:b("Event").listen(m,"loadedmetadata",function(){e=m.duration*1e3});b("Event").listen(m,"timeupdate",function(){f=Date.now(),i=m.currentTime*1e3})}else e=g;j=b("setTimeout")(l,h);b("Event").listen(a,"DOMNodeRemoved",function(){return b("clearTimeout")(j)})}};e.exports=a}),null);
__d("AdsInstagramPreviewCommonUtils",["cx","fbt","AdsInstagramStoryProgressBar","DOM","DOMContainer.react","Image.react","Locale","React","UnicodeBidi"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(){return b("React").jsx(b("Image.react"),{className:"_86t",src:"/images/instagram/ads/preview/story-close.png"})}function c(a){a=b("UnicodeBidi").isDirectionRTL(a);var c=b("Locale").isRTL(),d="";a&&!c?d="rtl":!a&&c&&(d="ltr");return d}function d(a){var c=b("DOM").create("div",{className:a.fillClass});b("AdsInstagramStoryProgressBar").init(a.media,c);c=b("React").jsx(b("DOMContainer.react"),{children:c});return b("React").jsxs("div",{className:a.barClass,children:[" ",c," "]})}function f(a){var c;return(c=b("React")).jsxs("div",{className:"_6m_u",children:[c.jsx(b("Image.react"),{className:"_6m_v",src:a.profilePicUrl}),c.jsx("div",{className:"_6m_w",children:a.username}),c.jsx("div",{className:"_6m_x",children:h._("Sponsored")})]})}function i(a,b,c){var d=i.canvas=document.createElement("canvas");d=d.getContext("2d");d.font=b;b=c?a.replace(" ","").length*c:0;c=d.measureText(a);return c.width+b}e.exports={AdsInstagramCloseButton:a,AdsInstagramGetTextDirection:c,AdsInstagramProgressBar:d,AdsInstagramUserMetadata:f,getTextWidthForAdPreviewCaption:i}}),null);
__d("AdsInstagramStoryCarouselPreviewFunctionalComponents",["cx","ix","Image.react","React","XUICarouselArrow.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c,d=(c=b("React")).jsx(b("XUICarouselArrow.react"),{onClick:a.onClickLeft,children:c.jsx(b("Image.react"),{src:h("101565")})});a=c.jsx(b("XUICarouselArrow.react"),{onClick:a.onClickRight,children:c.jsx(b("Image.react"),{src:h("101566")})});return c.jsxs("div",{className:"_7mt7",children:[c.jsx("div",{className:"_3w7n _fy",children:d}),c.jsx("div",{className:"_3w7n _fx",children:a})]})}e.exports={AdsInstagramStoryCarouselArrows:a}}),null);
__d("AdsInstagramStoryPreviewCarouselVideoTimer.react",["cx","fbt","AdsInstagramStoryPreviewConstants","Event","React","clearInterval","formatDurationSeconds","setInterval"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsInstagramStoryPreviewConstants").CAROUSEL_PRE_OPT_IN_VIDEO_MAX_DURATION_IN_MS,j=b("AdsInstagramStoryPreviewConstants").TIMER_UPDATE_INTERVAL_IN_MS;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={timeLeftInSec:-1},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this,c=this.props.video;c.readyState>=c.HAVE_METADATA?c.duration*1e3>i?this.interval=b("setInterval")(function(){return a.$1(c.duration)},j):this.setState({timeLeftInSec:-1}):b("Event").listen(c,"loadedmetadata",function(){c.duration*1e3>i?a.interval=b("setInterval")(function(){return a.$1(c.duration)},j):a.setState({timeLeftInSec:-1})})};d.componentWillUnmount=function(){this.interval&&b("clearInterval")(this.interval)};d.$1=function(a){var b=a-this.props.video.currentTime;this.setState(function(a){return{timeLeftInSec:b}})};d.render=function(){return b("React").jsx(b("React").Fragment,{children:this.state.timeLeftInSec>=0?b("React").jsxs("div",{style:{display:"inline-block"},children:[b("React").jsx("div",{className:"_6z3t"}),h._("{number of seconds}",[h._param("number of seconds",b("formatDurationSeconds")(Math.ceil(this.state.timeLeftInSec)))])]}):null})};return c}(b("React").Component);e.exports=a}),null);
__d("AdsInstagramStoryPreviewUtils",["cx","fbt","AdsInstagramStoryPreviewConstants","AdsInstagramStoryProgressBar","DOM","DOMContainer.react","InstagramAdsPreview","React","ShimButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsInstagramStoryPreviewConstants").CAROUSEL_INITIAL_SPACE,j=b("AdsInstagramStoryPreviewConstants").CAROUSEL_SEGMENT_BAR_WIDTH;function a(a){if(a.cta==null)return null;var c=a.ctaAppDestination==="MESSENGER"||a.ctaType==="MESSAGE_PAGE"?b("React").jsx("div",{className:"_88h5"}):null;return b("React").jsxs("div",{className:"_4kom"+(a.authorizationDisclaimer?" _4z29":""),children:[b("React").jsx("div",{className:"_3df2"}),c,a.cta]})}function c(a){return a.authorizationDisclaimer==null?null:b("React").jsx("div",{className:"_4z2b",children:b("React").jsx("div",{className:"_6mb8",children:a.authorizationDisclaimer})})}function d(a){__p&&__p();return b("React").jsx("div",{children:a.medias.map(function(c,d){__p&&__p();var e=a.medias.length;if(e<1)return null;var f=i+j/e*d;e=i+j/e*(e-d-1);var g;if(d<a.mediaIndex)g=b("React").jsx("div",{className:"_3y9r"});else if(d===a.mediaIndex){var h=b("DOM").create("div",{className:"_3y9t"});b("AdsInstagramStoryProgressBar").init(c,h);g=b("React").jsx(b("DOMContainer.react"),{children:h})}else g=b("React").jsx("div",{className:"_3y9t"});return b("React").jsx("div",{className:"_3y97",style:{left:f,right:e},children:g},d)})})}function f(a){return!a.isVisible?null:b("React").jsxs(b("ShimButton.react"),{style:{display:"inline-block",pointerEvents:"auto",cursor:"pointer"},onClick:a.onOptIn,children:[b("React").jsx("div",{className:"_6z3t"}),b("React").jsx("div",{className:"_6z3s"}),h._("Expand Story")]})}function k(a){a=[].concat(a.headline!=null&&a.headline!==""?b("InstagramAdsPreview").tokenizeCaption(a.headline).concat("\n"):[]).concat(a.caption!=null&&a.caption!==""?b("InstagramAdsPreview").tokenizeCaption(a.caption):[]);if(a.length===0)return null;a=a.map(function(a,c){return b("React").jsx("span",{className:(a.startsWith("@")||a.startsWith("#")?"_4mix":"")+" _50f0",children:a.indexOf("\n")!==-1?b("React").jsx("br",{}):a},c+":"+a)});return a}function g(a){var c;return(c=b("React")).jsxs(c.Fragment,{children:[c.jsx(k,{caption:a.caption,headline:a.headline}),c.jsxs("span",{className:"_50f0",children:[c.jsx("span",{children:h._("...")})," ",c.jsx("span",{className:"_66xg",children:h._("more")})]})]})}e.exports={AdsInstagramStoryPreviewCTA:a,AdsInstagramStoryPreviewDisclaimer:c,AdsInstagramStoryPreviewProgressBar:d,AdsInstagramStoryPreviewCarouselOptInButton:f,AdsInstagramStoryPreviewCaptionBlock:g}}),null);
__d("AdsInstagramStoryPreviewCaption.react",["cx","fbt","AdsInstagramPreviewCommonUtils","AdsInstagramStoryPreviewConstants","AdsInstagramStoryPreviewUtils","InstagramAdsPreview","React","Style","nullthrows","requestAnimationFrame"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsInstagramPreviewCommonUtils").AdsInstagramGetTextDirection,j=(c=b("AdsInstagramStoryPreviewConstants")).CAPTION_MAX_WIDTH,k=c.FRAME_WIDTH,l=c.HORIZONTAL_MARGIN_CAPTION,m=c.LINE_HEIGHT,n=c.MAX_CAPTION_LINE_COUNT,o=c.MAX_FONT_SIZE,p=c.MIN_FONT_SIZE,q=b("AdsInstagramStoryPreviewUtils").AdsInstagramStoryPreviewCaptionBlock,r=b("React").useRef;function a(a){var c,d=r(null),e=r(null);function f(){e.current!=null&&e.current.offsetHeight>0?s(a,d.current,e.current):b("requestAnimationFrame")(f)}b("requestAnimationFrame")(f);return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("div",{className:"_7o7r",ref:d,style:{fontFamily:"Tahoma, Helvetica, Arial, sans-serif",color:(c=a.mediaCard.portalInfo)==null?void 0:c.captionColor},children:b("React").jsx("span",{className:"_7o7s",dir:i((c=(c=a.caption)!=null?c:a.headline)!=null?c:""),id:"non_9_x_16_story_caption_text",ref:e,style:{backgroundColor:(c=a.mediaCard.portalInfo)==null?void 0:c.captionBackgroundColor},children:b("React").jsx(q,{caption:a.caption,headline:a.headline})})}),a.isAutotranslated===!0&&b("React").jsx("div",{className:"_8ckx",style:{color:(c=a.mediaCard.portalInfo)==null?void 0:c.captionColor},children:h._("Automatically Translated")})]})}function s(a,c,d){__p&&__p();if(c==null||d==null)return;c=b("nullthrows")(c);d=b("nullthrows")(d);var e=Math.min(Math.floor(a.maxAvailableHeight/m),n),f=b("InstagramAdsPreview").truncateCaption(c,15,e,k,d);!f&&a.isFixedFontSize!==!0&&b("InstagramAdsPreview").setDynamicTextSizeForCaption(d,a.maxAvailableHeight,j,e,o,p);f=d.offsetWidth;a=(k-l-f)/2;b("Style").set(c,"left",a+"px");c.id="non_9_x_16_story_caption_block"}e.exports=a}),null);
__d("AdsInstagramStoryPreviewMediaCanvas.react",["cx","AdsInstagramAdPreviewCustomHooks","AdsInstagramStoryPreviewCaption.react","AdsInstagramStoryPreviewConstants","DOMContainer.react","LineClamp.react","React","gkx","nullthrows","qex"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsInstagramAdPreviewCustomHooks").useVideoSubtitleTrack,i=(c=b("AdsInstagramStoryPreviewConstants")).BOTTOM_MARGIN_BASE,j=c.BOTTOM_MARGIN_BASE_V2,k=c.BOTTOM_MARGIN_HAS_CTA,l=c.BOTTOM_MARGIN_HAS_CTA_HAS_DISCLAIMER,m=c.BOTTOM_MARGIN_HAS_DISCLAIMER,n=c.DYNAMIC_MEDIA_OFFSET_HEIGHT,o=c.DYNAMIC_MEDIA_OFFSET_HEIGHT_ONE_LINE,p=c.DYNAMIC_MEDIA_SCALED_OFFSET_HEIGHT,q=c.DYNAMIC_MEDIA_SCALED_OFFSET_HEIGHT_ONE_LINE,r=c.FRAME_HEIGHT,s=c.FRAME_WIDTH,t=c.LINE_HEIGHT,u=c.MAX_CAPTION_HEIGHT_WITH_FLAT_MEDIA,v=c.MIN_SPACE,w=c.TOP_MARGIN,x=15;function y(a){var c;return(c=b("React")).jsxs(c.Fragment,{children:[c.jsx("div",{className:"_8mae",style:{bottom:A(a.mediaCard.cta!=null,a.authorizationDisclaimer!=null)},children:c.jsx(b("AdsInstagramStoryPreviewCaption.react"),{caption:a.caption,headline:a.headline,isAutotranslated:a.isAutotranslated,isFixedFontSize:!0,maxAvailableHeight:t*3,mediaCard:a.mediaCard})}),c.jsx("div",{className:"_7obv",children:c.jsx(z,babelHelpers["extends"]({},a))})]})}function z(a){__p&&__p();var c=h(a.mediaData.video_subtitle_url,a.mediaData.video_subtitle_offset,a.mediaRef);if(!b("gkx")("1156073"))return b("React").jsx(b("DOMContainer.react"),{children:a.mediaCard.media});if(a.mediaData.video_url!=null)return b("React").jsxs("video",{autoPlay:!0,className:"_7lg2",loop:a.mediaData.loop_video||a.isOptInStoriesCarousel,muted:!0,playendsec:a.mediaData.is_long_video===!0?x:null,poster:a.mediaData.image_url,ref:a.mediaRef,subtitleoffset:a.mediaData.video_subtitle_offset,subtitlessrc:a.mediaData.video_subtitle_url,children:[b("React").jsx("source",{src:a.mediaData.video_url,type:"video/mp4"}),b("React").jsx("track",{"default":!0,kind:"captions",ref:c})]});if(a.storyPreviewType==="dynamic_ad"){c=a.mediaData.headline!=""?b("React").jsx("div",{className:"_8q6o",children:b("React").jsx(b("LineClamp.react"),{lines:2,children:a.mediaData.headline})}):null;var d=a.mediaData.description!=""?b("React").jsx("div",{className:"_8q5w",children:a.mediaData.description}):null;return b("React").jsx("div",{className:"_7lg2",children:b("React").jsxs("div",{className:"_7mt8",children:[b("React").jsxs("div",{className:"_7mt9",children:[c,d]}),b("React").jsx("img",{className:"_7mta",id:"instagram_story_preview_media",ref:a.mediaRef,src:a.mediaData.image_url})]})})}return b("React").jsx("img",{className:"_7lg2",id:"instagram_story_preview_media",ref:a.mediaRef,src:a.mediaData.image_url})}function a(a){__p&&__p();if(a.mediaCard.portalInfo==null&&a.mediaCard.cropType!=="saliency")return b("React").jsx("div",{className:"_7obv",children:b("React").jsx(z,babelHelpers["extends"]({},a))});var c=b("gkx")("1143405"),d=b("qex")._("1143406")==="smart_cropping";if(a.mediaCard.cropType==="saliency"&&c&&d)return b("React").jsx(y,babelHelpers["extends"]({},a));d=b("nullthrows")((c=a.mediaCard.portalInfo)==null?void 0:c.displayHeight);c=b("nullthrows")((c=a.mediaCard.portalInfo)==null?void 0:c.displayWidth);var e=D(a.storyPreviewType,a.mediaCard.headline,a.mediaCard.description),f=c/(d+e.offsetHeight);d=d*s/c+e.scaledOffsetHeight;c=C(a.mediaCard.cta!=null,a.authorizationDisclaimer!=null,d,f);e=a.showHeadlineInCaption&&f>=1?a.headline:void 0;e=(a.caption==null||a.caption=="")&&(!a.showHeadlineInCaption||a.headline==null||a.headline=="")?null:b("React").jsx(b("AdsInstagramStoryPreviewCaption.react"),{caption:a.caption,headline:e,isAutotranslated:a.isAutotranslated,maxAvailableHeight:c,mediaCard:a.mediaCard});if(f>=1||e==null){c=B(a.mediaCard.cta!=null,a.authorizationDisclaimer!=null);return b("React").jsxs("div",{className:"_7obw",style:{height:c+"px",top:w+"px"},children:[b("React").jsx(z,babelHelpers["extends"]({},a)),e]})}else{f=B(a.mediaCard.cta!=null,a.authorizationDisclaimer!=null,d);return(c=b("React")).jsxs(c.Fragment,{children:[c.jsx("div",{className:"_7sx_",children:c.jsx(z,babelHelpers["extends"]({},a))}),c.jsx("div",{className:"_7obw",style:{height:f+"px",top:w+v+d+"px"},children:e})]})}}function A(a,b){i;a?a=b?l:k:a=b?m:j;return a}function B(a,b,c){a=A(a,b);return c!=null?r-w-v-c-a:r-w-a}function C(a,b,c,d){a=A(a,b);a=r-w-a;a=a-c-3*v;d>=1&&(a=b?u/2:u);return a}function D(a,b,c){if(a==="dynamic_ad"){if(b!==null&&b!==""&&c!==null&&c!=="")return{offsetHeight:n,scaledOffsetHeight:p};return(b===null||b==="")&&(c===null||c==="")?{offsetHeight:0,scaledOffsetHeight:0}:{offsetHeight:o,scaledOffsetHeight:q}}return{offsetHeight:0,scaledOffsetHeight:0}}e.exports=a}),null);
__d("AdsInstagramStoryCarouselAdPreview.react",["cx","AdsInstagramMultiMediaProgressBar.react","AdsInstagramPreviewStrings","AdsInstagramStoryCarouselPreviewFunctionalComponents","AdsInstagramStoryPreviewCarouselVideoTimer.react","AdsInstagramStoryPreviewConstants","AdsInstagramStoryPreviewMediaCanvas.react","AdsInstagramStoryPreviewUtils","Event","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsInstagramPreviewStrings").COMMON_STRINGS,i=b("AdsInstagramStoryCarouselPreviewFunctionalComponents").AdsInstagramStoryCarouselArrows,j=(c=b("AdsInstagramStoryPreviewConstants")).CAROUSEL_DURATION_IN_MS,k=c.CAROUSEL_PRE_OPT_IN_VIDEO_MAX_DURATION_IN_MS,l=c.INITIAL_MEDIA_CARD_INDEX,m=c.OPT_IN_BUTTON_CLICK_ACTION,n=c.PLAY_NEXT_MEDIA_ACTION,o=c.PLAY_PREV_MEDIA_ACTION,p=c.REPEAT_OPT_IN_FIRST_FRAME_ACTION,q=c.SCHEDULE_AUTOPLAY,r=b("AdsInstagramStoryPreviewUtils").AdsInstagramStoryPreviewCarouselOptInButton,s=b("AdsInstagramStoryPreviewUtils").AdsInstagramStoryPreviewCTA,t=b("AdsInstagramStoryPreviewUtils").AdsInstagramStoryPreviewDisclaimer,u=b("React").useEffect,v=b("React").useReducer,w=b("React").useRef,x=1,y=-1,z=0,A=function(a,b,c){return(a+c+b)%b},B=function(a,b,c){if(a instanceof HTMLVideoElement){a=a;return b?Math.min(k,(a.duration-a.currentTime)*1e3):(a.duration-a.currentTime)*1e3}else if(!b){a=Date.now()-c;return j-a}return j},C=function(a){if(a instanceof HTMLVideoElement)return a.duration*1e3;else return j},D=function(a){a instanceof HTMLVideoElement&&(a.currentTime=0,b("Event").listen(a,"canplay",function(){return a.play()}))};function E(a,b){__p&&__p();var c;switch(b.type){case m:window.clearInterval(a.autoplayIntervalID);c=B(b.payload.medias[l],!1,a.firstFrameStartSetTime);return babelHelpers["extends"]({},a,{currentMediaCardIndex:l,isFirstFrame:!1,autoplayInterval:c,autoplayIntervalID:window.setInterval(function(){b.callback()},c)});case p:window.clearInterval(a.autoplayIntervalID);D(b.payload.medias[l]);c=B(b.payload.medias[l],!0,a.firstFrameStartSetTime);return babelHelpers["extends"]({},a,{currentMediaCardIndex:l,autoplayInterval:c,autoplayIntervalID:window.setInterval(function(){b.callback()},c),firstFrameStartSetTime:Date.now()});case o:window.clearInterval(a.autoplayIntervalID);var d=A(a.currentMediaCardIndex,b.payload.medias.length,y),e=b.payload.medias[d];c=C(e);D(e);return babelHelpers["extends"]({},a,{currentMediaCardIndex:d,autoplayInterval:c,autoplayIntervalID:window.setInterval(function(){b.callback()},c)});case n:window.clearInterval(a.autoplayIntervalID);e=A(a.currentMediaCardIndex,b.payload.medias.length,x);d=b.payload.medias[e];c=C(d);D(d);return babelHelpers["extends"]({},a,{currentMediaCardIndex:e,autoplayInterval:c,autoplayIntervalID:window.setInterval(function(){b.callback()},c)});case q:c=C(b.payload.medias[a.currentMediaCardIndex]);return babelHelpers["extends"]({},a,{autoplayInterval:c,autoplayIntervalID:window.setInterval(function(){b.callback()},c)});default:throw new Error()}}function F(a,b){b=a?B(b[l],!0,0):C(b[l]);return{autoplayIntervalID:null,autoplayInterval:b,currentMediaCardIndex:l,isFirstFrame:a,firstFrameStartSetTime:Date.now()}}function a(a){__p&&__p();var c=a.mediaCards.length,d=a.mediaCards.map(function(a){return a.media}),e=w(null),f=a.mediaCards[l].portalInfo!=null,g=a.storyPreviewType==="dynamic_ad",j=v(E,F(f,d)),B=j[0],C=j[1];j=a.mediaCards[B.currentMediaCardIndex];var D=a.mediaDataCollection[B.currentMediaCardIndex],G=a.headlines!=null&&a.headlines.length>B.currentMediaCardIndex?a.headlines[B.currentMediaCardIndex]:void 0;u(function(){B.autoplayIntervalID==null&&(B.isFirstFrame?J():I());return function(){window.clearInterval(B.autoplayIntervalID)}});var H=!B.isFirstFrame&&f&&j.media instanceof HTMLVideoElement?b("React").jsx(b("AdsInstagramStoryPreviewCarouselVideoTimer.react"),{video:j.media},B.currentMediaCardIndex):null;c=c>1&&!B.isFirstFrame?b("React").jsx(i,{onClickLeft:K,onClickRight:L}):null;K=B.isFirstFrame?B.autoplayInterval?B.autoplayInterval:k:null;K=b("React").jsx(b("AdsInstagramMultiMediaProgressBar.react"),{barClass:"_3y97",customMaxPlayDurationInMS:K,fillClass:"_3y9t",firstFrame:f&&B.isFirstFrame,mediaIndex:B.currentMediaCardIndex,mediaRef:e,medias:d});return b("React").jsx("div",{className:"_ogl",children:b("React").jsxs("div",{className:"_2qhi",id:"instagram_story_preview_frame",style:j.portalInfo&&{background:"linear-gradient("+j.portalInfo.topColor+", "+j.portalInfo.bottomColor+")"},children:[c,K,b("React").jsx(b("AdsInstagramStoryPreviewMediaCanvas.react"),{authorizationDisclaimer:a.authorizationDisclaimer,caption:a.caption,headline:G,isOptInStoriesCarousel:f,mediaCard:j,mediaData:D,mediaRef:e,showHeadlineInCaption:!g,storyPreviewType:a.storyPreviewType},B.currentMediaCardIndex),b("React").jsx("div",{className:"_ogm"}),b("React").jsxs("div",{className:"_86n",children:[b("React").jsx(b("Image.react"),{className:"_ogn",src:a.profilePicUrl}),b("React").jsx("div",{className:"_86q",children:a.username}),b("React").jsxs("div",{className:"_4z2a",children:[h.SPONSORED,b("React").jsx(r,{isVisible:B.isFirstFrame,onOptIn:M}),H]}),b("React").jsx(b("Image.react"),{className:"_86t",src:"/images/instagram/ads/preview/story-close.png"})]}),b("React").jsx(s,{authorizationDisclaimer:a.authorizationDisclaimer,cta:j.cta,ctaAppDestination:j.ctaAppDestination,ctaType:j.ctaType}),b("React").jsx(t,{authorizationDisclaimer:a.authorizationDisclaimer}),b("React").jsx(b("Image.react"),{className:"_86v"+(a.authorizationDisclaimer?" _4z29":""),src:"/images/instagram/ads/preview/story-ellipsis.png"})]})});function I(){N(function(){return C({type:q,callback:L,payload:{medias:d}})},z)}function J(){N(function(){return C({type:p,callback:J,payload:{medias:d}})},z)}function K(){N(function(){return C({type:o,callback:L,payload:{medias:d}})},y)}function L(){N(function(){return C({type:n,callback:L,payload:{medias:d}})},x)}function M(){N(function(){return C({type:m,callback:L,payload:{medias:d}})},z)}function N(a,c){c=A(B.currentMediaCardIndex,d.length,c);c=d[c];if(c instanceof HTMLVideoElement&&c.readyState<c.HAVE_METADATA){b("Event").listen(c,"loadedmetadata",function(){a()});return}a()}}e.exports=a}),null);
__d("AdsInstagramStorySingleFormatAdPreview.react",["cx","AdsInstagramInteractiveComponentList.react","AdsInstagramMultiMediaProgressBar.react","AdsInstagramPreviewStrings","AdsInstagramStoryPreviewConstants","AdsInstagramStoryPreviewMediaCanvas.react","AdsInstagramStoryPreviewUtils","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("AdsInstagramPreviewStrings").BRANDED_CONTENT_AD_STRINGS,i=b("AdsInstagramPreviewStrings").COMMON_STRINGS,j=b("AdsInstagramStoryPreviewConstants").FRAME_HEIGHT,k=b("AdsInstagramStoryPreviewConstants").FRAME_WIDTH,l=b("AdsInstagramStoryPreviewUtils").AdsInstagramStoryPreviewCTA,m=b("AdsInstagramStoryPreviewUtils").AdsInstagramStoryPreviewDisclaimer,n=b("React").useRef;function a(a){var c=n(null),d=a.storyPreviewType==="long_video",e=a.brandedContentSponsorName;return b("React").jsx("div",{className:"_ogl",children:b("React").jsxs("div",{className:"_2qhi",id:"instagram_story_preview_frame",style:a.mediaCard.portalInfo&&{background:"linear-gradient("+a.mediaCard.portalInfo.topColor+", "+a.mediaCard.portalInfo.bottomColor+")"},children:[b("React").jsx(b("AdsInstagramStoryPreviewMediaCanvas.react"),{authorizationDisclaimer:a.authorizationDisclaimer,caption:a.caption,isAutotranslated:a.isAutotranslated,mediaCard:a.mediaCard,mediaData:a.mediaDataCollection[0],mediaRef:c,showHeadlineInCaption:!0,storyPreviewType:a.storyPreviewType}),a.mediaCard.interactiveComponents&&b("React").jsx(b("AdsInstagramInteractiveComponentList.react"),{components:a.mediaCard.interactiveComponents,media:a.mediaCard.media,mediaData:a.mediaDataCollection[0],mediaHeight:j,mediaRef:c,mediaWidth:k}),b("React").jsx("div",{className:"_ogm"}),b("React").jsxs("div",{className:"_86n",children:[b("React").jsx(b("AdsInstagramMultiMediaProgressBar.react"),{barClass:"_3y97",customMaxPlayDurationInMS:d?b("AdsInstagramStoryPreviewConstants").VIDEO_STORY_TRUNCATION_LENGTH_IN_SEC:null,fillClass:"_3y9t",firstFrame:!0,mediaIndex:0,mediaRef:c,medias:[a.mediaCard.media]}),b("React").jsx(b("Image.react"),{className:"_ogn",src:a.profilePicUrl}),b("React").jsx("div",{className:"_86q",children:a.username}),b("React").jsxs("div",{className:"_4z2a",children:[i.SPONSORED,e!=null&&b("React").jsxs("div",{style:{display:"inline"},children:[b("React").jsx("div",{className:"_82gj"}),h.PAID_PARTNERSHIP_WITH(e)]}),d===!0&&b("React").jsxs("div",{style:{display:"inline-block"},children:[b("React").jsx("div",{className:"_6z3t"}),b("React").jsx("div",{className:"_6z3s"}),i.KEEP_WATCHING]})]}),b("React").jsx(b("Image.react"),{className:"_86t",src:"/images/instagram/ads/preview/story-close.png"})]}),b("React").jsx(l,{authorizationDisclaimer:a.authorizationDisclaimer,cta:a.mediaCard.cta,ctaAppDestination:a.mediaCard.ctaAppDestination,ctaType:a.mediaCard.ctaType}),b("React").jsx(m,{authorizationDisclaimer:a.authorizationDisclaimer}),b("React").jsx(b("Image.react"),{className:"_86v"+(a.authorizationDisclaimer?" _4z29":""),src:"/images/instagram/ads/preview/story-ellipsis.png"})]})})}e.exports=a}),null);
__d("AdsInstagramStoryAdPreview.react",["AdsInstagramStoryCarouselAdPreview.react","AdsInstagramStorySingleFormatAdPreview.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this,b)||this}var d=c.prototype;d.render=function(){if(this.props.adFormat==="single_media")return b("React").jsx(b("AdsInstagramStorySingleFormatAdPreview.react"),babelHelpers["extends"]({},this.props));else if(this.props.adFormat==="carousel")return b("React").jsx(b("AdsInstagramStoryCarouselAdPreview.react"),babelHelpers["extends"]({},this.props));return b("React").jsx("div",{})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("AdsEditorUnsupportedReasons",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({ADGROUP:{APP_AD_WITH_POST_ID:"",DELETED_POST:"",DEPRECATE_OLD_COLLECTION:"",DEPRECATE_OLD_OFFER:"",EVENT_WITHOUT_ACTOR:"",L1_APP_WITH_INSTAGRAM_PLACEMENT:"",LEAD_GEN_AD_WITH_POST_ID:"",MESSAGE_OBJECTIVE_AD_WITH_POST_ID:"",IG_PROMOTE_BOOSTED_POST:"",PREMIUM_VIDEO:"",PRIVACY_CHECK_FAILED:"",RTB:"",SPONSORED_STORY:"",TARGETING_OR_PRICING:"",UNKNOWN_INVALID_TYPE:"",UNRECOGNIZED_OBJECT_TYPE:"",WEBSITE_AD_WITH_INLINE_PHOTO_POST:"",STORE_VISITS_WITH_PRODUCT_CATALOG:"",USER_PROFILE_ADS_NOT_SUPPORTED:""},CAMPAIGN:{IG_PROMOTE_BOOSTED_POST:""},CAMPAIGN_GROUP:{},NO_OBJECTIVE:"",UNSUPPORTED_OBJECTIVE:""});e.exports=a}),null);
__d("AdsInstagramMediaPostFields",[],(function(a,b,c,d,e,f){"use strict";a=["caption_text","comment_count","content_type","display_url","has_fb_copy","has_product_tags","has_sponsors","has_sponsors_with_boost_permission","is_archived","is_comment_enabled","is_sidecar_child","is_sub_media","like_count","owner_instagram_user{username}","permalink","taken_at","video_metadata","video_url","view_count"];e.exports=a}),null);
__d("AdsInstagramMediaDataManager",["fbt","AdsBaseDataManager","AdsGraphAPI","AdsInstagramMediaCommentsDisabledDataAction","AdsInstagramMediaCommentsDisableErrorDataAction","AdsInstagramMediaCommentsEnabledDataAction","AdsInstagramMediaCommentsEnableErrorDataAction","AdsInstagramMediaLoadedDataAction","AdsInstagramMediaLoadErrorDataAction","AdsInstagramMediaPostFields","SimpleXUIDialog","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.loadAll=function(a){var b=this;a.forEach(function(a){return b.load(a)})};d.load=function(a){var c=this;b("promiseDone")(b("AdsGraphAPI").get(e.id).object("instagram_object",a).batched().get({fields:b("AdsInstagramMediaPostFields")}),function(b){return c.__handleSuccess(["load"],a,null,b)},function(b){return c.__handleError(["load"],a,null,b)})};d.__getMultiple=function(a){return this.__withBatching(a,b("AdsGraphAPI").get(e.id).objects("instagram_object",a)).get({fields:b("AdsInstagramMediaPostFields")})};d.__onBatchLoaded=function(a){b("AdsInstagramMediaLoadedDataAction").dispatch({specs:a},{line:"54",module:"AdsInstagramMediaDataManager.js"})};d.__onBatchLoadError=function(a){b("AdsInstagramMediaLoadErrorDataAction").dispatch({errors:a},{line:"60",module:"AdsInstagramMediaDataManager.js"})};d.disableComments=function(a,c){var d=this;b("promiseDone")(b("AdsGraphAPI").get(e.id).root(a).post({ad_id:c,comment_enabled:!1}),function(b){return d.$AdsInstagramMediaDataManager1(a)},function(b){return d.$AdsInstagramMediaDataManager2(b,a)})};d.enableComments=function(a,c){var d=this;b("promiseDone")(b("AdsGraphAPI").get(e.id).root(a).post({ad_id:c,comment_enabled:!0}),function(b){return d.$AdsInstagramMediaDataManager3(a)},function(b){return d.$AdsInstagramMediaDataManager4(b,a)})};d.$AdsInstagramMediaDataManager1=function(a){b("AdsInstagramMediaCommentsDisabledDataAction").dispatch({mediaID:a},{line:"86",module:"AdsInstagramMediaDataManager.js"})};d.$AdsInstagramMediaDataManager2=function(a,c){b("AdsInstagramMediaCommentsDisableErrorDataAction").dispatch({error:a,mediaID:c},{line:"90",module:"AdsInstagramMediaDataManager.js"}),b("SimpleXUIDialog").show(a.message,g._("Failed to disable comments"))};d.$AdsInstagramMediaDataManager3=function(a){b("AdsInstagramMediaCommentsEnabledDataAction").dispatch({mediaID:a},{line:"100",module:"AdsInstagramMediaDataManager.js"})};d.$AdsInstagramMediaDataManager4=function(a,c){b("AdsInstagramMediaCommentsEnableErrorDataAction").dispatch({error:a,mediaID:c},{line:"104",module:"AdsInstagramMediaDataManager.js"}),b("SimpleXUIDialog").show(a.message,g._("Failed to enable comments"))};return c}(b("AdsBaseDataManager"));e.exports=new a()}),null);
__d("AdsInstagramMediaStore",["AdsBaseDataStore","AdsInstagramCommentAddedDataActionFlux","AdsInstagramCommentRemovedDataActionFlux","AdsInstagramMediaCommentsDisableDataActionFlux","AdsInstagramMediaCommentsDisabledDataActionFlux","AdsInstagramMediaCommentsDisableErrorDataActionFlux","AdsInstagramMediaCommentsEnableDataActionFlux","AdsInstagramMediaCommentsEnabledDataActionFlux","AdsInstagramMediaCommentsEnableErrorDataActionFlux","AdsInstagramMediaDataManager","AdsInstagramMediaLoadedDataActionFlux","AdsInstagramMediaLoadErrorDataActionFlux","AdsInstagramVideoUploaderDataProvider","AdsLoadState_LEGACY","AdsVideoEncodingSuccessDataActionFlux","ImmutableObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsInstagramVideoUploaderDataProvider").toFluxStore();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getDataManager=function(){return b("AdsInstagramMediaDataManager")};d.getLoadedPostDetailsFromCache=function(a){if(!a)return null;a=this.getCached(a);return a&&a.loadState===b("AdsLoadState_LEGACY").LOADED?a:null};d.__getActionTypes=function(){return[b("AdsInstagramMediaCommentsDisableDataActionFlux").actionType,b("AdsInstagramMediaCommentsDisabledDataActionFlux").actionType,b("AdsInstagramMediaCommentsDisableErrorDataActionFlux").actionType,b("AdsInstagramMediaCommentsEnableDataActionFlux").actionType,b("AdsInstagramMediaCommentsEnabledDataActionFlux").actionType,b("AdsInstagramMediaCommentsEnableErrorDataActionFlux").actionType,b("AdsInstagramMediaLoadErrorDataActionFlux").actionType,b("AdsInstagramMediaLoadedDataActionFlux").actionType,b("AdsVideoEncodingSuccessDataActionFlux").actionType,b("AdsInstagramCommentAddedDataActionFlux").actionType,b("AdsInstagramCommentRemovedDataActionFlux").actionType]};d.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.type){case b("AdsInstagramMediaLoadedDataActionFlux").actionType:this.__handleData(a.specs,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsInstagramMediaLoadErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsVideoEncodingSuccessDataActionFlux").actionType:var c=g.getState().currentStoryID;if(c){var d=this.__invalidate(c);d&&this.get(c)}break;case b("AdsInstagramMediaCommentsDisableDataActionFlux").actionType:b("AdsInstagramMediaDataManager").disableComments(a.mediaID,a.adgroupID);this.$AdsInstagramMediaStore1(a.mediaID,b("AdsLoadState_LEGACY").PENDING_WRITE);break;case b("AdsInstagramMediaCommentsEnableDataActionFlux").actionType:b("AdsInstagramMediaDataManager").enableComments(a.mediaID,a.adgroupID);this.$AdsInstagramMediaStore1(a.mediaID,b("AdsLoadState_LEGACY").PENDING_WRITE);break;case b("AdsInstagramMediaCommentsDisabledDataActionFlux").actionType:this.$AdsInstagramMediaStore2(a.mediaID,!1);break;case b("AdsInstagramMediaCommentsEnabledDataActionFlux").actionType:this.$AdsInstagramMediaStore2(a.mediaID,!0);break;case b("AdsInstagramMediaCommentsDisableErrorDataActionFlux").actionType:case b("AdsInstagramMediaCommentsEnableErrorDataActionFlux").actionType:this.$AdsInstagramMediaStore1(a.mediaID,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsInstagramCommentAddedDataActionFlux").actionType:this.$AdsInstagramMediaStore3(a.data.mediaID,1);break;case b("AdsInstagramCommentRemovedDataActionFlux").actionType:this.$AdsInstagramMediaStore3(a.data.mediaID,-1);break}};d.$AdsInstagramMediaStore2=function(a,c){var d=this.getCached(a);if(d){d=b("ImmutableObject").setProperty(d,"is_comment_enabled",c);c=new Map();c.set(a,d);this.__handleData(c,b("AdsLoadState_LEGACY").LOADED)}};d.$AdsInstagramMediaStore1=function(a,b){this.__handleData(new Map([[a,this.getCached(a)]]),b)};d.$AdsInstagramMediaStore3=function(a,c){var d=this.getCached(a);if(d&&d.loadState===b("AdsLoadState_LEGACY").LOADED){d=b("ImmutableObject").setProperty(d,"comment_count",d.comment_count+c);c=new Map();c.set(a,d);this.__handleData(c,b("AdsLoadState_LEGACY").LOADED)}};return c}(b("AdsBaseDataStore"));e.exports=new a()}),null);
__d("AdsEditorUnsupportedReasonUtils",["AdsAPIAdgroupRecordUtils","AdsAPIBidType","AdsAPICampaignGroupRecordUtils","AdsAPICampaignRecordUtils","AdsAPIObjectives","AdsAppUtils","AdsEditorUnsupportedReasons","AdsInstagramApplicabilityUtils","AdsInterfacesLogger","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFieldMappings","AdsUnifiedCreativeAPIFields","AdsWebsiteAdUtils","ApiAdObjectTypes","BoostedComponentAppID","gkx","isAdsCanvasLink"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Set([b("ApiAdObjectTypes").INVALID,b("ApiAdObjectTypes").POST_DELETED,b("ApiAdObjectTypes").PRIVACY_CHECK_FAIL]),h=new Set([(a=b("AdsAPIObjectives")).APP_INSTALLS,a.BRAND_AWARENESS,a.CANVAS_APP_ENGAGEMENT,a.CANVAS_APP_INSTALLS,a.EVENT_RESPONSES,a.LEAD_GENERATION,a.MESSAGES,a.MOBILE_APP_ENGAGEMENT,a.MOBILE_APP_INSTALLS,a.OFFER_CLAIMS,a.PAGE_LIKES,a.POST_ENGAGEMENT,a.PRODUCT_CATALOG_SALES,a.VIDEO_VIEWS,a.LINK_CLICKS,a.CONVERSIONS,a.REACH,a.STORE_VISITS,a.WILDCARD_INTERNAL_ONLY]);c={hasUnsupportedObjectType:function(a){return g.has(a)},forAdgroup:function(a,c,d,e){__p&&__p();var f=d.objective;if(p(f))return b("AdsEditorUnsupportedReasons").NO_OBJECTIVE;if(o(f))return b("AdsEditorUnsupportedReasons").UNSUPPORTED_OBJECTIVE;if(k(a,f))return b("AdsEditorUnsupportedReasons").ADGROUP.WEBSITE_AD_WITH_INLINE_PHOTO_POST;if(i(c,a,f))return b("AdsEditorUnsupportedReasons").ADGROUP.APP_AD_WITH_POST_ID;if(v(a))return b("AdsEditorUnsupportedReasons").ADGROUP.IG_PROMOTE_BOOSTED_POST;if(l(a))return b("AdsEditorUnsupportedReasons").ADGROUP.EVENT_WITHOUT_ACTOR;if(m(c,e.isNewCampaign,f))return b("AdsEditorUnsupportedReasons").ADGROUP.L1_APP_WITH_INSTAGRAM_PLACEMENT;if(n(a))return b("AdsEditorUnsupportedReasons").ADGROUP.RTB;if(q(a)){b("AdsInterfacesLogger").log({eventName:"adgroup_has_invalid_object_type",data:{adgroup_id:a.id}});return b("AdsEditorUnsupportedReasons").ADGROUP.UNKNOWN_INVALID_TYPE}if(r(a)){b("AdsInterfacesLogger").log({eventName:"adgroup_has_deleted_post",data:{adgroup_id:a.id}});return b("AdsEditorUnsupportedReasons").ADGROUP.DELETED_POST}if(s(a)){b("AdsInterfacesLogger").log({eventName:"adgroup_has_failed_privacy_check",data:{adgroup_id:a.id}});return b("AdsEditorUnsupportedReasons").ADGROUP.PRIVACY_CHECK_FAILED}if(j(a,f))return b("AdsEditorUnsupportedReasons").ADGROUP.LEAD_GEN_AD_WITH_POST_ID;if(t(f,d))return b("AdsEditorUnsupportedReasons").ADGROUP.STORE_VISITS_WITH_PRODUCT_CATALOG;e=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin({campaign:c,campaignGroup:d});if(x(a,e))return b("AdsEditorUnsupportedReasons").ADGROUP.DEPRECATE_OLD_COLLECTION;if(u(a))return b("AdsEditorUnsupportedReasons").ADGROUP.USER_PROFILE_ADS_NOT_SUPPORTED;f=e.getUnifiedCreativeAPIFieldMapping(a);if(f===b("AdsUnifiedCreativeAPIFieldMappings").INVALID_MAPPING){b("AdsInterfacesLogger").log({eventName:"adgroup_has_unrecognized_object_type",data:{adgroup_id:a.id}});return b("AdsEditorUnsupportedReasons").ADGROUP.UNRECOGNIZED_OBJECT_TYPE}return null},forCampaign:function(a,c){a=c.objective;if(p(a))return b("AdsEditorUnsupportedReasons").NO_OBJECTIVE;if(o(a))return b("AdsEditorUnsupportedReasons").UNSUPPORTED_OBJECTIVE;return w(c)?b("AdsEditorUnsupportedReasons").CAMPAIGN.IG_PROMOTE_BOOSTED_POST:null},forCampaignGroup:function(a){a=a.objective;if(p(a))return b("AdsEditorUnsupportedReasons").NO_OBJECTIVE;return o(a)?b("AdsEditorUnsupportedReasons").UNSUPPORTED_OBJECTIVE:null}};function i(a,c,d){a=b("AdsAPICampaignRecordUtils").getPromotedObjectType(d,a);return b("AdsAppUtils").isAppObjective(d,a)&&b("AdsAPIAdgroupRecordUtils").isExistingPostAd(c)}function j(a,c){return c===b("AdsAPIObjectives").LEAD_GENERATION&&b("AdsAPIAdgroupRecordUtils").isExistingPostAd(a)}function k(a,c){c=b("AdsWebsiteAdUtils").isWebsiteObjective(c);a=(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:a.photo_data;return c&&!!a}function l(a){a=(a=a.creative)==null?void 0:a.object_type;return a===b("ApiAdObjectTypes").EVENT}function m(a,c,d){var e=b("AdsAPICampaignRecordUtils").getPromotedObjectType(d,a);return b("AdsAppUtils").isMobileAppInstall(d,e)&&!c&&b("AdsInstagramApplicabilityUtils").hasInstagramPlacement(a)&&!a.promoted_object}function n(a){a=a.bid_type;return a===b("AdsAPIBidType").RTB}function o(a){return!h.has(a)}function p(a){return!a||a===b("AdsAPIObjectives").NONE}function q(a){return((a=a.creative)==null?void 0:a.object_type)===b("ApiAdObjectTypes").INVALID}function r(a){return((a=a.creative)==null?void 0:a.object_type)===b("ApiAdObjectTypes").POST_DELETED}function s(a){return((a=a.creative)==null?void 0:a.object_type)===b("ApiAdObjectTypes").PRIVACY_CHECK_FAIL}function t(a,c){c=b("AdsAPICampaignGroupRecordUtils").getPromotedObjectProductCatalogID(c)!=null;return a===b("AdsAPIObjectives").STORE_VISITS&&c}function u(a){return b("gkx")("932290")&&((a=a.creative)==null?void 0:a.actor_type)==="USER"}function v(a){return a.source_app_id===b("BoostedComponentAppID").BOOSTED_INSTAGRAM_MEDIA_MOBILE||a.source_app_id===b("BoostedComponentAppID").BOOSTED_INSTAGRAM_MEDIA}function w(a){return a.boosted_component_product==="boosted_instagram_media"}function x(a,c){if(!b("AdsUnifiedCreativeAPIFields").retailerItemIDs.isSupported(a,c)||!b("AdsUnifiedCreativeAPIFields").linkURL.isSupported(a,c))return!1;var d=a.getIn(b("AdsUnifiedCreativeAPIFields").retailerItemIDs.getPathOrThrow(a,c));a=a.getIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,c));return!!d&&d.count()>0&&!b("isAdsCanvasLink")(a)}e.exports=c}),null);
__d("AdsUEditorCampaignGroupContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext({campaignGroupEditorContext:null});e.exports=a}),null);
__d("AdPreviewLoadingOverlayTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PROGRESS_BAR:"progressbar",SHIMMER:"shimmer"})}),null);
__d("adsPreviewGetPageletAPIVersion",["AdsGraphAPI"],(function(a,b,c,d,e,f){"use strict";function a(){return"v"+b("AdsGraphAPI").getVersion()}e.exports=a}),null);
__d("AdPreview.react",["cx","fbt","AdPreviewLoadingOverlayTypes","AdsSpinnerCover.react","Arbiter","BUIAdoptionUtils","DOM","FBLogger","React","ReactDOM","SUIBusinessTheme","SUINotice.react","UIPagelet","WebApiApplication","adsPreviewGetPageletAPIVersion","getObjectValues","immutable","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isError:!1,isLoading:!1,errorLevel:null,errorMessage:null},d.$7=function(a){__p&&__p();if(d.$1==null)return;d.$1=null;d.setState({isError:!1,isLoading:!1});a();b("Arbiter").inform("AdPreview/PageletLoadSuccess",{component:babelHelpers.assertThisInitialized(d)});a=d.props.onPreviewLoadSuccess;a&&d.$2&&a({requestKey:d.$2});a=b("DOM").scry(d.$5(),"[data-preview-error]");a.length>0&&d.props.onPreviewRenderError&&d.props.onPreviewRenderError(a[0].innerText)},d.$8=function(a){if(d.$1==null)return;d.$1=null;d.setState({isError:!0,isLoading:!1});a=d.props.onPreviewLoadFailure;a&&d.$2&&a({requestKey:d.$2})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$3(this.props)};d.componentWillUnmount=function(){this.$2=null,this.$1&&this.$1.cancel(),this.$1=null,this.$4(),b("DOM").empty(this.$5())};d.UNSAFE_componentWillReceiveProps=function(a){this.$3(a)};d.render=function(){var a=!this.state.isError,c=this.state.isError&&!this.state.isLoading,d=this.state.errorLevel?this.state.errorLevel:"warn",e=this.state.errorMessage?this.state.errorMessage:h._("Unable to display a preview for this ad.");return b("React").jsx("div",{className:"_2hm6"+(this.state.isLoading?" _2hm7":""),children:b("React").jsxs("div",{className:this.props.className,children:[b("React").jsx(b("AdsSpinnerCover.react"),{background:this.props.spinnerBackgroundColor,className:"_4fap",show:this.state.isLoading,testID:this.props.spinnerTestID}),b("React").jsx("div",{className:c?"":"hidden_elem",children:b("React").jsx(b("SUINotice.react"),{theme:b("SUIBusinessTheme"),type:b("BUIAdoptionUtils").convertUseToType(d),children:e})}),b("React").jsx("div",{className:a?"":"hidden_elem","data-testid":this.props.apiFormat,ref:"pageletContainer"})]})})};d.$3=function(a){__p&&__p();var d=a.adAccountID,e=a.adgroupID,f=a.creativeID,g=a.creative,h=a.customPlayMode,i=a.lastForceUpdateTimeStamp,j=a.linkShareData,k=a.mockupID,l=a.apiFormat,m=a.appID,n=a.borderStyle,o=a.objective,p=a.productItemIDs,q=a.projectAccessToken,r=a.placePageID,s=a.postData;a=a.suppresslinks;var t=this.$6(d,e,f,g,h,l=="RIGHT_COLUMN_STANDARD"?void 0:j,l,m,n,o,p,r,s);if(t===this.$2&&(!i||this.props.lastForceUpdateTimeStamp===i))return;this.$1&&this.$1.cancel();this.$1=null;this.$2=t;l!==this.props.apiFormat&&(this.$4(),b("DOM").empty(this.$5()));if(!e&&!f&&!g){b("FBLogger")("ads").mustfix("AdPreview.react must be passed either adgroupID, creative or creativeID");this.setState({isError:!0,isLoading:!1});return}if(this.props.onValidate){i=this.props.onValidate(g,l);if(i.length){t=null;var u=null;i=i.filter(function(a){return a.field===c.PREVIEW_MESSAGE_FIELD_NAME});i.length&&(t=i[0].level,u=i[0].message);this.setState({isError:!0,isLoading:!1,errorLevel:t,errorMessage:u});return}}this.setState({isError:!1,isLoading:!0,errorLevel:null,errorMessage:null});this.$4();m||(m=b("WebApiApplication").getClientID());i=!!e;t=this.props.onPreviewLoadStart;t&&this.$2&&t({requestKey:this.$2});this.$1=b("UIPagelet").loadFromEndpoint(this.props.mockupID?"CrStAdPreviewPageletContainer":"AdPreviewPageletController",this.$5(),{adaccountid:d,adid:i?e:null,appid:m,creativeid:f,creative:i?null:g,customplaymode:h===void 0?null:h,linksharedata:l=="RIGHT_COLUMN_STANDARD"?void 0:j,loadingoverlay:this.props.loadingOverlay,skipDisclaimerForAN:this.props.skipDisclaimerForAN,mockupID:k,projectAccessToken:q,videodata:{ad_objective:o},format:l,borderstyle:n,productitemids:p,editable:this.props.editable,placePageID:r,postdata:s,suppresslinks:a,version:this.props.apiVersion?this.props.apiVersion:b("adsPreviewGetPageletAPIVersion")()},{append:!1,crossPage:!0,displayCallback:this.$7,errorHandler:this.$8,transportErrorHandler:this.$8,bundle:this.props.bundle!==void 0?this.props.bundle:!0})};d.$4=function(){var a=b("ReactDOM").findDOMNode(this.refs.pageletContainer);if(!a.querySelector)return;a=a.querySelectorAll(".UFILikeLink, .UFIList, .UFIBlingBox");for(var c=0,d=a.length;c<d;c++)b("ReactDOM").unmountComponentAtNode(a[c].parentNode)};d.$5=function(){return b("ReactDOM").findDOMNode(this.refs.pageletContainer)};d.$6=function(a,b,c,d,e,f,g,h,i,j,k,l,m){return[a,g,b,c,JSON.stringify(d),e,JSON.stringify(f),h,i,j,JSON.stringify(k),l,JSON.stringify(m)].join(":")};return c}(b("React").Component);a.PREVIEW_MESSAGE_FIELD_NAME="PREVIEW_MESSAGE_FIELD_NAME";a.propTypes={adAccountID:(c=b("prop-types")).string.isRequired,adgroupID:c.string,apiFormat:c.string.isRequired,apiVersion:c.string,appID:c.string,borderStyle:c.string,bundle:c.bool,creative:c.object,creativeID:c.string,customPlayMode:c.number,editable:c.bool,lastForceUpdateTimeStamp:c.number,linkShareData:c.object,loadingOverlay:c.oneOf(b("getObjectValues")(b("AdPreviewLoadingOverlayTypes"))),objective:c.string,placePageID:c.string,productItemIDs:c.array,projectAccessToken:c.string,suppresslinks:c.bool,onPreviewLoadFailure:c.func,onPreviewLoadStart:c.func,onPreviewLoadSuccess:c.func,onValidate:c.func};a.defaultProps={appID:b("WebApiApplication").getClientID(),editable:!1};e.exports=a}),null);